"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var os=_interopDefault(require("os")),fs$4=_interopDefault(require("fs")),path$b=_interopDefault(require("path")),stream=_interopDefault(require("stream")),readline$2=_interopDefault(require("readline")),assert=_interopDefault(require("assert")),events$1=_interopDefault(require("events")),tty=_interopDefault(require("tty")),util=_interopDefault(require("util")),child_process=_interopDefault(require("child_process")),buffer$1=_interopDefault(require("buffer")),string_decoder=_interopDefault(require("string_decoder")),crypto=_interopDefault(require("crypto"));function createAssignment(e,t,r={}){return{id:e,dueDate:t,attributes:r}}var Assignment=Object.freeze({createAssignment:createAssignment});const ASSIGNMENT_KEY="assignment",OUTPUT_LOG="db.assignment.log";function setupDatabase(e){return ASSIGNMENT_KEY in e||(e[ASSIGNMENT_KEY]=new Map),e}function clearDatabase(e){return ASSIGNMENT_KEY in e&&e[ASSIGNMENT_KEY].clear(),e}function addAssignment(e,t,r,n,i={}){const o=e[ASSIGNMENT_KEY];let s;if(o.has(t)?s=o.get(t):o.set(t,s={}),r in s)return e.throwError(ASSIGNMENT_KEY,`Found duplicate assignment '${r}' for user '${t}'.`),null;{const e=createAssignment(r,new Date(n.getTime()),i);return s[r]=e,e}}function getAssignmentByID(e,t,r){return e[ASSIGNMENT_KEY].get(t)[r]}function getAssignmentsByUser(e,t){return Object.keys(e[ASSIGNMENT_KEY].get(t))}function outputLog(e,t="."){const r=e[ASSIGNMENT_KEY],n={};for(const[e,t]of r.entries())n[e]=t;const i=`${`${"# ".repeat(20)}\n# Assignments\n# Size: ${r.size}\n${"# ".repeat(20)}`}\n${JSON.stringify(n,null,4)}`;require("fs").writeFileSync(require("path").resolve(t,OUTPUT_LOG),i)}var AssignmentDatabase=Object.freeze({ASSIGNMENT_KEY:ASSIGNMENT_KEY,setupDatabase:setupDatabase,clearDatabase:clearDatabase,addAssignment:addAssignment,getAssignmentByID:getAssignmentByID,getAssignmentsByUser:getAssignmentsByUser,outputLog:outputLog});function stringHash(e=""){let t=0;for(let r=0,n=e.length;r<n;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t}function uuid(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,uuid)}var MathHelper=Object.freeze({stringHash:stringHash,uuid:uuid});function createDatabase(){return{_registry:{},_errors:new Map,throwError(e,t,r={}){let n;n="object"==typeof r&&"id"in r?Array.isArray(r.id)?stringHash(r.id.join(".")):"number"!=typeof r.id?stringHash(JSON.stringify(r.id)):r.id:this._errors.size;let i=1e3;for(;i-- >=0&&this._errors.has(n);)++n;if(i<=0)throw new Error("Invalid error id - too many errors.");const o={id:n,tag:e,message:t,options:[],more:[],toString:()=>`${n} [${e}] ${t}`};if("string"==typeof r)o.options.push(r);else if("object"==typeof r){if("options"in r)if(Array.isArray(r.options))for(const e of r.options)o.options.push(e);else o.options.push(option);"more"in r&&(o.more=r.more)}this._errors.set(n,o)},getErrorByID(e){return this._errors.get(e)},clearErrors(){this._errors.clear()},getErrors(){return Array.from(this._errors.values())}}}var Database=Object.freeze({createDatabase:createDatabase});function createReview(e,t,r,n,i){return{id:e,date:t,comment:r,type:n,params:i}}var Review=Object.freeze({createReview:createReview});const REVIEW_KEY="review",OUTPUT_LOG$1="db.review.log";function setupDatabase$1(e){return REVIEW_KEY in e||(e[REVIEW_KEY]=new Map),e}function clearDatabase$1(e){return REVIEW_KEY in e&&e[REVIEW_KEY].clear(),e}function addReview(e,t,r,n,i,o){const s=e[REVIEW_KEY];if(s.has(t))return e.throwError(REVIEW_KEY,`Found duplicate id for review '${t}'.`),null;{const e=createReview(t,r,n,i,o);return s.set(t,e),e}}function getReviews(e){return e[REVIEW_KEY].keys()}function getReviewByID(e,t){return e[REVIEW_KEY].get(t)}function getReviewTypes(e){const t=e[REVIEW_KEY],r=new Set;for(const e of t.values())r.add(e.type);return r}function outputLog$1(e,t="."){const r=e[REVIEW_KEY],n={};for(const[e,t]of r.entries())n[e]=t;const i=`${`${"# ".repeat(20)}\n# Reviews\n# Size: ${r.size}\n${"# ".repeat(20)}`}\n${JSON.stringify(n,null,4)}`;require("fs").writeFileSync(require("path").resolve(t,OUTPUT_LOG$1),i)}var ReviewDatabase=Object.freeze({REVIEW_KEY:REVIEW_KEY,setupDatabase:setupDatabase$1,clearDatabase:clearDatabase$1,addReview:addReview,getReviews:getReviews,getReviewByID:getReviewByID,getReviewTypes:getReviewTypes,outputLog:outputLog$1});const ONE_DAYTIME=864e5;function compareDates(e,t){return e.getTime()-t.getTime()}function isWithinDates(e,t,r){return compareDates(e,t)>=0&&compareDates(e,r)<=0}function getDaysBetween(e,t){return Math.floor(Math.abs(compareDates(t,e))/ONE_DAYTIME)}function getPastSunday(e,t=0){const r=new Date(e.getTime());return r.setUTCDate(r.getUTCDate()-r.getUTCDay()+t),r}function getNextSunday(e,t=0){const r=new Date(e.getTime());return r.setUTCDate(r.getUTCDate()-r.getUTCDay()+7+t),r}function getNextEffectiveSunday(e,t=0){return e.getUTCDay()>t?getNextSunday(new Date(e.getTime()+7*ONE_DAYTIME)):getNextSunday(e)}function offsetDate(e,t=0){const r=new Date(e.getTime());return t&&r.setUTCDate(r.getUTCDate()+t),r}var DateUtil=Object.freeze({ONE_DAYTIME:ONE_DAYTIME,compareDates:compareDates,isWithinDates:isWithinDates,getDaysBetween:getDaysBetween,getPastSunday:getPastSunday,getNextSunday:getNextSunday,getNextEffectiveSunday:getNextEffectiveSunday,offsetDate:offsetDate});const ONE_DAYTIME$1=864e5;function calculateNumberOfSlipDays(e){return 3*e.weeks}function createSchedule(e,t,r={}){const n=r.threshold||0,i=ONE_DAYTIME$1*n,o=getNextEffectiveSunday(e,n),s=t.getTime()-i,u=getPastSunday(e),a=new Date(u.getTime());let c=0;for(;a.getTime()<s;)a.setUTCDate(a.getUTCDate()+7),++c;return{startDate:e,endDate:t,weeks:c,startSunday:u,firstSunday:o,lastSunday:a}}var Schedule=Object.freeze({ONE_DAYTIME:ONE_DAYTIME$1,calculateNumberOfSlipDays:calculateNumberOfSlipDays,createSchedule:createSchedule});function createSubmission(e,t,r,n,i={}){return{id:e,owner:t,assignment:r,date:n,attributes:i}}var Submission=Object.freeze({createSubmission:createSubmission});const SUBMISSION_KEY="submission",SUBMISSION_OWNER_KEY="owner",SUBMISSION_LIST_KEY="list",OUTPUT_LOG$2="db.submission.log";function setupDatabase$2(e){SUBMISSION_KEY in e||(e[SUBMISSION_KEY]={});const t=e[SUBMISSION_KEY];return SUBMISSION_OWNER_KEY in t||(t[SUBMISSION_OWNER_KEY]=new Map),SUBMISSION_LIST_KEY in t||(t[SUBMISSION_LIST_KEY]=new Map),e}function clearDatabase$2(e){return SUBMISSION_KEY in e&&(e[SUBMISSION_KEY][SUBMISSION_OWNER_KEY].clear(),e[SUBMISSION_KEY][SUBMISSION_LIST_KEY].clear()),e}function addSubmission(e,t,r,n,i,o={}){const s=e[SUBMISSION_KEY],u=s[SUBMISSION_OWNER_KEY],a=s[SUBMISSION_LIST_KEY];if(a.has(t))return e.throwError(SUBMISSION_KEY,`Found duplicate id for submission '${t}'.`),null;{Array.isArray(r)&&(r=r[0]);const e=createSubmission(t,r,n,i,o);let s=u.get(r);return s||u.set(r,s={}),addSubmissionToAssignment(e,n,s),a.set(t,e),e}}function addSubmissionToAssignment(e,t,r){if(e.assignment=t,t in r){const n=r[t];let i=0;for(;i<n.length&&!(compareDates(e.date,n[i].date)<0);++i);n.splice(i,0,e)}else r[t]=[e];return e}function changeSubmissionAssignment(e,t,r){const n=e[SUBMISSION_KEY][SUBMISSION_OWNER_KEY].get(t.owner),i=n[t.assignment],o=i.indexOf(t);if(!(o>=0))throw new Error(`Cannot find submission for assignment ${t.assignment}.`);return i.splice(o,1),i.length<=0&&delete n[t.assignment],void 0!==r&&addSubmissionToAssignment(t,r,n),t}function getAssignedSubmissionsByOwnerKey(e,t){return e[SUBMISSION_KEY][SUBMISSION_OWNER_KEY].get(t)}function getSubmissionByID(e,t){return e[SUBMISSION_KEY][SUBMISSION_LIST_KEY].get(t)}function getOwners(e){return e[SUBMISSION_KEY][SUBMISSION_OWNER_KEY].keys()}function getSubmissions(e){return e[SUBMISSION_KEY][SUBMISSION_LIST_KEY].keys()}function clearSubmissionsByOwner(e,t){const r=e[SUBMISSION_KEY][SUBMISSION_LIST_KEY],n=getAssignedSubmissionsByOwnerKey(e,t);if(n)for(const e of Object.values(n))for(const t of e)r.delete(t.id);e[SUBMISSION_KEY][SUBMISSION_OWNER_KEY].delete(t)}function removeSubmissionByID(e,t){const r=e[SUBMISSION_KEY][SUBMISSION_LIST_KEY],n=r.get(t);if(!n)throw new Error(`Cannot find submission for id ${t}.`);r.delete(t),changeSubmissionAssignment(e,n)}function outputLog$2(e,t="."){const r=e[SUBMISSION_KEY][SUBMISSION_OWNER_KEY],n=e[SUBMISSION_KEY][SUBMISSION_LIST_KEY],i={owner:{},list:{}};for(const[e,t]of r.entries())i.owner[e]=t;for(const[e,t]of n.entries())i.list[e]=t;const o=`${`${"# ".repeat(20)}\n# Submissions\n# Size: ${n.size}\n${"# ".repeat(20)}`}\n${JSON.stringify(i,null,4)}`;require("fs").writeFileSync(require("path").resolve(t,OUTPUT_LOG$2),o)}var SubmissionDatabase=Object.freeze({SUBMISSION_KEY:SUBMISSION_KEY,SUBMISSION_OWNER_KEY:SUBMISSION_OWNER_KEY,SUBMISSION_LIST_KEY:SUBMISSION_LIST_KEY,setupDatabase:setupDatabase$2,clearDatabase:clearDatabase$2,addSubmission:addSubmission,addSubmissionToAssignment:addSubmissionToAssignment,changeSubmissionAssignment:changeSubmissionAssignment,getAssignedSubmissionsByOwnerKey:getAssignedSubmissionsByOwnerKey,getSubmissionByID:getSubmissionByID,getOwners:getOwners,getSubmissions:getSubmissions,clearSubmissionsByOwner:clearSubmissionsByOwner,removeSubmissionByID:removeSubmissionByID,outputLog:outputLog$2});function createUser(e,t,r,n,i,o,s){return{id:e,ownerKey:t,name:r,schedule:createSchedule(n,i,o),attributes:s}}var User=Object.freeze({createUser:createUser});const USER_KEY="user",OUTPUT_LOG$3="db.user.log";function setupDatabase$3(e){return USER_KEY in e||(e[USER_KEY]=new Map),e}function clearDatabase$3(e){return USER_KEY in e&&e[USER_KEY].clear(),e}function addUser(e,t,r,n,i,o,s,u={}){const a=e[USER_KEY];if(a.has(t))return e.throwError(USER_KEY,`Found duplicate id for user '${t}'.`),null;{const e=createUser(t,r,n,i,o,s,u);return a.set(t,e),e}}function getUsers(e){return e[USER_KEY].keys()}function getUserByID(e,t){return e[USER_KEY].get(t)}function getUserByOwnerKey(e,t){const r=e[USER_KEY];for(const e of r.values())if(Array.isArray(e.ownerKey)){if(e.ownerKey.includes(t))return e.id}else if(e.ownerKey==t)return e.id;return null}function getUsersByAttribute(e,t,r){let n=[];const i=e[USER_KEY];for(const e of i.values())if(t in e.attributes){const i=e.attributes[t];Array.isArray(i)?i.includes(r)&&n.push(e.id):i==r&&n.push(e.id)}else null===r&&n.push(e.id);return n}function getOwnerKeysForUserID(e,t){const r=e[USER_KEY].get(t).ownerKey;return Array.isArray(r)?r:[r]}function outputLog$3(e,t="."){const r=e[USER_KEY],n={};for(const[e,t]of r.entries())n[e]=t;const i=`${`${"# ".repeat(20)}\n# Users\n# Size: ${r.size}\n${"# ".repeat(20)}`}\n${JSON.stringify(n,null,4)}`;require("fs").writeFileSync(require("path").resolve(t,OUTPUT_LOG$3),i)}var UserDatabase=Object.freeze({USER_KEY:USER_KEY,setupDatabase:setupDatabase$3,clearDatabase:clearDatabase$3,addUser:addUser,getUsers:getUsers,getUserByID:getUserByID,getUserByOwnerKey:getUserByOwnerKey,getUsersByAttribute:getUsersByAttribute,getOwnerKeysForUserID:getOwnerKeysForUserID,outputLog:outputLog$3});function computeDatesWithPadding(e,t,r){switch(e){case"week":return[getPastSunday(t),getNextEffectiveSunday(r,3)];default:const n=Number(e);if(Number.isNaN(n))throw new Error(`Unknown padding type '${e}'.`);return[new Date(t.getTime()-ONE_DAYTIME*n),new Date(r.getTime()+ONE_DAYTIME*n)]}}function createVacation(e,t,r,n,i,o){const[s,u]=computeDatesWithPadding(i,r,n);return{id:e,ownerKey:t,userStartDate:r,userEndDate:n,effectiveStartDate:s,effectiveEndDate:u,padding:i,duration:getDaysBetween(r,n),attributes:o}}var Vacation=Object.freeze({createVacation:createVacation});const VACATION_KEY="vacation",OUTPUT_LOG$4="db.vacation.log";function setupDatabase$4(e){return VACATION_KEY in e||(e[VACATION_KEY]=new Map),e}function clearDatabase$4(e){return VACATION_KEY in e&&e[VACATION_KEY].clear(),e}function addVacation(e,t,r,n,i=n,o=0,s={}){const u=e[VACATION_KEY];if(u.has(t))return e.throwError(VACATION_KEY,`Found duplicate id for vacation '${t}'.`),null;{const e=createVacation(t,r,n,i,o,s);return u.set(t,e),e}}function offsetDateByVacations(e,t,r){const n=e[VACATION_KEY],i=getVacationsByOwnerKeys(e,t);i.sort((e,t)=>n.get(e).effectiveStartDate.getTime()-n.get(t).effectiveStartDate.getTime());let o=new Date(r.getTime());for(const e of i){const t=n.get(e);if(isWithinDates(o,t.effectiveStartDate,t.effectiveEndDate)){const e=getDaysBetween(o,t.effectiveStartDate);o.setTime(o.getTime()+e*ONE_DAYTIME)}}return o}function getVacations(e){return e[VACATION_KEY].keys()}function getVacationByID(e,t){return e[VACATION_KEY].get(t)}function getVacationsByOwnerKeys(e,t){const r=e[VACATION_KEY],n=[];for(const e of r.values())t.includes(e.ownerKey)&&n.push(e.id);return n}function getVacationsByAttribute(e,t,r){let n=[];const i=e[VACATION_KEY];for(const e of i.values())if(t in e.attributes){const i=e.attributes[t];Array.isArray(i)?i.includes(r)&&n.push(e.id):i==r&&n.push(e.id)}else null===r&&n.push(e.id);return n}function outputLog$4(e,t="."){const r=e[VACATION_KEY],n={};for(const[e,t]of r.entries())n[e]=t;const i=`${`${"# ".repeat(20)}\n# Vacations\n# Size: ${r.size}\n${"# ".repeat(20)}`}\n${JSON.stringify(n,null,4)}`;require("fs").writeFileSync(require("path").resolve(t,OUTPUT_LOG$4),i)}var VacationDatabase=Object.freeze({VACATION_KEY:VACATION_KEY,setupDatabase:setupDatabase$4,clearDatabase:clearDatabase$4,addVacation:addVacation,offsetDateByVacations:offsetDateByVacations,getVacations:getVacations,getVacationByID:getVacationByID,getVacationsByOwnerKeys:getVacationsByOwnerKeys,getVacationsByAttribute:getVacationsByAttribute,outputLog:outputLog$4});const fs=require("fs"),path=require("path"),readline=require("readline"),Papa=require("papaparse");function readJSONFile(e){const t=fs.readFileSync(e);return JSON.parse(t)}function readCSVFileByRow(e,t){return new Promise((r,n)=>{const i=fs.createReadStream(e);Papa.parse(i,{step:e=>t(e.data),complete:r,error:n})})}function readFileByLine(e,t){return new Promise((r,n)=>{const i=fs.createReadStream(e),o=readline.createInterface({input:i});i.on("error",e=>{console.error(e),n(e)}),o.on("line",t),o.on("close",()=>{r()})})}function writeToFile(e,t){fs.mkdirSync(path.dirname(e),{recursive:!0}),fs.writeFile(e,t,function(t){if(t)return console.log(t);console.log("File saved:",e)})}function writeTableToCSV(e,t){writeToFile(e,t.map(e=>e.join(",")).join("\n"))}var FileUtil=Object.freeze({readJSONFile:readJSONFile,readCSVFileByRow:readCSVFileByRow,readFileByLine:readFileByLine,writeToFile:writeToFile,writeTableToCSV:writeTableToCSV});const path$1=require("path"),fs$1=require("fs"),DEFAULT_CONFIG_FILE_NAME="config.json";async function loadConfig(e){if(!fs$1.existsSync(e))return Promise.reject(`Cannot find non-existant path '${e}'.`);let t,r;if(fs$1.lstatSync(e).isDirectory()){if(r=e,e=path$1.resolve(r,DEFAULT_CONFIG_FILE_NAME),!fs$1.existsSync(e))return Promise.reject(`Cannot find config file in directory '${r}'.`)}else r=path$1.dirname(e);try{t=readJSONFile(e)}catch(e){return Promise.reject(["Failed to parse config file:","=>",e,"<="])}if("include"in(t=resolveConfigPaths(r,t))){const e=[],r=[];for(const n of t.include)try{const t=await loadConfig(n);r.push(t)}catch(t){e.push(t)}if(e.length>0)return Promise.reject(["Failed to resolve config includes:","=>",e,"<="]);const n=r.reduce((e,t)=>mergeConfigs(t,e),{});t=mergeConfigs(t,n)}return t}function resolveConfigEntry(e,t,r){if(t.toLowerCase().endsWith("path"))return resolveConfigPathEntry(e,r);if(Array.isArray(r)){let t=[];for(const n in r)t.push(resolveConfigEntry(e,n,r[n]));return t}if("object"==typeof r){let t={};for(const[n,i]of Object.entries(r))t[n]=resolveConfigEntry(e,n,i);return t}return r}function resolveConfigPathEntry(e,t){if(Array.isArray(t)){let r=[];for(const n of t)r.push(resolveConfigPathEntry(e,n));return r}return"object"==typeof t?resolveConfigPaths(e,t):"string"==typeof t?path$1.resolve(e,t):t}function resolveConfigPaths(e,t){const r=resolveConfigEntry(e,"",t);return"include"in t&&Array.isArray(t.include)&&(r.include=t.include.map(t=>resolveConfigPathEntry(e,t))),r}function mergeConfigs(e,t){for(const[r,n]of Object.entries(e))r in t?Array.isArray(t[r])&&(Array.isArray(n)?t[r]=t[r].concat(n):t[r].push(n)):t[r]=e[r];return t}var ConfigLoader=Object.freeze({loadConfig:loadConfig});function parseDate(e){const t=new Date(1e3),r=Number(e.substring(0,4)),n=Number(e.substring(5,7)),i=Number(e.substring(8,10)),o=Number(e.substring(11,13)),s=Number(e.substring(14,16)),u=Number(e.substring(17,19));if(NaN===r||NaN===n||NaN===i||NaN===o||NaN===s||NaN===u)throw new Error("Invalid date format - should be YYYY-MM-DD HH:MM:SS.");return t.setUTCFullYear(r),t.setUTCMonth(n-1),t.setUTCDate(i),t.setUTCHours(o),t.setUTCMinutes(s),t.setUTCSeconds(u),t}function parseAmericanDate(e){const t=new Date(1e3),r=e.split("/"),n=Number(r[2]),i=Number(r[0]),o=Number(r[1]);if(NaN===n||NaN===i||NaN===o)throw new Error("Invalid date format - should be MM/DD/YYYY.");return t.setUTCFullYear(n),t.setUTCMonth(i-1),t.setUTCDate(o),t}var ParseUtil=Object.freeze({parseDate:parseDate,parseAmericanDate:parseAmericanDate});async function setupDatabase$5(e){const t=createDatabase();let r;return r="currentDate"in e?parseAmericanDate(e.currentDate):new Date(Date.now()),t.currentDate=r,setupDatabase$3(t),setupDatabase$2(t),setupDatabase(t),setupDatabase$1(t),setupDatabase$4(t),t}async function clearDatabase$5(e,t){return clearDatabase$3(e),clearDatabase$2(e),clearDatabase(e),clearDatabase$1(e),clearDatabase$4(e),e.clearErrors(),e}var DatabaseSetup=Object.freeze({setupDatabase:setupDatabase$5,clearDatabase:clearDatabase$5});const path$2=require("path"),fs$2=require("fs");async function loadParsers(e,t){const r=e._registry;let n;if(n="parsers"in r&&Array.isArray(r.parsers)?r.parsers:r.parsers=[],!("parsers"in t))return Promise.resolve(n);const i=[],o=t.inputPath||".";for(const e of t.parsers){const t=e.filePath,r=e.inputFile;if(!t){i.push("Invalid parser config:","=>","Missing 'filePath' for parser.","<=");continue}if(!fs$2.existsSync(t)){i.push(`Cannot find parser script file '${path$2.basename(t)}':`,"=>",`File does not exist: '${t}'.`,"<=");continue}if(!r){i.push("Invalid parser config:","=>",`Missing 'inputFile' for parser '${t}'.`,"<=");continue}const s=path$2.resolve(o,e.inputFile);if(!fs$2.existsSync(s)){i.push(`Cannot find parser input file '${path$2.basename(s)}':`,"=>",`File does not exist: '${s}'.`,"<=");continue}let u;try{u=require(t)}catch(e){i.push("Unable to import parser file:","=>",`File: '${t}'`,e,"<=");continue}n.push([u,t,s,e.opts])}return i.length>0?Promise.reject(["Failed to resolve parsers from config:","=>",i,"<="]):Promise.resolve(n)}var ParserLoader=Object.freeze({loadParsers:loadParsers});const path$3=require("path"),fs$3=require("fs");async function loadAssigners(e,t){const r=e._registry;let n;if(n="assigners"in r&&Array.isArray(r.assigners)?r.assigners:r.assigners=[],!("assignments"in t))return Promise.resolve(n);const i=[];for(const e of t.assignments){const t=e.name,r=e.filePath;if(!t){i.push("Invalid assignment config:","=>","Missing 'name' for assignment config.","<=");continue}if(!r){i.push("Invalid assignment config:","=>","Missing 'filePath' for assignment config.","<=");continue}if(!fs$3.existsSync(r)){i.push(`Cannot find assigner script file '${path$3.basename(r)}':`,"=>",`File does not exist: '${r}'.`,"<=");continue}let o;try{o=require(r)}catch(e){i.push("Unable to import assigner file:","=>",`File: '${r}'`,e,"<=");continue}n.push([o,r,t,e.opts])}return i.length>0?Promise.reject(["Failed to resolve assignments from config:","=>",i,"<="]):Promise.resolve(n)}var AssignerLoader=Object.freeze({loadAssigners:loadAssigners});const path$4=require("path");async function processInputs(e,t){const r=e._registry;if(!("parsers"in r&&Array.isArray(r.parsers)))return Promise.resolve([]);const n=[];for(const t of r.parsers){const[r,i,o,s]=t;console.log(`......Parsing '${path$4.basename(o)}' with '${path$4.basename(i)}'...`),n.push(r.parse(e,o,s))}return Promise.all(n)}var InputProcessor=Object.freeze({processInputs:processInputs});const path$5=require("path");async function processAssignments(e,t){const r=e._registry;if(!("assigners"in r&&Array.isArray(r.assigners)))return Promise.resolve([]);const n=[];for(const t of r.assigners){const[r,i,o,s]=t;console.log(`......Assigning '${path$5.basename(o)}' with '${path$5.basename(i)}'...`);for(const t of getUsers(e)){const i=getUserByID(e,t).schedule;n.push(r.assign(e,o,t,i,s))}}return Promise.all(n)}var AssignmentProcessor=Object.freeze({processAssignments:processAssignments});const REVIEWERS=new Map;function registerReviewer(e){REVIEWERS.set(e.REVIEW_TYPE,e)}function getReviewerByType(e){return REVIEWERS.has(e)?REVIEWERS.get(e):REVIEWERS.get("null")}function getReviewers(){return REVIEWERS.values()}async function processReviews(e,t){const r=[];for(const t of getReviews(e)){const n=getReviewByID(e,t),i=n.type,o=n.params,s=getReviewerByType(i);r.push(s.review(e,t,i,o))}return Promise.all(r)}var ReviewProcessor=Object.freeze({processReviews:processReviews});const PROCESSORS=new Map;function registerEvent(e){if(PROCESSORS.has(e))throw new Error("Event already registered.");PROCESSORS.set(e,[])}function addProcessor(e,t){if(!PROCESSORS.has(e))throw new Error(`Unknown processor event '${e}'.`);PROCESSORS.get(e).push(t)}function getProcessors(e){if(PROCESSORS.has(e))return PROCESSORS.get(e);throw new Error(`Unknown processor event '${e}'.`)}async function processDatabase(e,t){const r=getProcessors("post"),n=[];for(const t of r)n.push(t.resolve(e));return Promise.all(n)}registerEvent("post");var PostProcessor=Object.freeze({processDatabase:processDatabase});const IDENTITY=function(e){return e};class TableBuilder{constructor(){this.entries=[],this.columns=[]}addEntry(...e){this.entries.push(e)}addColumn(e,t=IDENTITY){this.columns.push({header:e,data:t})}build(){const e=[];for(const t of this.columns)e.push(t.header);const t=[];t.push(e);for(const e of this.entries){const r=[];for(const t of this.columns){const n=t.data.apply(null,e);r.push(n)}t.push(r)}return t}}const path$6=require("path");async function output(e,t,r){const n=new TableBuilder;n.addColumn("User ID"),n.addColumn("Name",t=>getUserByID(e,t).name),n.addColumn("Used Slips",t=>getUserByID(e,t).attributes.slips.used),n.addColumn("Remaining Slips",t=>getUserByID(e,t).attributes.slips.remaining),n.addColumn("Average Slips (Median)",t=>getUserByID(e,t).attributes.slips.median),n.addColumn("Max Slips",t=>getUserByID(e,t).attributes.slips.max),n.addColumn("Missing Assignments",t=>getUserByID(e,t).attributes.progress.missing),n.addColumn("Auto-report",t=>{let r=!1;const n=getUserByID(e,t).attributes;return n.slips.mean*(n.progress.missing+n.progress.unassigned)>n.slips.max&&(r=!0),r?"NOTICE!":"N/A"});const i=new Set;for(const t of getUsers(e)){const r=getAssignmentsByUser(e,t);for(const n of r)if(!i.has(n)){"_"!==getAssignmentByID(e,t,n).attributes.status&&i.add(n)}}const o=Array.from(i).reverse();for(const t of o)n.addColumn(t+" Status",r=>{const n=getAssignmentByID(e,r,t);return n?n.attributes.status:"!ERROR"}),n.addColumn(t+" Slips",r=>{const n=getAssignmentByID(e,r,t);return n?n.attributes.slipDays:"!ERROR"});for(const t of getUsers(e))n.addEntry(t);const s=n.build();writeTableToCSV(path$6.resolve(t,"slip-days.csv"),s)}const path$7=require("path");function stringifyStatus(e,t=0){let r,n,i;switch(r="N"===e&&t>0?"+?":"",n=t>0?` (${t}${r} slip day(s) used)`:"",e){case"Y":i="Completed";break;case"N":i="Missing";break;case"_":i="Not yet assigned";break;default:i="Unknown"}return i+n}function generateProgressReport(e,t){const r=getUserByID(e,t),n=[];n.push("Name:",r.name),n.push("PID:",r.attributes.pid),n.push("Date:",e.currentDate.toDateString()),n.push("Your weekly student report:"),n.push("");const i=getAssignmentsByUser(e,t),o=[],s=[];let u=0,a=0;for(const r of i){const i=getAssignmentByID(e,t,r);"N"===i.attributes.status?(s.push(i),a+=1):"?"===i.attributes.status&&o.push(i),u+=i.attributes.slipDays,n.push(i.id," - ",stringifyStatus(i.attributes.status,i.attributes.slipDays))}n.push("");const c=r.schedule,l=calculateNumberOfSlipDays(c);return n.push("Weeks Remaining:",c.weeks-(i.length-s.length)),n.push("Daily accruing slip days:",a),n.push("Remaining slip days available:",l-u),n.push(""),s.length>0&&(n.push("IMPORTANT:"),n.push(""),n.push("Missing assignment for "+s.map(e=>e.id).join(", ")+"."),n.push(""),n.push("You must turn in all assignments, even if late. These will continue to accrue slip-days until it is turned in."),n.push("")),o.length>0&&n.push("*In-Review: Significant difference has been found for the submission for the week past the deadline. A review is being conducted to evaluate number slip days used. Until resolved, it will assume the latest submission time is accurate."),n.push(""),n.join("\\n")}function generateNoticeReport(e,t){return"N/A"}async function output$1(e,t,r){const n=new TableBuilder;n.addColumn("User ID"),n.addColumn("User Name",t=>getUserByID(e,t).name),n.addColumn("Progress Report",t=>generateProgressReport(e,t)),n.addColumn("Notice Report",e=>generateNoticeReport());for(const t of getUsers(e))n.addEntry(t);const i=n.build();writeTableToCSV(path$7.resolve(t,"reports.csv"),i)}const path$8=require("path");async function processOutput(e,t){return console.log("......Generating reports for you..."),Promise.all([output(e,t.outputPath),output$1(e,t.outputPath)])}var OutputProcessor=Object.freeze({processOutput:processOutput});function parseName(e){return e}function parseEmail(e,...t){const r=e.split(",").map(e=>{if(e)return e.trim().toLowerCase()});if(t.length>0)for(const e of t){const t=parseEmail(e);if(Array.isArray(t))for(const e of t)r.push(e);else r.push(t)}return 1===r.length?r[0]:r}var FieldParser=Object.freeze({parseName:parseName,parseEmail:parseEmail});const path$9=require("path");async function output$2(e,t,r){let n;if(outputLog$3(e,t),outputLog$2(e,t),outputLog(e,t),outputLog$1(e,t),outputLog$4(e,t),writeToFile(path$9.resolve(t,"config.log"),JSON.stringify(r,null,4)),e.getErrors().length<=0)n="HOORAY! No errors!";else{let t=[];for(const r of e.getErrors())t.push(`${r.id}: [${r.tag}] ${r.message}\n=== SOLUTIONS: ===\n => ${r.options.join("\n => ")}\n=== MOREINFO: ===\n${r.more.join("\n")}\n`);n="It's okay. We'll get through this.\n\n"+t.join("\n")}writeToFile(path$9.resolve(t,"errors.txt"),n)}var DebugInfoOutput=Object.freeze({output:output$2});const DAYS_PER_WEEK=7,MAX_GENERATED_ASSIGNMENTS=100;function assign(e,t,r,n,i={}){return addAssignment(e,t,r,offsetDateByVacations(e,getOwnerKeysForUserID(e,t),n),i)}function assignWeekly(e,t,r,n,i,o=0,s={}){const u=[];let a;(a=n.getUTCDay()<o?getNextSunday(n):getPastSunday(n)).setUTCDate(a.getUTCDate()+o);const c=getOwnerKeysForUserID(e,t);a=offsetDateByVacations(e,c,a);let l=1;for(;compareDates(a,i)<=0;){const n=addAssignment(e,t,`${r}[${l}]`,a,Object.assign({},s));if(u.push(n),a.setUTCDate(a.getUTCDate()+DAYS_PER_WEEK),a=offsetDateByVacations(e,c,a),++l>=MAX_GENERATED_ASSIGNMENTS)break}return u}var AssignmentGenerator=Object.freeze({assign:assign,assignWeekly:assignWeekly});const ERROR_TAG="REVIEW",REVIEW_TYPE="null",REVIEW_DESC="Unknown review type.",REVIEW_PARAM_TYPES=[];async function review(e,t,r,n){e.throwError(ERROR_TAG,`Unhandled review type ${r} for review '${t}'.`,{id:[t,r],options:["You probably misspelled the review type.",`Ask the developer to handle a new '${r}' review type.`]})}var NullReviewer=Object.freeze({REVIEW_TYPE:"null",REVIEW_DESC:REVIEW_DESC,REVIEW_PARAM_TYPES:REVIEW_PARAM_TYPES,review:review});const ERROR_TAG$1="REVIEW",REVIEW_TYPE$1="change_assignment",REVIEW_DESC$1="Change assignment for submission.",REVIEW_PARAM_TYPES$1=["Submission ID","Assignment ID"];async function review$1(e,t,r,n){r!==REVIEW_TYPE$1&&e.throwError(ERROR_TAG$1,`Mismatched review type - '${REVIEW_TYPE$1}' reviewer cannot process review type '${r}'.`),n.length<2&&e.throwError(ERROR_TAG$1,"Missing review params - expected 2 parameters.",{id:[t,r],options:["Add more parameters to the review."]});const i=getSubmissionByID(e,n[1]);i?changeSubmissionAssignment(e,i,n[0]):e.throwError(ERROR_TAG$1,`Invalid review param - unable to find submission for id '${n[1]}'.`,{id:[t,r],options:["The submission for that id is missing from the database.","Or it's the wrong id."]})}var SubmissionChangeAssignmentReviewer=Object.freeze({REVIEW_TYPE:REVIEW_TYPE$1,REVIEW_DESC:REVIEW_DESC$1,REVIEW_PARAM_TYPES:REVIEW_PARAM_TYPES$1,review:review$1});const ERROR_TAG$2="REVIEW",REVIEW_TYPE$2="ignore_owner",REVIEW_DESC$2="Ignore submissions by owner.",REVIEW_PARAM_TYPES$2=["Owner Key"];async function review$2(e,t,r,n){r!==REVIEW_TYPE$2&&e.throwError(ERROR_TAG$2,`Mismatched review type - '${REVIEW_TYPE$2}' reviewer cannot process review type '${r}'.`),n.length<1&&e.throwError(ERROR_TAG$2,"Missing review params - expected 1 parameter.",{id:[t,r],options:["Add more parameters to the review."]}),clearSubmissionsByOwner(e,n[0])}var SubmissionIgnoreOwnerReviewer=Object.freeze({REVIEW_TYPE:REVIEW_TYPE$2,REVIEW_DESC:REVIEW_DESC$2,REVIEW_PARAM_TYPES:REVIEW_PARAM_TYPES$2,review:review$2});const ERROR_TAG$3="REVIEW",REVIEW_TYPE$3="ignore_submission",REVIEW_DESC$3="Ignore specific submission by id.",REVIEW_PARAM_TYPES$3=["Submission ID"];async function review$3(e,t,r,n){r!==REVIEW_TYPE$3&&e.throwError(ERROR_TAG$3,`Mismatched review type - '${REVIEW_TYPE$3}' reviewer cannot process review type '${r}'.`),n.length<1&&e.throwError(ERROR_TAG$3,"Missing review params - expected 1 parameter.",{id:[t,r],options:["Add more parameters to the review."]});const i=getSubmissionByID(e,n[0]);if(!i)return void e.throwError(ERROR_TAG$3,`Invalid review param - Cannot find submission for id '${n[0]}'.`,{id:[t,r],options:["Submission with this id has probably already been removed.","Or the id is wrong."]});const o=[];for(const t of getSubmissions(e)){const r=getSubmissionByID(e,t);r.owner==i.owner&&r.attributes.content.id==i.attributes.content.id&&o.push(t)}for(const t of o)removeSubmissionByID(e,t)}var SubmissionIgnoreReviewer=Object.freeze({REVIEW_TYPE:REVIEW_TYPE$3,REVIEW_DESC:REVIEW_DESC$3,REVIEW_PARAM_TYPES:REVIEW_PARAM_TYPES$3,review:review$3});const ERROR_TAG$4="REVIEW",REVIEW_TYPE$4="add_submission",REVIEW_DESC$4="Add submission (with assignment) for owner.",REVIEW_PARAM_TYPES$4=["Owner Key","Assignment ID","Submission Date (Optional)","Submission Attributes (Optional)"];async function review$4(e,t,r,n){r!==REVIEW_TYPE$4&&e.throwError(ERROR_TAG$4,`Mismatched review type - '${REVIEW_TYPE$4}' reviewer cannot process review type '${r}'.`),n.length<2&&e.throwError(ERROR_TAG$4,"Missing review params - expected 2 parameters.",{id:[t,r],options:["Add more parameters to the review."]});const i=n[0],o=getUserByOwnerKey(e,i);o||e.throwError(ERROR_TAG$4,`Cannot find user for owner key ${i}`,{id:[t,r],options:[`Add missing owner key '${i}' to a user.`]});const s=n[1];addSubmission(e,i+"#proxy_"+stringHash(`${t}:${i}.${s}`),i,s,n.length>=2?parseAmericanDate(n[2]):new Date(getAssignmentByID(e,o,s).dueDate.getTime()-1),n.length>=3?JSON.parse(n[3]):{})}var SubmissionAddReviewer=Object.freeze({REVIEW_TYPE:REVIEW_TYPE$4,REVIEW_DESC:REVIEW_DESC$4,REVIEW_PARAM_TYPES:REVIEW_PARAM_TYPES$4,review:review$4});const ERROR_TAG$5="REVIEW",REVIEW_TYPE$5="add_owner_key",REVIEW_DESC$5="Add additional owner key for user",REVIEW_PARAM_TYPES$5=["User ID","Owner Key"];async function review$5(e,t,r,n){r!==REVIEW_TYPE$5&&e.throwError(ERROR_TAG$5,`Mismatched review type - '${REVIEW_TYPE$5}' reviewer cannot process review type '${r}'.`),n.length<2&&e.throwError(ERROR_TAG$5,"Missing review params - expected 2 parameter.",{id:[t,r],options:["Add more parameters to the review."]});const i=getUserByID(e,n[0]);if(!i)return void e.throwError(ERROR_TAG$5,`Invalid review param - Cannot find user for id '${n[0]}'.`,{id:[t,r],options:["User with this id has probably already been removed.","Or the id is wrong."]});const o=n[1];i.ownerKey.includes(o)?e.throwError(ERROR_TAG$5,`Invalid review param - Duplicate owner key '${o}' for user.`,{id:[t,r],options:["The user already has this owner key."]}):Array.isArray(i.ownerKey)?i.ownerKey.push(o):i.ownerKey=[i.ownerKey,o]}var UserAddOwnerKeyReviewer=Object.freeze({REVIEW_TYPE:REVIEW_TYPE$5,REVIEW_DESC:REVIEW_DESC$5,REVIEW_PARAM_TYPES:REVIEW_PARAM_TYPES$5,review:review$5});const ERROR_TAG$6="REVIEW",REVIEW_TYPE$6="change_assignment_status",REVIEW_DESC$6="Changes the assignment status and slips for an owner.",REVIEW_PARAM_TYPES$6=["Owner Key","Assignment ID","Status (Y/N/_)","Slip days (Optional)"];async function review$6(e,t,r,n){r!==REVIEW_TYPE$6&&e.throwError(ERROR_TAG$6,`Mismatched review type - '${REVIEW_TYPE$6}' reviewer cannot process review type '${r}'.`),n.length<3&&e.throwError(ERROR_TAG$6,"Missing review params - expected 3 parameters.",{id:[t,r],options:["Add more parameters to the review."]});const i=n[0],o=getUserByOwnerKey(e,i);o||e.throwError(ERROR_TAG$6,`Cannot find user for owner key ${i}`,{id:[t,r],options:[`Add missing owner key '${i}' to a user.`]});const s=n[1],u=n[2],a=n.length>3?Number(n[3]):0,c=getAssignmentByID(e,o,s);c||e.throwError(ERROR_TAG$6,`Cannot find assignment for id ${s}`,{id:[t,r],options:["User may not be assigned this assignment.","Assignment id may not exist."]}),c.attributes.status=u,c.attributes.slipDays=a}var AssignmentChangeStatusReviewer=Object.freeze({REVIEW_TYPE:REVIEW_TYPE$6,REVIEW_DESC:REVIEW_DESC$6,REVIEW_PARAM_TYPES:REVIEW_PARAM_TYPES$6,review:review$6});async function resolve(e){for(const t of getSubmissions(e)){const r=getSubmissionByID(e,t);if("null"===r.assignment){const t=r;let n=!1;const i=getAssignedSubmissionsByOwnerKey(e,t.owner);for(const[r,o]of Object.entries(i))if("null"!==r){for(const r of o)if(t.attributes.content.id===r.attributes.content.id&&(changeSubmissionAssignment(e,t,r.assignment),n=!0),n)break;if(n)break}}}}var AssignSubmissionByPostIDResolver=Object.freeze({resolve:resolve});async function resolve$1(e){for(const t of getOwners(e)){const r=getUserByOwnerKey(e,t);if(r){const n=getUserByID(e,r).name,i=getAssignedSubmissionsByOwnerKey(e,t);if("null"in i){const t=i.null.slice();for(const r of t)r.attributes.content.head.trim()===n&&changeSubmissionAssignment(e,r,"intro")}}}}var AssignSubmissionByIntroResolver=Object.freeze({resolve:resolve$1});const ERROR_TAG$7="POSTPROCESS",SUBMISSION_TYPE_UNKNOWN="unknown",SUBMISSION_TYPE_SOURCE="source",SUBMISSION_TYPE_MINOR_EDIT="minor",SUBMISSION_TYPE_MAJOR_EDIT="major";function evaluatePostType(e,t){return e===t?SUBMISSION_TYPE_SOURCE:e.attributes.content.body==t.attributes.content.body?SUBMISSION_TYPE_MINOR_EDIT:e.attributes.content.body!=t.attributes.content.body?SUBMISSION_TYPE_MAJOR_EDIT:e.attributes.content.head!=t.attributes.content.head?SUBMISSION_TYPE_MINOR_EDIT:SUBMISSION_TYPE_UNKNOWN}function setGradedSubmissionForAssignment(e,t,r,n){getAssignmentByID(e,t,r).attributes.submission=n}function getNearestSubmission(e,t){let r=null,n=1/0;for(const i of e){const e=compareDates(i.date,t);if(r&&e>0)return r;Math.abs(e)<n&&(r=i,n=Math.abs(e))}return r}async function resolve$2(e){for(const t of getOwners(e)){const r=getUserByOwnerKey(e,t);if(r){const n=getAssignedSubmissionsByOwnerKey(e,t);for(const t of Object.keys(n)){const i=n[t],o=getAssignmentByID(e,r,t);if(o){const n=getNearestSubmission(i,o.dueDate);evaluatePostType(i[i.length-1],n);setGradedSubmissionForAssignment(e,r,t,n);for(const e of i)delete e.attributes.content}else for(const n of i)e.throwError(ERROR_TAG$7,`Found unassigned assignment '${t}' with submission '${n.id}' from user '${r}'.`,{id:[r,t],options:["If ill-formatted, we could not automatically deduce the appropriate assignment. Please verify the submitted content and header formats. Try submitting a 'change_assignment' review once you figure out its proper assignment.","It could be a non-assignment submission. Try submitting a 'ignore_submission' review."],more:[JSON.stringify(n,null,4)]})}}else{const r=getAssignedSubmissionsByOwnerKey(e,t);let n=0;for(const e of Object.keys(r))n+=r[e].length;e.throwError(ERROR_TAG$7,`Found ${n} unowned submissions - cannot find user for owner key '${t}'.`,{id:[t],options:["There are submissions without a valid user associated with it. Perhaps someone is using a different owner key? Try submitting a 'add_owner' review once you've found who these submissions belong to.","The owner key may be ill-formatted. Instead of fixing the mispelling, try submitting a 'add_owner' review to associate it back to the user."],more:[JSON.stringify(r,null,4)]})}}}var AssignSubmissionResolver=Object.freeze({resolve:resolve$2});const LATEST_TIMEZONE_OFFSET=432e5;function calculateSlipDays(e,t){const r=Math.floor((t.getTime()+LATEST_TIMEZONE_OFFSET)/ONE_DAYTIME)-Math.floor(e.getTime()/ONE_DAYTIME);return r<0?-r:0}async function resolve$3(e){const t=e.currentDate;for(const r of getUsers(e)){let n=0,i=0,o=0;const s=[];let u=0,a=0;const c=getUserByID(e,r),l=3*c.schedule.weeks,f=getAssignmentsByUser(e,r);for(const c of f){const l=getAssignmentByID(e,r,c);if(!("status"in l.attributes&&"slip"in l.attributes)){const e=l.dueDate;if(compareDates(t,e)<0)l.attributes.status="_",l.attributes.slipDays=0;else{let r;l.attributes.submission?(l.attributes.status="Y",r=l.attributes.submission.date):(l.attributes.status="N",r=t);const n=calculateSlipDays(r,e);l.attributes.slipDays=n}}const f=l.attributes.slipDays;switch(f>0&&(s.push(f),u+=f,++a),l.attributes.status){case"Y":++o;break;case"N":++n;break;case"_":++i;break;default:++i}}let h=0,p=0;if(a>0)if(h=u/a,s.length%2==0){const e=Math.floor(s.length/2);p=e+(e+1)/2}else p=Math.floor(s.length/2);c.attributes.slips={used:u,remaining:l-u,max:l,mean:h,median:p},c.attributes.progress={submitted:o,missing:n,unassigned:i}}}var SlipDayResolver=Object.freeze({resolve:resolve$3});const SCHEME_NAME="piazza",REVIEWERS$1=[NullReviewer,UserAddOwnerKeyReviewer,SubmissionChangeAssignmentReviewer,SubmissionIgnoreOwnerReviewer,SubmissionIgnoreReviewer,SubmissionAddReviewer,AssignmentChangeStatusReviewer],RESOLVERS=[AssignSubmissionByPostIDResolver,AssignSubmissionByIntroResolver,AssignSubmissionResolver,SlipDayResolver];async function setup(e,t){for(const e of REVIEWERS$1)registerReviewer(e);for(const e of RESOLVERS)addProcessor("post",e)}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}function getCjsExportFromNamespace(e){return e&&e.default||e}var matchOperatorsRe=/[|\\{}()[\]^$+*?.]/g,escapeStringRegexp=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(matchOperatorsRe,"\\$&")},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},conversions=createCommonjsModule(function(e){var t={};for(var r in colorName)colorName.hasOwnProperty(r)&&(t[colorName[r]]=r);var n=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var i in n)if(n.hasOwnProperty(i)){if(!("channels"in n[i]))throw new Error("missing channels property: "+i);if(!("labels"in n[i]))throw new Error("missing channel labels property: "+i);if(n[i].labels.length!==n[i].channels)throw new Error("channel and label counts mismatch: "+i);var o=n[i].channels,s=n[i].labels;delete n[i].channels,delete n[i].labels,Object.defineProperty(n[i],"channels",{value:o}),Object.defineProperty(n[i],"labels",{value:s})}n.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,o=e[2]/255,s=Math.min(n,i,o),u=Math.max(n,i,o),a=u-s;return u===s?t=0:n===u?t=(i-o)/a:i===u?t=2+(o-n)/a:o===u&&(t=4+(n-i)/a),(t=Math.min(60*t,360))<0&&(t+=360),r=(s+u)/2,[t,100*(u===s?0:r<=.5?a/(u+s):a/(2-u-s)),100*r]},n.rgb.hsv=function(e){var t,r,n,i,o,s=e[0]/255,u=e[1]/255,a=e[2]/255,c=Math.max(s,u,a),l=c-Math.min(s,u,a),f=function(e){return(c-e)/6/l+.5};return 0===l?i=o=0:(o=l/c,t=f(s),r=f(u),n=f(a),s===c?i=n-r:u===c?i=1/3+t-n:a===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},n.rgb.hwb=function(e){var t=e[0],r=e[1],i=e[2];return[n.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,i))),100*(i=1-1/255*Math.max(t,Math.max(r,i)))]},n.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},n.rgb.keyword=function(e){var r=t[e];if(r)return r;var n,i,o,s=1/0;for(var u in colorName)if(colorName.hasOwnProperty(u)){var a=colorName[u],c=(i=e,o=a,Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)+Math.pow(i[2]-o[2],2));c<s&&(s=c,n=u)}return n},n.keyword.rgb=function(e){return colorName[e]},n.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},n.rgb.lab=function(e){var t=n.rgb.xyz(e),r=t[0],i=t[1],o=t[2];return i/=100,o/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(r-i),200*(i-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},n.hsl.rgb=function(e){var t,r,n,i,o,s=e[0]/360,u=e[1]/100,a=e[2]/100;if(0===u)return[o=255*a,o,o];t=2*a-(r=a<.5?a*(1+u):a+u-a*u),i=[0,0,0];for(var c=0;c<3;c++)(n=s+1/3*-(c-1))<0&&n++,n>1&&n--,o=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[c]=255*o;return i},n.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=o<=1?o:2-o,[t,100*(0===n?2*i/(o+i):2*r/(n+r)),100*((n+r)/2)]},n.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),u=255*n*(1-r*o),a=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,a,s];case 1:return[u,n,s];case 2:return[s,n,a];case 3:return[s,u,n];case 4:return[a,s,n];case 5:return[n,s,u]}},n.hsv.hsl=function(e){var t,r,n,i=e[0],o=e[1]/100,s=e[2]/100,u=Math.max(s,.01);return n=(2-o)*s,r=o*u,[i,100*(r=(r/=(t=(2-o)*u)<=1?t:2-t)||0),100*(n/=2)]},n.hwb.rgb=function(e){var t,r,n,i,o,s,u,a=e[0]/360,c=e[1]/100,l=e[2]/100,f=c+l;switch(f>1&&(c/=f,l/=f),n=6*a-(t=Math.floor(6*a)),0!=(1&t)&&(n=1-n),i=c+n*((r=1-l)-c),t){default:case 6:case 0:o=r,s=i,u=c;break;case 1:o=i,s=r,u=c;break;case 2:o=c,s=r,u=i;break;case 3:o=c,s=i,u=r;break;case 4:o=i,s=c,u=r;break;case 5:o=r,s=c,u=i}return[255*o,255*s,255*u]},n.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},n.xyz.rgb=function(e){var t,r,n,i=e[0]/100,o=e[1]/100,s=e[2]/100;return r=-.9689*i+1.8758*o+.0415*s,n=.0557*i+-.204*o+1.057*s,t=(t=3.2406*i+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},n.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},n.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var o=Math.pow(r,3),s=Math.pow(t,3),u=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,n=u>.008856?u:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},n.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},n.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},n.rgb.ansi16=function(e){var t=e[0],r=e[1],i=e[2],o=1 in arguments?arguments[1]:n.rgb.hsv(e)[2];if(0===(o=Math.round(o/50)))return 30;var s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===o&&(s+=60),s},n.hsv.ansi16=function(e){return n.rgb.ansi16(n.hsv.rgb(e),e[2])},n.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},n.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},n.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},n.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},n.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map(function(e){return e+e}).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},n.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(Math.max(r,n),i),s=Math.min(Math.min(r,n),i),u=o-s;return t=u<=0?0:o===r?(n-i)/u%6:o===n?2+(i-r)/u:4+(r-n)/u+4,t/=6,[360*(t%=1),100*u,100*(u<1?s/(1-u):0)]},n.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},n.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},n.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,o=[0,0,0],s=t%1*6,u=s%1,a=1-u;switch(Math.floor(s)){case 0:o[0]=1,o[1]=u,o[2]=0;break;case 1:o[0]=a,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=u;break;case 3:o[0]=0,o[1]=a,o[2]=1;break;case 4:o[0]=u,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=a}return i=(1-r)*n,[255*(r*o[0]+i),255*(r*o[1]+i),255*(r*o[2]+i)]},n.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},n.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},n.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},n.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},n.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},n.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},n.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},n.gray.hsl=n.gray.hsv=function(e){return[0,0,e[0]]},n.gray.hwb=function(e){return[0,100,e[0]]},n.gray.cmyk=function(e){return[0,0,0,e[0]]},n.gray.lab=function(e){return[e[0],0,0]},n.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},n.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}),conversions_1=conversions.rgb,conversions_2=conversions.hsl,conversions_3=conversions.hsv,conversions_4=conversions.hwb,conversions_5=conversions.cmyk,conversions_6=conversions.xyz,conversions_7=conversions.lab,conversions_8=conversions.lch,conversions_9=conversions.hex,conversions_10=conversions.keyword,conversions_11=conversions.ansi16,conversions_12=conversions.ansi256,conversions_13=conversions.hcg,conversions_14=conversions.apple,conversions_15=conversions.gray;function buildGraph(){for(var e={},t=Object.keys(conversions),r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function deriveBFS(e){var t=buildGraph(),r=[e];for(t[e].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(conversions[n]),o=i.length,s=0;s<o;s++){var u=i[s],a=t[u];-1===a.distance&&(a.distance=t[n].distance+1,a.parent=n,r.unshift(u))}return t}function link(e,t){return function(r){return t(e(r))}}function wrapConversion(e,t){for(var r=[t[e].parent,e],n=conversions[t[e].parent][e],i=t[e].parent;t[i].parent;)r.unshift(t[i].parent),n=link(conversions[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}var route=function(e){for(var t=deriveBFS(e),r={},n=Object.keys(t),i=n.length,o=0;o<i;o++){var s=n[o];null!==t[s].parent&&(r[s]=wrapConversion(s,t))}return r},convert={},models=Object.keys(conversions);function wrapRaw(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function wrapRounded(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}models.forEach(function(e){convert[e]={},Object.defineProperty(convert[e],"channels",{value:conversions[e].channels}),Object.defineProperty(convert[e],"labels",{value:conversions[e].labels});var t=route(e);Object.keys(t).forEach(function(r){var n=t[r];convert[e][r]=wrapRounded(n),convert[e][r].raw=wrapRaw(n)})});var colorConvert=convert,ansiStyles=createCommonjsModule(function(e){const t=(e,t)=>(function(){const r=e.apply(colorConvert,arguments);return`[${r+t}m`}),r=(e,t)=>(function(){const r=e.apply(colorConvert,arguments);return`[${38+t};5;${r}m`}),n=(e,t)=>(function(){const r=e.apply(colorConvert,arguments);return`[${38+t};2;${r[0]};${r[1]};${r[2]}m`});Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,i={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};i.color.grey=i.color.gray;for(const t of Object.keys(i)){const r=i[t];for(const t of Object.keys(r)){const n=r[t];i[t]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[t]=i[t],e.set(n[0],n[1])}Object.defineProperty(i,t,{value:r,enumerable:!1}),Object.defineProperty(i,"codes",{value:e,enumerable:!1})}const o=e=>e,s=(e,t,r)=>[e,t,r];i.color.close="[39m",i.bgColor.close="[49m",i.color.ansi={ansi:t(o,0)},i.color.ansi256={ansi256:r(o,0)},i.color.ansi16m={rgb:n(s,0)},i.bgColor.ansi={ansi:t(o,10)},i.bgColor.ansi256={ansi256:r(o,10)},i.bgColor.ansi16m={rgb:n(s,10)};for(let e of Object.keys(colorConvert)){if("object"!=typeof colorConvert[e])continue;const o=colorConvert[e];"ansi16"===e&&(e="ansi"),"ansi16"in o&&(i.color.ansi[e]=t(o.ansi16,0),i.bgColor.ansi[e]=t(o.ansi16,10)),"ansi256"in o&&(i.color.ansi256[e]=r(o.ansi256,0),i.bgColor.ansi256[e]=r(o.ansi256,10)),"rgb"in o&&(i.color.ansi16m[e]=n(o.rgb,0),i.bgColor.ansi16m[e]=n(o.rgb,10))}return i}})}),hasFlag=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return-1!==n&&(-1===i||n<i)};const env=process.env;let forceColor;function translateLevel(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function supportsColor(e){if(!1===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(e&&!e.isTTY&&!0!==forceColor)return 0;const t=forceColor?1:0;if("win32"===process.platform){const e=os.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in env)||"codeship"===env.CI_NAME?1:t;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){const e=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)?1:"COLORTERM"in env?1:(env.TERM,t)}function getSupportLevel(e){return translateLevel(supportsColor(e))}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")?forceColor=!1:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=!0),"FORCE_COLOR"in env&&(forceColor=0===env.FORCE_COLOR.length||0!==parseInt(env.FORCE_COLOR,10));var supportsColor_1={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)};const TEMPLATE_REGEX=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,ESCAPES=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function unescape(e){return"u"===e[0]&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):ESCAPES.get(e)||e}function parseArguments(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let i;for(const t of n)if(isNaN(t)){if(!(i=t.match(STRING_REGEX)))throw new Error(`Invalid Chalk template style argument: ${t} (in style '${e}')`);r.push(i[2].replace(ESCAPE_REGEX,(e,t,r)=>t?unescape(t):r))}else r.push(Number(t));return r}function parseStyle(e){STYLE_REGEX.lastIndex=0;const t=[];let r;for(;null!==(r=STYLE_REGEX.exec(e));){const e=r[1];if(r[2]){const n=parseArguments(e,r[2]);t.push([e].concat(n))}else t.push([e])}return t}function buildStyle(e,t){const r={};for(const e of t)for(const t of e.styles)r[t[0]]=e.inverse?null:t.slice(1);let n=e;for(const e of Object.keys(r))if(Array.isArray(r[e])){if(!(e in n))throw new Error(`Unknown Chalk style: ${e}`);n=r[e].length>0?n[e].apply(n,r[e]):n[e]}return n}var templates=(e,t)=>{const r=[],n=[];let i=[];if(t.replace(TEMPLATE_REGEX,(t,o,s,u,a,c)=>{if(o)i.push(unescape(o));else if(u){const t=i.join("");i=[],n.push(0===r.length?t:buildStyle(e,r)(t)),r.push({inverse:s,styles:parseStyle(u)})}else if(a){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");n.push(buildStyle(e,r)(i.join(""))),i=[],r.pop()}else i.push(c)}),n.push(i.join("")),r.length>0){const e=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`;throw new Error(e)}return n.join("")},chalk=createCommonjsModule(function(e){const t=supportsColor_1.stdout,r="win32"===process.platform&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),n=["ansi","ansi","ansi256","ansi16m"],i=new Set(["gray"]),o=Object.create(null);function s(e,r){r=r||{};const n=t?t.level:0;e.level=void 0===r.level?n:r.level,e.enabled="enabled"in r?r.enabled:e.level>0}function u(e){if(!this||!(this instanceof u)||this.template){const t={};return s(t,e),t.template=function(){const e=[].slice.call(arguments);return f.apply(null,[t.template].concat(e))},Object.setPrototypeOf(t,u.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=u,t.template}s(this,e)}r&&(ansiStyles.blue.open="[94m");for(const e of Object.keys(ansiStyles))ansiStyles[e].closeRe=new RegExp(escapeStringRegexp(ansiStyles[e].close),"g"),o[e]={get(){const t=ansiStyles[e];return c.call(this,this._styles?this._styles.concat(t):[t],this._empty,e)}};o.visible={get(){return c.call(this,this._styles||[],!0,"visible")}},ansiStyles.color.closeRe=new RegExp(escapeStringRegexp(ansiStyles.color.close),"g");for(const e of Object.keys(ansiStyles.color.ansi))i.has(e)||(o[e]={get(){const t=this.level;return function(){const r=ansiStyles.color[n[t]][e].apply(null,arguments),i={open:r,close:ansiStyles.color.close,closeRe:ansiStyles.color.closeRe};return c.call(this,this._styles?this._styles.concat(i):[i],this._empty,e)}}});ansiStyles.bgColor.closeRe=new RegExp(escapeStringRegexp(ansiStyles.bgColor.close),"g");for(const e of Object.keys(ansiStyles.bgColor.ansi)){if(i.has(e))continue;o["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const t=this.level;return function(){const r=ansiStyles.bgColor[n[t]][e].apply(null,arguments),i={open:r,close:ansiStyles.bgColor.close,closeRe:ansiStyles.bgColor.closeRe};return c.call(this,this._styles?this._styles.concat(i):[i],this._empty,e)}}}}const a=Object.defineProperties(()=>{},o);function c(e,t,r){const n=function(){return l.apply(n,arguments)};n._styles=e,n._empty=t;const i=this;return Object.defineProperty(n,"level",{enumerable:!0,get:()=>i.level,set(e){i.level=e}}),Object.defineProperty(n,"enabled",{enumerable:!0,get:()=>i.enabled,set(e){i.enabled=e}}),n.hasGrey=this.hasGrey||"gray"===r||"grey"===r,n.__proto__=a,n}function l(){const e=arguments,t=e.length;let n=String(arguments[0]);if(0===t)return"";if(t>1)for(let r=1;r<t;r++)n+=" "+e[r];if(!this.enabled||this.level<=0||!n)return this._empty?"":n;const i=ansiStyles.dim.open;r&&this.hasGrey&&(ansiStyles.dim.open="");for(const e of this._styles.slice().reverse())n=(n=e.open+n.replace(e.closeRe,e.open)+e.close).replace(/\r?\n/g,`${e.close}$&${e.open}`);return ansiStyles.dim.open=i,n}function f(e,t){if(!Array.isArray(t))return[].slice.call(arguments,1).join(" ");const r=[].slice.call(arguments,2),n=[t.raw[0]];for(let e=1;e<t.length;e++)n.push(String(r[e-1]).replace(/[{}\\]/g,"\\$&")),n.push(String(t.raw[e]));return templates(e,n.join(""))}Object.defineProperties(u.prototype,o),e.exports=u(),e.exports.supportsColor=t,e.exports.default=e.exports}),chalk_1=chalk.supportsColor,figlet_1=createCommonjsModule(function(e){var t=t||function(){var e=0,t=1,r=2,n=3,i={},o={font:"Standard",fontPath:"./fonts"};function s(e,t,r){return e===t&&e!==r&&e}function u(e,t){if("_"===e){if(-1!=="|/\\[]{}()<>".indexOf(t))return t}else if("_"===t&&-1!=="|/\\[]{}()<>".indexOf(e))return e;return!1}function a(e,t){var r="| /\\ [] {} () <>".indexOf(e),n="| /\\ [] {} () <>".indexOf(t);return-1!==r&&-1!==n&&r!==n&&1!==Math.abs(r-n)&&"| /\\ [] {} () <>".substr(Math.max(r,n),1)}function c(e,t){var r="[] {} ()".indexOf(e),n="[] {} ()".indexOf(t);return-1!==r&&-1!==n&&Math.abs(r-n)<=1&&"|"}function l(e,t){var r="/\\ \\/ ><".indexOf(e),n="/\\ \\/ ><".indexOf(t);return-1!==r&&-1!==n&&n-r==1&&{0:"|",3:"Y",6:"X"}[r]}function f(e,t,r){return e===r&&t===r&&r}function h(e,t){return e===t&&e}function p(e,t){if("_"===e){if(-1!=="|/\\[]{}()<>".indexOf(t))return t}else if("_"===t&&-1!=="|/\\[]{}()<>".indexOf(e))return e;return!1}function d(e,t){var r="| /\\ [] {} () <>".indexOf(e),n="| /\\ [] {} () <>".indexOf(t);return-1!==r&&-1!==n&&r!==n&&1!==Math.abs(r-n)&&"| /\\ [] {} () <>".substr(Math.max(r,n),1)}function b(e,t){return("-"===e&&"_"===t||"_"===e&&"-"===t)&&"="}function y(e,t){return"|"===e&&"|"===t&&"|"}function v(e,t,r){return" "===t||""===t?e:t===r&&" "!==e?e:t}function m(n,i,o){if(o.fittingRules.vLayout===e)return"invalid";var s,u,a,c,l=Math.min(n.length,i.length),f=!1;if(0===l)return"invalid";for(s=0;s<l;s++)if(u=n.substr(s,1),a=i.substr(s,1)," "!==u&&" "!==a){if(o.fittingRules.vLayout===t)return"invalid";if(o.fittingRules.vLayout===r)return"end";if(y(u,a)){f=f||!1;continue}if(c=!1,f=!0,!(c=!(c=!(c=!(c=o.fittingRules.vRule1?h(u,a):c)&&o.fittingRules.vRule2?p(u,a):c)&&o.fittingRules.vRule3?d(u,a):c)&&o.fittingRules.vRule4?b(u,a):c))return"invalid"}return f?"end":"valid"}function g(e,n,i){var o,s,u,a,c=Math.min(e.length,n.length),l="";for(o=0;o<c;o++)s=e.substr(o,1),u=n.substr(o,1)," "!==s&&" "!==u?i.fittingRules.vLayout===t?l+=v(s,u):i.fittingRules.vLayout===r?l+=v(s,u):l+=a=!(a=!(a=!(a=!(a=i.fittingRules.vRule5?y(s,u):a)&&i.fittingRules.vRule1?h(s,u):a)&&i.fittingRules.vRule2?p(s,u):a)&&i.fittingRules.vRule3?d(s,u):a)&&i.fittingRules.vRule4?b(s,u):a:l+=v(s,u);return l}function D(e,t){var r,n=e.length,i="";for(r=0;r<t;r++)i+=" ";for(r=0;r<n;r++)e[r]+=i}function _(e,t,r){var n=e[0].length,i=t[0].length;return n>i?D(t,n-i):i>n&&D(e,i-n),function(e,t,r,n){var i,o,s,u,a=e.length,c=t.length,l=e.slice(0,Math.max(0,a-r)),f=e.slice(Math.max(0,a-r),a),h=t.slice(0,Math.min(r,c)),p=[];for(o=f.length,i=0;i<o;i++)s=i>=c?f[i]:g(f[i],h[i],n),p.push(s);return u=t.slice(Math.min(r,c),c),[].concat(l,p,u)}(e,t,function(e,t,r){for(var n,i,o,s,u,a,c=e.length,l=e.length,f=(t.length,1);f<=c;){for(n=e.slice(Math.max(0,l-f),l),o=(i=t.slice(0,Math.min(c,f))).length,a="",s=0;s<o;s++)if("end"===(u=m(n[s],i[s],r)))a=u;else{if("invalid"===u){a=u;break}""===a&&(a="valid")}if("invalid"===a){f--;break}if("end"===a)break;"valid"===a&&f++}return Math.min(c,f)}(e,t,r),r)}function E(n,i,o){if(o.fittingRules.hLayout===e)return 0;var h,p,d,b,y,v=n.length,m=i.length,g=v,D=1,_=!1,E=!1;if(0===v)return 0;e:for(;D<=g;){for(p=n.substr(v-D,D),d=i.substr(0,Math.min(D,m)),h=0;h<Math.min(D,m);h++)if(b=p.substr(h,1),y=d.substr(h,1)," "!==b&&" "!==y){if(o.fittingRules.hLayout===t){D-=1;break e}if(o.fittingRules.hLayout===r){b!==o.hardBlank&&y!==o.hardBlank||(D-=1);break e}if(_=!0,E=!1,!(E=!(E=!(E=!(E=!(E=!(E=o.fittingRules.hRule1?s(b,y,o.hardBlank):E)&&o.fittingRules.hRule2?u(b,y,o.hardBlank):E)&&o.fittingRules.hRule3?a(b,y,o.hardBlank):E)&&o.fittingRules.hRule4?c(b,y,o.hardBlank):E)&&o.fittingRules.hRule5?l(b,y,o.hardBlank):E)&&o.fittingRules.hRule6?f(b,y,o.hardBlank):E)){D-=1;break e}}if(_)break;D++}return Math.min(g,D)}function w(e,n,i,o){var h,p,d,b,y,m,g,D,_,E,w=[];for(h=0;h<o.height;h++){_=e[h],E=n[h],g=_.length,D=E.length,d=g-i,b=_.substr(0,Math.max(0,d)),y="";var S=_.substr(Math.max(0,g-i),i),C=E.substr(0,Math.min(i,D));for(p=0;p<i;p++){var x=p<g?S.substr(p,1):" ",O=p<D?C.substr(p,1):" ";if(" "!==x&&" "!==O)if(o.fittingRules.hLayout===t)y+=v(x,O,o.hardBlank);else if(o.fittingRules.hLayout===r)y+=v(x,O,o.hardBlank);else{var I="";y+=I=(I=!(I=!(I=!(I=!(I=!(I=!I&&o.fittingRules.hRule1?s(x,O,o.hardBlank):I)&&o.fittingRules.hRule2?u(x,O,o.hardBlank):I)&&o.fittingRules.hRule3?a(x,O,o.hardBlank):I)&&o.fittingRules.hRule4?c(x,O,o.hardBlank):I)&&o.fittingRules.hRule5?l(x,O,o.hardBlank):I)&&o.fittingRules.hRule6?f(x,O,o.hardBlank):I)||v(x,O,o.hardBlank)}else y+=v(x,O,o.hardBlank)}m=i>=D?"":E.substr(i,Math.max(0,D-i)),w[h]=b+y+m}return w}function S(t,r,n){var i,o,s,u=0,a=[],c=n.height;for(s=0;s<c;s++)a[s]="";for(1===n.printDirection&&(t=t.split("").reverse().join("")),c=t.length,i=0;i<c;i++)if(o=r[t.substr(i,1).charCodeAt(0)]){if(n.fittingRules.hLayout!==e){for(u=1e4,s=0;s<n.height;s++)u=Math.min(u,E(a[s],o[s],n));u=1e4===u?0:u}a=w(a,o,u,n)}if(!0!==n.showHardBlanks)for(c=a.length,s=0;s<c;s++)a[s]=a[s].replace(new RegExp("\\"+n.hardBlank,"g")," ");return a}var C=function(i,o){var s,u=["hLayout","hRule1","hRule2","hRule3","hRule4","hRule5","hRule6"],a={};if("default"===i)for(s=0;s<u.length;s++)a[u[s]]=o.fittingRules[u[s]];else if("full"===i)a={hLayout:e,hRule1:!1,hRule2:!1,hRule3:!1,hRule4:!1,hRule5:!1,hRule6:!1};else if("fitted"===i)a={hLayout:t,hRule1:!1,hRule2:!1,hRule3:!1,hRule4:!1,hRule5:!1,hRule6:!1};else if("controlled smushing"===i)a={hLayout:n,hRule1:!0,hRule2:!0,hRule3:!0,hRule4:!0,hRule5:!0,hRule6:!0};else{if("universal smushing"!==i)return;a={hLayout:r,hRule1:!1,hRule2:!1,hRule3:!1,hRule4:!1,hRule5:!1,hRule6:!1}}return a},x=function(i,o){var s,u=["vLayout","vRule1","vRule2","vRule3","vRule4","vRule5"],a={};if("default"===i)for(s=0;s<u.length;s++)a[u[s]]=o.fittingRules[u[s]];else if("full"===i)a={vLayout:e,vRule1:!1,vRule2:!1,vRule3:!1,vRule4:!1,vRule5:!1};else if("fitted"===i)a={vLayout:t,vRule1:!1,vRule2:!1,vRule3:!1,vRule4:!1,vRule5:!1};else if("controlled smushing"===i)a={vLayout:n,vRule1:!0,vRule2:!0,vRule3:!0,vRule4:!0,vRule5:!0};else{if("universal smushing"!==i)return;a={vLayout:r,vRule1:!1,vRule2:!1,vRule3:!1,vRule4:!1,vRule5:!1}}return a},O=function(e,t,r){var n,o,s,u=(r=r.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).split("\n"),a=[];for(o=u.length,n=0;n<o;n++)a.push(S(u[n],i[e],t));for(o=a.length,s=a[0],n=1;n<o;n++)s=_(s,a[n],t);return s.join("\n")},I=function(e,t,r){I.text(e,t,r)};function A(e,t){var r,n,i=JSON.parse(JSON.stringify(e));if(void 0!==t.horizontalLayout)for(n in r=C(t.horizontalLayout,e))i.fittingRules[n]=r[n];if(void 0!==t.verticalLayout)for(n in r=x(t.verticalLayout,e))i.fittingRules[n]=r[n];return i.printDirection=void 0!==t.printDirection?t.printDirection:e.printDirection,i.showHardBlanks=t.showHardBlanks||!1,i}return I.text=function(e,t,r){var n="";e+="","function"==typeof arguments[1]&&(r=t,(t={}).font=o.font),"string"==typeof t?(n=t,t={}):n=(t=t||{}).font||o.font,I.loadFont(n,function(i,o){if(i)return r(i);r(null,O(n,A(o,t),e))})},I.textSync=function(e,t){var r="";e+="","string"==typeof t?(r=t,t={}):r=(t=t||{}).font||o.font;var n=A(I.loadFontSync(r),t);return O(r,n,e)},I.metadata=function(e,t){e+="",I.loadFont(e,function(r,n){r?t(r):t(null,n,i[e].comment)})},I.defaults=function(e){if("object"==typeof e&&null!==e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return JSON.parse(JSON.stringify(o))},I.parseFont=function(o,s){s=s.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),i[o]={};var u=s.split("\n"),a=u.splice(0,1)[0].split(" "),c=i[o],l={};if(l.hardBlank=a[0].substr(5,1),l.height=parseInt(a[1],10),l.baseline=parseInt(a[2],10),l.maxLength=parseInt(a[3],10),l.oldLayout=parseInt(a[4],10),l.numCommentLines=parseInt(a[5],10),l.printDirection=a.length>=6?parseInt(a[6],10):0,l.fullLayout=a.length>=7?parseInt(a[7],10):null,l.codeTagCount=a.length>=8?parseInt(a[8],10):null,l.fittingRules=function(i,o){var s,u,a,c,l={},f=[[16384,"vLayout",r],[8192,"vLayout",t],[4096,"vRule5",!0],[2048,"vRule4",!0],[1024,"vRule3",!0],[512,"vRule2",!0],[256,"vRule1",!0],[128,"hLayout",r],[64,"hLayout",t],[32,"hRule6",!0],[16,"hRule5",!0],[8,"hRule4",!0],[4,"hRule3",!0],[2,"hRule2",!0],[1,"hRule1",!0]];for(s=null!==o?o:i,u=0,a=f.length;u<a;)s>=(c=f[u])[0]?(s-=c[0],l[c[1]]=void 0===l[c[1]]?c[2]:l[c[1]]):"vLayout"!==c[1]&&"hLayout"!==c[1]&&(l[c[1]]=!1),u++;return void 0===l.hLayout?0===i?l.hLayout=t:-1===i?l.hLayout=e:l.hRule1||l.hRule2||l.hRule3||l.hRule4||l.hRule5||l.hRule6?l.hLayout=n:l.hLayout=r:l.hLayout===r&&(l.hRule1||l.hRule2||l.hRule3||l.hRule4||l.hRule5||l.hRule6)&&(l.hLayout=n),void 0===l.vLayout?l.vRule1||l.vRule2||l.vRule3||l.vRule4||l.vRule5?l.vLayout=n:l.vLayout=e:l.vLayout===r&&(l.vRule1||l.vRule2||l.vRule3||l.vRule4||l.vRule5)&&(l.vLayout=n),l}(l.oldLayout,l.fullLayout),c.options=l,1!==l.hardBlank.length||isNaN(l.height)||isNaN(l.baseline)||isNaN(l.maxLength)||isNaN(l.oldLayout)||isNaN(l.numCommentLines))throw new Error("FIGlet header contains invalid values.");var f,h=[];for(f=32;f<=126;f++)h.push(f);if(h=h.concat(196,214,220,228,246,252,223),u.length<l.numCommentLines+l.height*h.length)throw new Error("FIGlet file is missing data.");var p,d,b=!1;for(c.comment=u.splice(0,l.numCommentLines).join("\n"),c.numChars=0;u.length>0&&c.numChars<h.length;){for(c[p=h[c.numChars]]=u.splice(0,l.height),f=0;f<l.height;f++)void 0===c[p][f]?c[p][f]="":(d=new RegExp("\\"+c[p][f].substr(c[p][f].length-1,1)+"+$"),c[p][f]=c[p][f].replace(d,""));c.numChars++}for(;u.length>0;){if(p=u.splice(0,1)[0].split(" ")[0],/^0[xX][0-9a-fA-F]+$/.test(p))p=parseInt(p,16);else if(/^0[0-7]+$/.test(p))p=parseInt(p,8);else if(/^[0-9]+$/.test(p))p=parseInt(p,10);else{if(!/^-0[xX][0-9a-fA-F]+$/.test(p)){if(""===p)break;console.log("Invalid data:"+p),b=!0;break}p=parseInt(p,16)}for(c[p]=u.splice(0,l.height),f=0;f<l.height;f++)void 0===c[p][f]?c[p][f]="":(d=new RegExp("\\"+c[p][f].substr(c[p][f].length-1,1)+"+$"),c[p][f]=c[p][f].replace(d,""));c.numChars++}if(!0===b)throw new Error("Error parsing data.");return l},I.loadFont=function(e,t){if(i[e])t(null,i[e].options);else{if("function"!=typeof fetch)throw console.error("figlet.js requires the fetch API or a fetch polyfill such as https://cdnjs.com/libraries/fetch"),new Error("fetch is required for figlet.js to work.");fetch(o.fontPath+"/"+e+".flf").then(function(e){if(e.ok)return e.text();throw console.log("Unexpected response",e),new Error("Network response was not ok.")}).then(function(r){t(null,I.parseFont(e,r))}).catch(t)}},I.loadFontSync=function(e){if(i[e])return i[e].options;throw new Error("synchronous font loading is not implemented for the browser")},I.preloadFonts=function(e,t){if("undefined"==typeof jQuery)throw new Error("jQuery is required for ajax method to work.");jQuery.when.apply(this,e.map(function(e){return jQuery.get(o.fontPath+"/"+e+".flf")})).then(function(){var r=e.length>1?arguments:[arguments];for(var n in e)I.parseFont(e[n],r[n][0]);t&&t()})},I.figFonts=i,I}();e.exports=t}),fontDir=path$b.join(__dirname,"/../fonts/");figlet_1.loadFont=function(e,t){figlet_1.figFonts[e]?t(null,figlet_1.figFonts[e].options):fs$4.readFile(path$b.join(fontDir,e+".flf"),{encoding:"utf-8"},function(r,n){if(r)return t(r);n+="";try{t(null,figlet_1.parseFont(e,n))}catch(e){t(e)}})},figlet_1.loadFontSync=function(e){if(figlet_1.figFonts[e])return figlet_1.figFonts[e].options;var t=fs$4.readFileSync(path$b.join(fontDir,e+".flf"),{encoding:"utf-8"});return t+="",figlet_1.parseFont(e,t)},figlet_1.fonts=function(e){var t=[];fs$4.readdir(fontDir,function(r,n){if(r)return e(r);n.forEach(function(e){/\.flf$/.test(e)&&t.push(e.replace(/\.flf$/,""))}),e(null,t)})},figlet_1.fontsSync=function(){var e=[];return fs$4.readdirSync(fontDir).forEach(function(t){/\.flf$/.test(t)&&e.push(t.replace(/\.flf$/,""))}),e};var nodeFiglet=figlet_1;const{platform:platform}=process,main={tick:"",cross:"",star:"",square:"",squareSmall:"",squareSmallFilled:"",play:"",circle:"",circleFilled:"",circleDotted:"",circleDouble:"",circleCircle:"",circleCross:"",circlePipe:"",circleQuestionMark:"?",bullet:"",dot:"",line:"",ellipsis:"",pointer:"",pointerSmall:"",info:"",warning:"",hamburger:"",smiley:"",mustache:"",heart:"",arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",checkboxOn:"",checkboxOff:"",checkboxCircleOn:"",checkboxCircleOff:"",questionMarkPrefix:"?",oneHalf:"",oneThird:"",oneQuarter:"",oneFifth:"",oneSixth:"",oneSeventh:"",oneEighth:"",oneNinth:"",oneTenth:"",twoThirds:"",twoFifths:"",threeQuarters:"",threeFifths:"",threeEighths:"",fourFifths:"",fiveSixths:"",fiveEighths:"",sevenEighths:""},windows={tick:"",cross:"",star:"*",square:"",squareSmall:"[ ]",squareSmallFilled:"[]",play:"",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"()",circleCross:"()",circlePipe:"()",circleQuestionMark:"(?)",bullet:"*",dot:".",line:"",ellipsis:"...",pointer:">",pointerSmall:"",info:"i",warning:"",hamburger:"",smiley:"",mustache:"",heart:main.heart,arrowUp:main.arrowUp,arrowDown:main.arrowDown,arrowLeft:main.arrowLeft,arrowRight:main.arrowRight,radioOn:"(*)",radioOff:"( )",checkboxOn:"[]",checkboxOff:"[ ]",checkboxCircleOn:"()",checkboxCircleOff:"( )",questionMarkPrefix:"",oneHalf:"1/2",oneThird:"1/3",oneQuarter:"1/4",oneFifth:"1/5",oneSixth:"1/6",oneSeventh:"1/7",oneEighth:"1/8",oneNinth:"1/9",oneTenth:"1/10",twoThirds:"2/3",twoFifths:"2/5",threeQuarters:"3/4",threeFifths:"3/5",threeEighths:"3/8",fourFifths:"4/5",fiveSixths:"5/6",fiveEighths:"5/8",sevenEighths:"7/8"};"linux"===platform&&(main.questionMarkPrefix="?");const figures="win32"===platform?windows:main,fn=e=>{if(figures===main)return e;for(const[t,r]of Object.entries(main))r!==figures[t]&&(e=e.replace(new RegExp(escapeStringRegexp(r),"g"),figures[t]));return e};var figures_1=Object.assign(fn,figures);class Separator{constructor(e){this.type="separator",this.line=chalk.dim(e||new Array(15).join(figures_1.line))}toString(){return this.line}}Separator.exclude=function(e){return"separator"!==e.type};var separator=Separator,through_1=createCommonjsModule(function(e,t){function r(e,t,r){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var n=!1,i=!1,o=[],s=!1,u=new stream;function a(){for(;o.length&&!u.paused;){var e=o.shift();if(null===e)return u.emit("end");u.emit("data",e)}}function c(){u.writable=!1,t.call(u),!u.readable&&u.autoDestroy&&u.destroy()}return u.readable=u.writable=!0,u.paused=!1,u.autoDestroy=!(r&&!1===r.autoDestroy),u.write=function(t){return e.call(this,t),!u.paused},u.queue=u.push=function(e){return s?u:(null===e&&(s=!0),o.push(e),a(),u)},u.on("end",function(){u.readable=!1,!u.writable&&u.autoDestroy&&process.nextTick(function(){u.destroy()})}),u.end=function(e){if(!n)return n=!0,arguments.length&&u.write(e),c(),u},u.destroy=function(){if(!i)return i=!0,n=!0,o.length=0,u.writable=u.readable=!1,u.emit("close"),u},u.pause=function(){if(!u.paused)return u.paused=!0,u},u.resume=function(){return u.paused&&(u.paused=!1,u.emit("resume")),a(),u.paused||u.emit("drain"),u},u}e.exports=r,r.through=r}),lodash=createCommonjsModule(function(e,t){(function(){var r,n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="__lodash_hash_undefined__",u=500,a="__lodash_placeholder__",c=1,l=2,f=4,h=1,p=2,d=1,b=2,y=4,v=8,m=16,g=32,D=64,_=128,E=256,w=512,S=30,C="...",x=800,O=16,I=1,A=2,R=1/0,T=9007199254740991,F=17976931348623157e292,B=NaN,$=4294967295,k=$-1,N=$>>>1,M=[["ary",_],["bind",d],["bindKey",b],["curry",v],["curryRight",m],["flip",w],["partial",g],["partialRight",D],["rearg",E]],P="[object Arguments]",j="[object Array]",U="[object AsyncFunction]",L="[object Boolean]",V="[object Date]",W="[object DOMException]",Y="[object Error]",K="[object Function]",z="[object GeneratorFunction]",q="[object Map]",G="[object Number]",H="[object Null]",Q="[object Object]",J="[object Proxy]",X="[object RegExp]",Z="[object Set]",ee="[object String]",te="[object Symbol]",re="[object Undefined]",ne="[object WeakMap]",ie="[object WeakSet]",oe="[object ArrayBuffer]",se="[object DataView]",ue="[object Float32Array]",ae="[object Float64Array]",ce="[object Int8Array]",le="[object Int16Array]",fe="[object Int32Array]",he="[object Uint8Array]",pe="[object Uint8ClampedArray]",de="[object Uint16Array]",be="[object Uint32Array]",ye=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39);/g,De=/[&<>"']/g,_e=RegExp(ge.source),Ee=RegExp(De.source),we=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Ae.source),Te=/^\s+|\s+$/g,Fe=/^\s+/,Be=/\s+$/,$e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ke=/\{\n\/\* \[wrapped with (.+)\] \*/,Ne=/,? & /,Me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pe=/\\(\\)?/g,je=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ue=/\w*$/,Le=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qe=/($^)/,Ge=/['\n\r\u2028\u2029\\]/g,He="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="[\\ud800-\\udfff]",Xe="["+Qe+"]",Ze="["+He+"]",et="\\d+",tt="[\\u2700-\\u27bf]",rt="[a-z\\xdf-\\xf6\\xf8-\\xff]",nt="[^\\ud800-\\udfff"+Qe+et+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",it="\\ud83c[\\udffb-\\udfff]",ot="[^\\ud800-\\udfff]",st="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",at="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ct="(?:"+rt+"|"+nt+")",lt="(?:"+at+"|"+nt+")",ft="(?:"+Ze+"|"+it+")"+"?",ht="[\\ufe0e\\ufe0f]?"+ft+("(?:\\u200d(?:"+[ot,st,ut].join("|")+")[\\ufe0e\\ufe0f]?"+ft+")*"),pt="(?:"+[tt,st,ut].join("|")+")"+ht,dt="(?:"+[ot+Ze+"?",Ze,st,ut,Je].join("|")+")",bt=RegExp("[']","g"),yt=RegExp(Ze,"g"),vt=RegExp(it+"(?="+it+")|"+dt+ht,"g"),mt=RegExp([at+"?"+rt+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Xe,at,"$"].join("|")+")",lt+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Xe,at+ct,"$"].join("|")+")",at+"?"+ct+"+(?:['](?:d|ll|m|re|s|t|ve))?",at+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",et,pt].join("|"),"g"),gt=RegExp("[\\u200d\\ud800-\\udfff"+He+"\\ufe0e\\ufe0f]"),Dt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Et=-1,wt={};wt[ue]=wt[ae]=wt[ce]=wt[le]=wt[fe]=wt[he]=wt[pe]=wt[de]=wt[be]=!0,wt[P]=wt[j]=wt[oe]=wt[L]=wt[se]=wt[V]=wt[Y]=wt[K]=wt[q]=wt[G]=wt[Q]=wt[X]=wt[Z]=wt[ee]=wt[ne]=!1;var St={};St[P]=St[j]=St[oe]=St[se]=St[L]=St[V]=St[ue]=St[ae]=St[ce]=St[le]=St[fe]=St[q]=St[G]=St[Q]=St[X]=St[Z]=St[ee]=St[te]=St[he]=St[pe]=St[de]=St[be]=!0,St[Y]=St[K]=St[ne]=!1;var Ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xt=parseFloat,Ot=parseInt,It="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,At="object"==typeof self&&self&&self.Object===Object&&self,Rt=It||At||Function("return this")(),Tt=t&&!t.nodeType&&t,Ft=Tt&&e&&!e.nodeType&&e,Bt=Ft&&Ft.exports===Tt,$t=Bt&&It.process,kt=function(){try{var e=Ft&&Ft.require&&Ft.require("util").types;return e||$t&&$t.binding&&$t.binding("util")}catch(e){}}(),Nt=kt&&kt.isArrayBuffer,Mt=kt&&kt.isDate,Pt=kt&&kt.isMap,jt=kt&&kt.isRegExp,Ut=kt&&kt.isSet,Lt=kt&&kt.isTypedArray;function Vt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Wt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function Yt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Kt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function zt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function qt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function Gt(e,t){return!!(null==e?0:e.length)&&ir(e,t,0)>-1}function Ht(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Qt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Jt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Xt(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Zt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function er(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var tr=ar("length");function rr(e,t,r){var n;return r(e,function(e,r,i){if(t(e,r,i))return n=r,!1}),n}function nr(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function ir(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):nr(e,sr,r)}function or(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function sr(e){return e!=e}function ur(e,t){var r=null==e?0:e.length;return r?fr(e,t)/r:B}function ar(e){return function(t){return null==t?r:t[e]}}function cr(e){return function(t){return null==e?r:e[t]}}function lr(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}function fr(e,t){for(var n,i=-1,o=e.length;++i<o;){var s=t(e[i]);s!==r&&(n=n===r?s:n+s)}return n}function hr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function pr(e){return function(t){return e(t)}}function dr(e,t){return Qt(t,function(t){return e[t]})}function br(e,t){return e.has(t)}function yr(e,t){for(var r=-1,n=e.length;++r<n&&ir(t,e[r],0)>-1;);return r}function vr(e,t){for(var r=e.length;r--&&ir(t,e[r],0)>-1;);return r}var mr=cr({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),gr=cr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Dr(e){return"\\"+Ct[e]}function _r(e){return gt.test(e)}function Er(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function wr(e,t){return function(r){return e(t(r))}}function Sr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function Cr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function xr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function Or(e){return _r(e)?function(e){var t=vt.lastIndex=0;for(;vt.test(e);)++t;return t}(e):tr(e)}function Ir(e){return _r(e)?function(e){return e.match(vt)||[]}(e):function(e){return e.split("")}(e)}var Ar=cr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Rr=function e(t){var He,Qe=(t=null==t?Rt:Rr.defaults(Rt.Object(),t,Rr.pick(Rt,_t))).Array,Je=t.Date,Xe=t.Error,Ze=t.Function,et=t.Math,tt=t.Object,rt=t.RegExp,nt=t.String,it=t.TypeError,ot=Qe.prototype,st=Ze.prototype,ut=tt.prototype,at=t["__core-js_shared__"],ct=st.toString,lt=ut.hasOwnProperty,ft=0,ht=(He=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||""))?"Symbol(src)_1."+He:"",pt=ut.toString,dt=ct.call(tt),vt=Rt._,gt=rt("^"+ct.call(lt).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ct=Bt?t.Buffer:r,It=t.Symbol,At=t.Uint8Array,Tt=Ct?Ct.allocUnsafe:r,Ft=wr(tt.getPrototypeOf,tt),$t=tt.create,kt=ut.propertyIsEnumerable,tr=ot.splice,cr=It?It.isConcatSpreadable:r,Tr=It?It.iterator:r,Fr=It?It.toStringTag:r,Br=function(){try{var e=jo(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),$r=t.clearTimeout!==Rt.clearTimeout&&t.clearTimeout,kr=Je&&Je.now!==Rt.Date.now&&Je.now,Nr=t.setTimeout!==Rt.setTimeout&&t.setTimeout,Mr=et.ceil,Pr=et.floor,jr=tt.getOwnPropertySymbols,Ur=Ct?Ct.isBuffer:r,Lr=t.isFinite,Vr=ot.join,Wr=wr(tt.keys,tt),Yr=et.max,Kr=et.min,zr=Je.now,qr=t.parseInt,Gr=et.random,Hr=ot.reverse,Qr=jo(t,"DataView"),Jr=jo(t,"Map"),Xr=jo(t,"Promise"),Zr=jo(t,"Set"),en=jo(t,"WeakMap"),tn=jo(tt,"create"),rn=en&&new en,nn={},on=fs(Qr),sn=fs(Jr),un=fs(Xr),an=fs(Zr),cn=fs(en),ln=It?It.prototype:r,fn=ln?ln.valueOf:r,hn=ln?ln.toString:r;function pn(e){if(Iu(e)&&!vu(e)&&!(e instanceof vn)){if(e instanceof yn)return e;if(lt.call(e,"__wrapped__"))return hs(e)}return new yn(e)}var dn=function(){function e(){}return function(t){if(!Ou(t))return{};if($t)return $t(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function bn(){}function yn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function mn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function gn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Dn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _n(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Dn;++t<r;)this.add(e[t])}function En(e){var t=this.__data__=new gn(e);this.size=t.size}function wn(e,t){var r=vu(e),n=!r&&yu(e),i=!r&&!n&&_u(e),o=!r&&!n&&!i&&Nu(e),s=r||n||i||o,u=s?hr(e.length,nt):[],a=u.length;for(var c in e)!t&&!lt.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zo(c,a))||u.push(c);return u}function Sn(e){var t=e.length;return t?e[_i(0,t-1)]:r}function Cn(e,t){return as(ro(e),$n(t,0,e.length))}function xn(e){return as(ro(e))}function On(e,t,n){(n===r||pu(e[t],n))&&(n!==r||t in e)||Fn(e,t,n)}function In(e,t,n){var i=e[t];lt.call(e,t)&&pu(i,n)&&(n!==r||t in e)||Fn(e,t,n)}function An(e,t){for(var r=e.length;r--;)if(pu(e[r][0],t))return r;return-1}function Rn(e,t,r,n){return jn(e,function(e,i,o){t(n,e,r(e),o)}),n}function Tn(e,t){return e&&no(t,ia(t),e)}function Fn(e,t,r){"__proto__"==t&&Br?Br(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Bn(e,t){for(var n=-1,i=t.length,o=Qe(i),s=null==e;++n<i;)o[n]=s?r:Zu(e,t[n]);return o}function $n(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function kn(e,t,n,i,o,s){var u,a=t&c,h=t&l,p=t&f;if(n&&(u=o?n(e,i,o,s):n(e)),u!==r)return u;if(!Ou(e))return e;var d=vu(e);if(d){if(u=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&lt.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!a)return ro(e,u)}else{var b=Vo(e),y=b==K||b==z;if(_u(e))return Qi(e,a);if(b==Q||b==P||y&&!o){if(u=h||y?{}:Yo(e),!a)return h?function(e,t){return no(e,Lo(e),t)}(e,function(e,t){return e&&no(t,oa(t),e)}(u,e)):function(e,t){return no(e,Uo(e),t)}(e,Tn(u,e))}else{if(!St[b])return o?e:{};u=function(e,t,r){var n=e.constructor;switch(t){case oe:return Ji(e);case L:case V:return new n(+e);case se:return function(e,t){var r=t?Ji(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case ue:case ae:case ce:case le:case fe:case he:case pe:case de:case be:return Xi(e,r);case q:return new n;case G:case ee:return new n(e);case X:return function(e){var t=new e.constructor(e.source,Ue.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Z:return new n;case te:return i=e,fn?tt(fn.call(i)):{}}var i}(e,b,a)}}s||(s=new En);var v=s.get(e);if(v)return v;s.set(e,u),Bu(e)?e.forEach(function(r){u.add(kn(r,t,n,r,e,s))}):Au(e)&&e.forEach(function(r,i){u.set(i,kn(r,t,n,i,e,s))});var m=d?r:(p?h?Fo:To:h?oa:ia)(e);return Yt(m||e,function(r,i){m&&(r=e[i=r]),In(u,i,kn(r,t,n,i,e,s))}),u}function Nn(e,t,n){var i=n.length;if(null==e)return!i;for(e=tt(e);i--;){var o=n[i],s=t[o],u=e[o];if(u===r&&!(o in e)||!s(u))return!1}return!0}function Mn(e,t,n){if("function"!=typeof e)throw new it(o);return is(function(){e.apply(r,n)},t)}function Pn(e,t,r,i){var o=-1,s=Gt,u=!0,a=e.length,c=[],l=t.length;if(!a)return c;r&&(t=Qt(t,pr(r))),i?(s=Ht,u=!1):t.length>=n&&(s=br,u=!1,t=new _n(t));e:for(;++o<a;){var f=e[o],h=null==r?f:r(f);if(f=i||0!==f?f:0,u&&h==h){for(var p=l;p--;)if(t[p]===h)continue e;c.push(f)}else s(t,h,i)||c.push(f)}return c}pn.templateSettings={escape:we,evaluate:Se,interpolate:Ce,variable:"",imports:{_:pn}},pn.prototype=bn.prototype,pn.prototype.constructor=pn,yn.prototype=dn(bn.prototype),yn.prototype.constructor=yn,vn.prototype=dn(bn.prototype),vn.prototype.constructor=vn,mn.prototype.clear=function(){this.__data__=tn?tn(null):{},this.size=0},mn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},mn.prototype.get=function(e){var t=this.__data__;if(tn){var n=t[e];return n===s?r:n}return lt.call(t,e)?t[e]:r},mn.prototype.has=function(e){var t=this.__data__;return tn?t[e]!==r:lt.call(t,e)},mn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tn&&t===r?s:t,this},gn.prototype.clear=function(){this.__data__=[],this.size=0},gn.prototype.delete=function(e){var t=this.__data__,r=An(t,e);return!(r<0)&&(r==t.length-1?t.pop():tr.call(t,r,1),--this.size,!0)},gn.prototype.get=function(e){var t=this.__data__,n=An(t,e);return n<0?r:t[n][1]},gn.prototype.has=function(e){return An(this.__data__,e)>-1},gn.prototype.set=function(e,t){var r=this.__data__,n=An(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new mn,map:new(Jr||gn),string:new mn}},Dn.prototype.delete=function(e){var t=Mo(this,e).delete(e);return this.size-=t?1:0,t},Dn.prototype.get=function(e){return Mo(this,e).get(e)},Dn.prototype.has=function(e){return Mo(this,e).has(e)},Dn.prototype.set=function(e,t){var r=Mo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},_n.prototype.add=_n.prototype.push=function(e){return this.__data__.set(e,s),this},_n.prototype.has=function(e){return this.__data__.has(e)},En.prototype.clear=function(){this.__data__=new gn,this.size=0},En.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},En.prototype.get=function(e){return this.__data__.get(e)},En.prototype.has=function(e){return this.__data__.has(e)},En.prototype.set=function(e,t){var r=this.__data__;if(r instanceof gn){var i=r.__data__;if(!Jr||i.length<n-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Dn(i)}return r.set(e,t),this.size=r.size,this};var jn=so(qn),Un=so(Gn,!0);function Ln(e,t){var r=!0;return jn(e,function(e,n,i){return r=!!t(e,n,i)}),r}function Vn(e,t,n){for(var i=-1,o=e.length;++i<o;){var s=e[i],u=t(s);if(null!=u&&(a===r?u==u&&!ku(u):n(u,a)))var a=u,c=s}return c}function Wn(e,t){var r=[];return jn(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function Yn(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=Ko),i||(i=[]);++o<s;){var u=e[o];t>0&&r(u)?t>1?Yn(u,t-1,r,n,i):Jt(i,u):n||(i[i.length]=u)}return i}var Kn=uo(),zn=uo(!0);function qn(e,t){return e&&Kn(e,t,ia)}function Gn(e,t){return e&&zn(e,t,ia)}function Hn(e,t){return qt(t,function(t){return Su(e[t])})}function Qn(e,t){for(var n=0,i=(t=zi(t,e)).length;null!=e&&n<i;)e=e[ls(t[n++])];return n&&n==i?e:r}function Jn(e,t,r){var n=t(e);return vu(e)?n:Jt(n,r(e))}function Xn(e){return null==e?e===r?re:H:Fr&&Fr in tt(e)?function(e){var t=lt.call(e,Fr),n=e[Fr];try{e[Fr]=r;var i=!0}catch(e){}var o=pt.call(e);i&&(t?e[Fr]=n:delete e[Fr]);return o}(e):function(e){return pt.call(e)}(e)}function Zn(e,t){return e>t}function ei(e,t){return null!=e&&lt.call(e,t)}function ti(e,t){return null!=e&&t in tt(e)}function ri(e,t,n){for(var i=n?Ht:Gt,o=e[0].length,s=e.length,u=s,a=Qe(s),c=1/0,l=[];u--;){var f=e[u];u&&t&&(f=Qt(f,pr(t))),c=Kr(f.length,c),a[u]=!n&&(t||o>=120&&f.length>=120)?new _n(u&&f):r}f=e[0];var h=-1,p=a[0];e:for(;++h<o&&l.length<c;){var d=f[h],b=t?t(d):d;if(d=n||0!==d?d:0,!(p?br(p,b):i(l,b,n))){for(u=s;--u;){var y=a[u];if(!(y?br(y,b):i(e[u],b,n)))continue e}p&&p.push(b),l.push(d)}}return l}function ni(e,t,n){var i=null==(e=ts(e,t=zi(t,e)))?e:e[ls(ws(t))];return null==i?r:Vt(i,e,n)}function ii(e){return Iu(e)&&Xn(e)==P}function oi(e,t,n,i,o){return e===t||(null==e||null==t||!Iu(e)&&!Iu(t)?e!=e&&t!=t:function(e,t,n,i,o,s){var u=vu(e),a=vu(t),c=u?j:Vo(e),l=a?j:Vo(t),f=(c=c==P?Q:c)==Q,d=(l=l==P?Q:l)==Q,b=c==l;if(b&&_u(e)){if(!_u(t))return!1;u=!0,f=!1}if(b&&!f)return s||(s=new En),u||Nu(e)?Ao(e,t,n,i,o,s):function(e,t,r,n,i,o,s){switch(r){case se:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oe:return!(e.byteLength!=t.byteLength||!o(new At(e),new At(t)));case L:case V:case G:return pu(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case X:case ee:return e==t+"";case q:var u=Er;case Z:var a=n&h;if(u||(u=Cr),e.size!=t.size&&!a)return!1;var c=s.get(e);if(c)return c==t;n|=p,s.set(e,t);var l=Ao(u(e),u(t),n,i,o,s);return s.delete(e),l;case te:if(fn)return fn.call(e)==fn.call(t)}return!1}(e,t,c,n,i,o,s);if(!(n&h)){var y=f&&lt.call(e,"__wrapped__"),v=d&&lt.call(t,"__wrapped__");if(y||v){var m=y?e.value():e,g=v?t.value():t;return s||(s=new En),o(m,g,n,i,s)}}if(!b)return!1;return s||(s=new En),function(e,t,n,i,o,s){var u=n&h,a=To(e),c=a.length,l=To(t).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var p=a[f];if(!(u?p in t:lt.call(t,p)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var b=!0;s.set(e,t),s.set(t,e);var y=u;for(;++f<c;){p=a[f];var v=e[p],m=t[p];if(i)var g=u?i(m,v,p,t,e,s):i(v,m,p,e,t,s);if(!(g===r?v===m||o(v,m,n,i,s):g)){b=!1;break}y||(y="constructor"==p)}if(b&&!y){var D=e.constructor,_=t.constructor;D!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof D&&D instanceof D&&"function"==typeof _&&_ instanceof _)&&(b=!1)}return s.delete(e),s.delete(t),b}(e,t,n,i,o,s)}(e,t,n,i,oi,o))}function si(e,t,n,i){var o=n.length,s=o,u=!i;if(null==e)return!s;for(e=tt(e);o--;){var a=n[o];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<s;){var c=(a=n[o])[0],l=e[c],f=a[1];if(u&&a[2]){if(l===r&&!(c in e))return!1}else{var d=new En;if(i)var b=i(l,f,c,e,t,d);if(!(b===r?oi(f,l,h|p,i,d):b))return!1}}return!0}function ui(e){return!(!Ou(e)||(t=e,ht&&ht in t))&&(Su(e)?gt:We).test(fs(e));var t}function ai(e){return"function"==typeof e?e:null==e?Ra:"object"==typeof e?vu(e)?di(e[0],e[1]):pi(e):ja(e)}function ci(e){if(!Jo(e))return Wr(e);var t=[];for(var r in tt(e))lt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function li(e){if(!Ou(e))return function(e){var t=[];if(null!=e)for(var r in tt(e))t.push(r);return t}(e);var t=Jo(e),r=[];for(var n in e)("constructor"!=n||!t&&lt.call(e,n))&&r.push(n);return r}function fi(e,t){return e<t}function hi(e,t){var r=-1,n=gu(e)?Qe(e.length):[];return jn(e,function(e,i,o){n[++r]=t(e,i,o)}),n}function pi(e){var t=Po(e);return 1==t.length&&t[0][2]?Zo(t[0][0],t[0][1]):function(r){return r===e||si(r,e,t)}}function di(e,t){return Go(e)&&Xo(t)?Zo(ls(e),t):function(n){var i=Zu(n,e);return i===r&&i===t?ea(n,e):oi(t,i,h|p)}}function bi(e,t,n,i,o){e!==t&&Kn(t,function(s,u){if(o||(o=new En),Ou(s))!function(e,t,n,i,o,s,u){var a=rs(e,n),c=rs(t,n),l=u.get(c);if(l)return void On(e,n,l);var f=s?s(a,c,n+"",e,t,u):r,h=f===r;if(h){var p=vu(c),d=!p&&_u(c),b=!p&&!d&&Nu(c);f=c,p||d||b?vu(a)?f=a:Du(a)?f=ro(a):d?(h=!1,f=Qi(c,!0)):b?(h=!1,f=Xi(c,!0)):f=[]:Tu(c)||yu(c)?(f=a,yu(a)?f=Yu(a):Ou(a)&&!Su(a)||(f=Yo(c))):h=!1}h&&(u.set(c,f),o(f,c,i,s,u),u.delete(c));On(e,n,f)}(e,t,u,n,bi,i,o);else{var a=i?i(rs(e,u),s,u+"",e,t,o):r;a===r&&(a=s),On(e,u,a)}},oa)}function yi(e,t){var n=e.length;if(n)return zo(t+=t<0?n:0,n)?e[t]:r}function vi(e,t,r){var n=-1;return t=Qt(t.length?t:[Ra],pr(No())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(hi(e,function(e,r,i){return{criteria:Qt(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,s=i.length,u=r.length;for(;++n<s;){var a=Zi(i[n],o[n]);if(a){if(n>=u)return a;var c=r[n];return a*("desc"==c?-1:1)}}return e.index-t.index}(e,t,r)})}function mi(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],u=Qn(e,s);r(u,s)&&xi(o,zi(s,e),u)}return o}function gi(e,t,r,n){var i=n?or:ir,o=-1,s=t.length,u=e;for(e===t&&(t=ro(t)),r&&(u=Qt(e,pr(r)));++o<s;)for(var a=0,c=t[o],l=r?r(c):c;(a=i(u,l,a,n))>-1;)u!==e&&tr.call(u,a,1),tr.call(e,a,1);return e}function Di(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;zo(i)?tr.call(e,i,1):Pi(e,i)}}return e}function _i(e,t){return e+Pr(Gr()*(t-e+1))}function Ei(e,t){var r="";if(!e||t<1||t>T)return r;do{t%2&&(r+=e),(t=Pr(t/2))&&(e+=e)}while(t);return r}function wi(e,t){return os(es(e,t,Ra),e+"")}function Si(e){return Sn(pa(e))}function Ci(e,t){var r=pa(e);return as(r,$n(t,0,r.length))}function xi(e,t,n,i){if(!Ou(e))return e;for(var o=-1,s=(t=zi(t,e)).length,u=s-1,a=e;null!=a&&++o<s;){var c=ls(t[o]),l=n;if(o!=u){var f=a[c];(l=i?i(f,c,a):r)===r&&(l=Ou(f)?f:zo(t[o+1])?[]:{})}In(a,c,l),a=a[c]}return e}var Oi=rn?function(e,t){return rn.set(e,t),e}:Ra,Ii=Br?function(e,t){return Br(e,"toString",{configurable:!0,enumerable:!1,value:Oa(t),writable:!0})}:Ra;function Ai(e){return as(pa(e))}function Ri(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Qe(i);++n<i;)o[n]=e[n+t];return o}function Ti(e,t){var r;return jn(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function Fi(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=N){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!ku(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return Bi(e,t,Ra,r)}function Bi(e,t,n,i){t=n(t);for(var o=0,s=null==e?0:e.length,u=t!=t,a=null===t,c=ku(t),l=t===r;o<s;){var f=Pr((o+s)/2),h=n(e[f]),p=h!==r,d=null===h,b=h==h,y=ku(h);if(u)var v=i||b;else v=l?b&&(i||p):a?b&&p&&(i||!d):c?b&&p&&!d&&(i||!y):!d&&!y&&(i?h<=t:h<t);v?o=f+1:s=f}return Kr(s,k)}function $i(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],u=t?t(s):s;if(!r||!pu(u,a)){var a=u;o[i++]=0===s?0:s}}return o}function ki(e){return"number"==typeof e?e:ku(e)?B:+e}function Ni(e){if("string"==typeof e)return e;if(vu(e))return Qt(e,Ni)+"";if(ku(e))return hn?hn.call(e):"";var t=e+"";return"0"==t&&1/e==-R?"-0":t}function Mi(e,t,r){var i=-1,o=Gt,s=e.length,u=!0,a=[],c=a;if(r)u=!1,o=Ht;else if(s>=n){var l=t?null:wo(e);if(l)return Cr(l);u=!1,o=br,c=new _n}else c=t?[]:a;e:for(;++i<s;){var f=e[i],h=t?t(f):f;if(f=r||0!==f?f:0,u&&h==h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),a.push(f)}else o(c,h,r)||(c!==a&&c.push(h),a.push(f))}return a}function Pi(e,t){return null==(e=ts(e,t=zi(t,e)))||delete e[ls(ws(t))]}function ji(e,t,r,n){return xi(e,t,r(Qn(e,t)),n)}function Ui(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?Ri(e,n?0:o,n?o+1:i):Ri(e,n?o+1:0,n?i:o)}function Li(e,t){var r=e;return r instanceof vn&&(r=r.value()),Xt(t,function(e,t){return t.func.apply(t.thisArg,Jt([e],t.args))},r)}function Vi(e,t,r){var n=e.length;if(n<2)return n?Mi(e[0]):[];for(var i=-1,o=Qe(n);++i<n;)for(var s=e[i],u=-1;++u<n;)u!=i&&(o[i]=Pn(o[i]||s,e[u],t,r));return Mi(Yn(o,1),t,r)}function Wi(e,t,n){for(var i=-1,o=e.length,s=t.length,u={};++i<o;){var a=i<s?t[i]:r;n(u,e[i],a)}return u}function Yi(e){return Du(e)?e:[]}function Ki(e){return"function"==typeof e?e:Ra}function zi(e,t){return vu(e)?e:Go(e,t)?[e]:cs(Ku(e))}var qi=wi;function Gi(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:Ri(e,t,n)}var Hi=$r||function(e){return Rt.clearTimeout(e)};function Qi(e,t){if(t)return e.slice();var r=e.length,n=Tt?Tt(r):new e.constructor(r);return e.copy(n),n}function Ji(e){var t=new e.constructor(e.byteLength);return new At(t).set(new At(e)),t}function Xi(e,t){var r=t?Ji(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Zi(e,t){if(e!==t){var n=e!==r,i=null===e,o=e==e,s=ku(e),u=t!==r,a=null===t,c=t==t,l=ku(t);if(!a&&!l&&!s&&e>t||s&&u&&c&&!a&&!l||i&&u&&c||!n&&c||!o)return 1;if(!i&&!s&&!l&&e<t||l&&n&&o&&!i&&!s||a&&n&&o||!u&&o||!c)return-1}return 0}function eo(e,t,r,n){for(var i=-1,o=e.length,s=r.length,u=-1,a=t.length,c=Yr(o-s,0),l=Qe(a+c),f=!n;++u<a;)l[u]=t[u];for(;++i<s;)(f||i<o)&&(l[r[i]]=e[i]);for(;c--;)l[u++]=e[i++];return l}function to(e,t,r,n){for(var i=-1,o=e.length,s=-1,u=r.length,a=-1,c=t.length,l=Yr(o-u,0),f=Qe(l+c),h=!n;++i<l;)f[i]=e[i];for(var p=i;++a<c;)f[p+a]=t[a];for(;++s<u;)(h||i<o)&&(f[p+r[s]]=e[i++]);return f}function ro(e,t){var r=-1,n=e.length;for(t||(t=Qe(n));++r<n;)t[r]=e[r];return t}function no(e,t,n,i){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var a=t[s],c=i?i(n[a],e[a],a,n,e):r;c===r&&(c=e[a]),o?Fn(n,a,c):In(n,a,c)}return n}function io(e,t){return function(r,n){var i=vu(r)?Wt:Rn,o=t?t():{};return i(r,e,No(n,2),o)}}function oo(e){return wi(function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,u=o>2?n[2]:r;for(s=e.length>3&&"function"==typeof s?(o--,s):r,u&&qo(n[0],n[1],u)&&(s=o<3?r:s,o=1),t=tt(t);++i<o;){var a=n[i];a&&e(t,a,i,s)}return t})}function so(e,t){return function(r,n){if(null==r)return r;if(!gu(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=tt(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function uo(e){return function(t,r,n){for(var i=-1,o=tt(t),s=n(t),u=s.length;u--;){var a=s[e?u:++i];if(!1===r(o[a],a,o))break}return t}}function ao(e){return function(t){var n=_r(t=Ku(t))?Ir(t):r,i=n?n[0]:t.charAt(0),o=n?Gi(n,1).join(""):t.slice(1);return i[e]()+o}}function co(e){return function(t){return Xt(Sa(ya(t).replace(bt,"")),e,"")}}function lo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=dn(e.prototype),n=e.apply(r,t);return Ou(n)?n:r}}function fo(e){return function(t,n,i){var o=tt(t);if(!gu(t)){var s=No(n,3);t=ia(t),n=function(e){return s(o[e],e,o)}}var u=e(t,n,i);return u>-1?o[s?t[u]:u]:r}}function ho(e){return Ro(function(t){var n=t.length,i=n,s=yn.prototype.thru;for(e&&t.reverse();i--;){var u=t[i];if("function"!=typeof u)throw new it(o);if(s&&!a&&"wrapper"==$o(u))var a=new yn([],!0)}for(i=a?i:n;++i<n;){var c=$o(u=t[i]),l="wrapper"==c?Bo(u):r;a=l&&Ho(l[0])&&l[1]==(_|v|g|E)&&!l[4].length&&1==l[9]?a[$o(l[0])].apply(a,l[3]):1==u.length&&Ho(u)?a[c]():a.thru(u)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&vu(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function po(e,t,n,i,o,s,u,a,c,l){var f=t&_,h=t&d,p=t&b,y=t&(v|m),g=t&w,D=p?r:lo(e);return function d(){for(var b=arguments.length,v=Qe(b),m=b;m--;)v[m]=arguments[m];if(y)var _=ko(d),E=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(v,_);if(i&&(v=eo(v,i,o,y)),s&&(v=to(v,s,u,y)),b-=E,y&&b<l){var w=Sr(v,_);return _o(e,t,po,d.placeholder,n,v,w,a,c,l-b)}var S=h?n:this,C=p?S[e]:e;return b=v.length,a?v=function(e,t){for(var n=e.length,i=Kr(t.length,n),o=ro(e);i--;){var s=t[i];e[i]=zo(s,n)?o[s]:r}return e}(v,a):g&&b>1&&v.reverse(),f&&c<b&&(v.length=c),this&&this!==Rt&&this instanceof d&&(C=D||lo(C)),C.apply(S,v)}}function bo(e,t){return function(r,n){return function(e,t,r,n){return qn(e,function(e,i,o){t(n,r(e),i,o)}),n}(r,e,t(n),{})}}function yo(e,t){return function(n,i){var o;if(n===r&&i===r)return t;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=Ni(n),i=Ni(i)):(n=ki(n),i=ki(i)),o=e(n,i)}return o}}function vo(e){return Ro(function(t){return t=Qt(t,pr(No())),wi(function(r){var n=this;return e(t,function(e){return Vt(e,n,r)})})})}function mo(e,t){var n=(t=t===r?" ":Ni(t)).length;if(n<2)return n?Ei(t,e):t;var i=Ei(t,Mr(e/Or(t)));return _r(t)?Gi(Ir(i),0,e).join(""):i.slice(0,e)}function go(e){return function(t,n,i){return i&&"number"!=typeof i&&qo(t,n,i)&&(n=i=r),t=Uu(t),n===r?(n=t,t=0):n=Uu(n),function(e,t,r,n){for(var i=-1,o=Yr(Mr((t-e)/(r||1)),0),s=Qe(o);o--;)s[n?o:++i]=e,e+=r;return s}(t,n,i=i===r?t<n?1:-1:Uu(i),e)}}function Do(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Wu(t),r=Wu(r)),e(t,r)}}function _o(e,t,n,i,o,s,u,a,c,l){var f=t&v;t|=f?g:D,(t&=~(f?D:g))&y||(t&=~(d|b));var h=[e,t,o,f?s:r,f?u:r,f?r:s,f?r:u,a,c,l],p=n.apply(r,h);return Ho(e)&&ns(p,h),p.placeholder=i,ss(p,e,t)}function Eo(e){var t=et[e];return function(e,r){if(e=Wu(e),(r=null==r?0:Kr(Lu(r),292))&&Lr(e)){var n=(Ku(e)+"e").split("e");return+((n=(Ku(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var wo=Zr&&1/Cr(new Zr([,-0]))[1]==R?function(e){return new Zr(e)}:ka;function So(e){return function(t){var r=Vo(t);return r==q?Er(t):r==Z?xr(t):function(e,t){return Qt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Co(e,t,n,i,s,u,c,l){var f=t&b;if(!f&&"function"!=typeof e)throw new it(o);var h=i?i.length:0;if(h||(t&=~(g|D),i=s=r),c=c===r?c:Yr(Lu(c),0),l=l===r?l:Lu(l),h-=s?s.length:0,t&D){var p=i,w=s;i=s=r}var S=f?r:Bo(e),C=[e,t,n,i,s,p,w,u,c,l];if(S&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<(d|b|_),s=n==_&&r==v||n==_&&r==E&&e[7].length<=t[8]||n==(_|E)&&t[7].length<=t[8]&&r==v;if(!o&&!s)return e;n&d&&(e[2]=t[2],i|=r&d?0:y);var u=t[3];if(u){var c=e[3];e[3]=c?eo(c,u,t[4]):u,e[4]=c?Sr(e[3],a):t[4]}(u=t[5])&&(c=e[5],e[5]=c?to(c,u,t[6]):u,e[6]=c?Sr(e[5],a):t[6]);(u=t[7])&&(e[7]=u);n&_&&(e[8]=null==e[8]?t[8]:Kr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(C,S),e=C[0],t=C[1],n=C[2],i=C[3],s=C[4],!(l=C[9]=C[9]===r?f?0:e.length:Yr(C[9]-h,0))&&t&(v|m)&&(t&=~(v|m)),t&&t!=d)x=t==v||t==m?function(e,t,n){var i=lo(e);return function o(){for(var s=arguments.length,u=Qe(s),a=s,c=ko(o);a--;)u[a]=arguments[a];var l=s<3&&u[0]!==c&&u[s-1]!==c?[]:Sr(u,c);return(s-=l.length)<n?_o(e,t,po,o.placeholder,r,u,l,r,r,n-s):Vt(this&&this!==Rt&&this instanceof o?i:e,this,u)}}(e,t,l):t!=g&&t!=(d|g)||s.length?po.apply(r,C):function(e,t,r,n){var i=t&d,o=lo(e);return function t(){for(var s=-1,u=arguments.length,a=-1,c=n.length,l=Qe(c+u),f=this&&this!==Rt&&this instanceof t?o:e;++a<c;)l[a]=n[a];for(;u--;)l[a++]=arguments[++s];return Vt(f,i?r:this,l)}}(e,t,n,i);else var x=function(e,t,r){var n=t&d,i=lo(e);return function t(){return(this&&this!==Rt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,n);return ss((S?Oi:ns)(x,C),e,t)}function xo(e,t,n,i){return e===r||pu(e,ut[n])&&!lt.call(i,n)?t:e}function Oo(e,t,n,i,o,s){return Ou(e)&&Ou(t)&&(s.set(t,e),bi(e,t,r,Oo,s),s.delete(t)),e}function Io(e){return Tu(e)?r:e}function Ao(e,t,n,i,o,s){var u=n&h,a=e.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var f=-1,d=!0,b=n&p?new _n:r;for(s.set(e,t),s.set(t,e);++f<a;){var y=e[f],v=t[f];if(i)var m=u?i(v,y,f,t,e,s):i(y,v,f,e,t,s);if(m!==r){if(m)continue;d=!1;break}if(b){if(!er(t,function(e,t){if(!br(b,t)&&(y===e||o(y,e,n,i,s)))return b.push(t)})){d=!1;break}}else if(y!==v&&!o(y,v,n,i,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Ro(e){return os(es(e,r,ms),e+"")}function To(e){return Jn(e,ia,Uo)}function Fo(e){return Jn(e,oa,Lo)}var Bo=rn?function(e){return rn.get(e)}:ka;function $o(e){for(var t=e.name+"",r=nn[t],n=lt.call(nn,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function ko(e){return(lt.call(pn,"placeholder")?pn:e).placeholder}function No(){var e=pn.iteratee||Ta;return e=e===Ta?ai:e,arguments.length?e(arguments[0],arguments[1]):e}function Mo(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Po(e){for(var t=ia(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Xo(i)]}return t}function jo(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return ui(n)?n:r}var Uo=jr?function(e){return null==e?[]:(e=tt(e),qt(jr(e),function(t){return kt.call(e,t)}))}:Va,Lo=jr?function(e){for(var t=[];e;)Jt(t,Uo(e)),e=Ft(e);return t}:Va,Vo=Xn;function Wo(e,t,r){for(var n=-1,i=(t=zi(t,e)).length,o=!1;++n<i;){var s=ls(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&xu(i)&&zo(s,i)&&(vu(e)||yu(e))}function Yo(e){return"function"!=typeof e.constructor||Jo(e)?{}:dn(Ft(e))}function Ko(e){return vu(e)||yu(e)||!!(cr&&e&&e[cr])}function zo(e,t){var r=typeof e;return!!(t=null==t?T:t)&&("number"==r||"symbol"!=r&&Ke.test(e))&&e>-1&&e%1==0&&e<t}function qo(e,t,r){if(!Ou(r))return!1;var n=typeof t;return!!("number"==n?gu(r)&&zo(t,r.length):"string"==n&&t in r)&&pu(r[t],e)}function Go(e,t){if(vu(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ku(e))||(Oe.test(e)||!xe.test(e)||null!=t&&e in tt(t))}function Ho(e){var t=$o(e),r=pn[t];if("function"!=typeof r||!(t in vn.prototype))return!1;if(e===r)return!0;var n=Bo(r);return!!n&&e===n[0]}(Qr&&Vo(new Qr(new ArrayBuffer(1)))!=se||Jr&&Vo(new Jr)!=q||Xr&&"[object Promise]"!=Vo(Xr.resolve())||Zr&&Vo(new Zr)!=Z||en&&Vo(new en)!=ne)&&(Vo=function(e){var t=Xn(e),n=t==Q?e.constructor:r,i=n?fs(n):"";if(i)switch(i){case on:return se;case sn:return q;case un:return"[object Promise]";case an:return Z;case cn:return ne}return t});var Qo=at?Su:Wa;function Jo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ut)}function Xo(e){return e==e&&!Ou(e)}function Zo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in tt(n)))}}function es(e,t,n){return t=Yr(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Yr(r.length-t,0),s=Qe(o);++i<o;)s[i]=r[t+i];i=-1;for(var u=Qe(t+1);++i<t;)u[i]=r[i];return u[t]=n(s),Vt(e,this,u)}}function ts(e,t){return t.length<2?e:Qn(e,Ri(t,0,-1))}function rs(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ns=us(Oi),is=Nr||function(e,t){return Rt.setTimeout(e,t)},os=us(Ii);function ss(e,t,r){var n=t+"";return os(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace($e,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Yt(M,function(r){var n="_."+r[0];t&r[1]&&!Gt(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(ke);return t?t[1].split(Ne):[]}(n),r)))}function us(e){var t=0,n=0;return function(){var i=zr(),o=O-(i-n);if(n=i,o>0){if(++t>=x)return arguments[0]}else t=0;return e.apply(r,arguments)}}function as(e,t){var n=-1,i=e.length,o=i-1;for(t=t===r?i:t;++n<t;){var s=_i(n,o),u=e[s];e[s]=e[n],e[n]=u}return e.length=t,e}var cs=function(e){var t=uu(e,function(e){return r.size===u&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ie,function(e,r,n,i){t.push(n?i.replace(Pe,"$1"):r||e)}),t});function ls(e){if("string"==typeof e||ku(e))return e;var t=e+"";return"0"==t&&1/e==-R?"-0":t}function fs(e){if(null!=e){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function hs(e){if(e instanceof vn)return e.clone();var t=new yn(e.__wrapped__,e.__chain__);return t.__actions__=ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ps=wi(function(e,t){return Du(e)?Pn(e,Yn(t,1,Du,!0)):[]}),ds=wi(function(e,t){var n=ws(t);return Du(n)&&(n=r),Du(e)?Pn(e,Yn(t,1,Du,!0),No(n,2)):[]}),bs=wi(function(e,t){var n=ws(t);return Du(n)&&(n=r),Du(e)?Pn(e,Yn(t,1,Du,!0),r,n):[]});function ys(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Lu(r);return i<0&&(i=Yr(n+i,0)),nr(e,No(t,3),i)}function vs(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==r&&(o=Lu(n),o=n<0?Yr(i+o,0):Kr(o,i-1)),nr(e,No(t,3),o,!0)}function ms(e){return(null==e?0:e.length)?Yn(e,1):[]}function gs(e){return e&&e.length?e[0]:r}var Ds=wi(function(e){var t=Qt(e,Yi);return t.length&&t[0]===e[0]?ri(t):[]}),_s=wi(function(e){var t=ws(e),n=Qt(e,Yi);return t===ws(n)?t=r:n.pop(),n.length&&n[0]===e[0]?ri(n,No(t,2)):[]}),Es=wi(function(e){var t=ws(e),n=Qt(e,Yi);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?ri(n,r,t):[]});function ws(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Ss=wi(Cs);function Cs(e,t){return e&&e.length&&t&&t.length?gi(e,t):e}var xs=Ro(function(e,t){var r=null==e?0:e.length,n=Bn(e,t);return Di(e,Qt(t,function(e){return zo(e,r)?+e:e}).sort(Zi)),n});function Os(e){return null==e?e:Hr.call(e)}var Is=wi(function(e){return Mi(Yn(e,1,Du,!0))}),As=wi(function(e){var t=ws(e);return Du(t)&&(t=r),Mi(Yn(e,1,Du,!0),No(t,2))}),Rs=wi(function(e){var t=ws(e);return t="function"==typeof t?t:r,Mi(Yn(e,1,Du,!0),r,t)});function Ts(e){if(!e||!e.length)return[];var t=0;return e=qt(e,function(e){if(Du(e))return t=Yr(e.length,t),!0}),hr(t,function(t){return Qt(e,ar(t))})}function Fs(e,t){if(!e||!e.length)return[];var n=Ts(e);return null==t?n:Qt(n,function(e){return Vt(t,r,e)})}var Bs=wi(function(e,t){return Du(e)?Pn(e,t):[]}),$s=wi(function(e){return Vi(qt(e,Du))}),ks=wi(function(e){var t=ws(e);return Du(t)&&(t=r),Vi(qt(e,Du),No(t,2))}),Ns=wi(function(e){var t=ws(e);return t="function"==typeof t?t:r,Vi(qt(e,Du),r,t)}),Ms=wi(Ts);var Ps=wi(function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,Fs(e,n)});function js(e){var t=pn(e);return t.__chain__=!0,t}function Us(e,t){return t(e)}var Ls=Ro(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,o=function(t){return Bn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof vn&&zo(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:Us,args:[o],thisArg:r}),new yn(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(o)});var Vs=io(function(e,t,r){lt.call(e,r)?++e[r]:Fn(e,r,1)});var Ws=fo(ys),Ys=fo(vs);function Ks(e,t){return(vu(e)?Yt:jn)(e,No(t,3))}function zs(e,t){return(vu(e)?Kt:Un)(e,No(t,3))}var qs=io(function(e,t,r){lt.call(e,r)?e[r].push(t):Fn(e,r,[t])});var Gs=wi(function(e,t,r){var n=-1,i="function"==typeof t,o=gu(e)?Qe(e.length):[];return jn(e,function(e){o[++n]=i?Vt(t,e,r):ni(e,t,r)}),o}),Hs=io(function(e,t,r){Fn(e,r,t)});function Qs(e,t){return(vu(e)?Qt:hi)(e,No(t,3))}var Js=io(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});var Xs=wi(function(e,t){if(null==e)return[];var r=t.length;return r>1&&qo(e,t[0],t[1])?t=[]:r>2&&qo(t[0],t[1],t[2])&&(t=[t[0]]),vi(e,Yn(t,1),[])}),Zs=kr||function(){return Rt.Date.now()};function eu(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Co(e,_,r,r,r,r,t)}function tu(e,t){var n;if("function"!=typeof t)throw new it(o);return e=Lu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var ru=wi(function(e,t,r){var n=d;if(r.length){var i=Sr(r,ko(ru));n|=g}return Co(e,n,t,r,i)}),nu=wi(function(e,t,r){var n=d|b;if(r.length){var i=Sr(r,ko(nu));n|=g}return Co(t,n,e,r,i)});function iu(e,t,n){var i,s,u,a,c,l,f=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new it(o);function b(t){var n=i,o=s;return i=s=r,f=t,a=e.apply(o,n)}function y(e){var n=e-l;return l===r||n>=t||n<0||p&&e-f>=u}function v(){var e=Zs();if(y(e))return m(e);c=is(v,function(e){var r=t-(e-l);return p?Kr(r,u-(e-f)):r}(e))}function m(e){return c=r,d&&i?b(e):(i=s=r,a)}function g(){var e=Zs(),n=y(e);if(i=arguments,s=this,l=e,n){if(c===r)return function(e){return f=e,c=is(v,t),h?b(e):a}(l);if(p)return Hi(c),c=is(v,t),b(l)}return c===r&&(c=is(v,t)),a}return t=Wu(t)||0,Ou(n)&&(h=!!n.leading,u=(p="maxWait"in n)?Yr(Wu(n.maxWait)||0,t):u,d="trailing"in n?!!n.trailing:d),g.cancel=function(){c!==r&&Hi(c),f=0,i=l=s=c=r},g.flush=function(){return c===r?a:m(Zs())},g}var ou=wi(function(e,t){return Mn(e,1,t)}),su=wi(function(e,t,r){return Mn(e,Wu(t)||0,r)});function uu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(uu.Cache||Dn),r}function au(e){if("function"!=typeof e)throw new it(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}uu.Cache=Dn;var cu=qi(function(e,t){var r=(t=1==t.length&&vu(t[0])?Qt(t[0],pr(No())):Qt(Yn(t,1),pr(No()))).length;return wi(function(n){for(var i=-1,o=Kr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return Vt(e,this,n)})}),lu=wi(function(e,t){var n=Sr(t,ko(lu));return Co(e,g,r,t,n)}),fu=wi(function(e,t){var n=Sr(t,ko(fu));return Co(e,D,r,t,n)}),hu=Ro(function(e,t){return Co(e,E,r,r,r,t)});function pu(e,t){return e===t||e!=e&&t!=t}var du=Do(Zn),bu=Do(function(e,t){return e>=t}),yu=ii(function(){return arguments}())?ii:function(e){return Iu(e)&&lt.call(e,"callee")&&!kt.call(e,"callee")},vu=Qe.isArray,mu=Nt?pr(Nt):function(e){return Iu(e)&&Xn(e)==oe};function gu(e){return null!=e&&xu(e.length)&&!Su(e)}function Du(e){return Iu(e)&&gu(e)}var _u=Ur||Wa,Eu=Mt?pr(Mt):function(e){return Iu(e)&&Xn(e)==V};function wu(e){if(!Iu(e))return!1;var t=Xn(e);return t==Y||t==W||"string"==typeof e.message&&"string"==typeof e.name&&!Tu(e)}function Su(e){if(!Ou(e))return!1;var t=Xn(e);return t==K||t==z||t==U||t==J}function Cu(e){return"number"==typeof e&&e==Lu(e)}function xu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=T}function Ou(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Iu(e){return null!=e&&"object"==typeof e}var Au=Pt?pr(Pt):function(e){return Iu(e)&&Vo(e)==q};function Ru(e){return"number"==typeof e||Iu(e)&&Xn(e)==G}function Tu(e){if(!Iu(e)||Xn(e)!=Q)return!1;var t=Ft(e);if(null===t)return!0;var r=lt.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ct.call(r)==dt}var Fu=jt?pr(jt):function(e){return Iu(e)&&Xn(e)==X};var Bu=Ut?pr(Ut):function(e){return Iu(e)&&Vo(e)==Z};function $u(e){return"string"==typeof e||!vu(e)&&Iu(e)&&Xn(e)==ee}function ku(e){return"symbol"==typeof e||Iu(e)&&Xn(e)==te}var Nu=Lt?pr(Lt):function(e){return Iu(e)&&xu(e.length)&&!!wt[Xn(e)]};var Mu=Do(fi),Pu=Do(function(e,t){return e<=t});function ju(e){if(!e)return[];if(gu(e))return $u(e)?Ir(e):ro(e);if(Tr&&e[Tr])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Tr]());var t=Vo(e);return(t==q?Er:t==Z?Cr:pa)(e)}function Uu(e){return e?(e=Wu(e))===R||e===-R?(e<0?-1:1)*F:e==e?e:0:0===e?e:0}function Lu(e){var t=Uu(e),r=t%1;return t==t?r?t-r:t:0}function Vu(e){return e?$n(Lu(e),0,$):0}function Wu(e){if("number"==typeof e)return e;if(ku(e))return B;if(Ou(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ou(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Te,"");var r=Ve.test(e);return r||Ye.test(e)?Ot(e.slice(2),r?2:8):Le.test(e)?B:+e}function Yu(e){return no(e,oa(e))}function Ku(e){return null==e?"":Ni(e)}var zu=oo(function(e,t){if(Jo(t)||gu(t))no(t,ia(t),e);else for(var r in t)lt.call(t,r)&&In(e,r,t[r])}),qu=oo(function(e,t){no(t,oa(t),e)}),Gu=oo(function(e,t,r,n){no(t,oa(t),e,n)}),Hu=oo(function(e,t,r,n){no(t,ia(t),e,n)}),Qu=Ro(Bn);var Ju=wi(function(e,t){e=tt(e);var n=-1,i=t.length,o=i>2?t[2]:r;for(o&&qo(t[0],t[1],o)&&(i=1);++n<i;)for(var s=t[n],u=oa(s),a=-1,c=u.length;++a<c;){var l=u[a],f=e[l];(f===r||pu(f,ut[l])&&!lt.call(e,l))&&(e[l]=s[l])}return e}),Xu=wi(function(e){return e.push(r,Oo),Vt(ua,r,e)});function Zu(e,t,n){var i=null==e?r:Qn(e,t);return i===r?n:i}function ea(e,t){return null!=e&&Wo(e,t,ti)}var ta=bo(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),e[t]=r},Oa(Ra)),ra=bo(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),lt.call(e,t)?e[t].push(r):e[t]=[r]},No),na=wi(ni);function ia(e){return gu(e)?wn(e):ci(e)}function oa(e){return gu(e)?wn(e,!0):li(e)}var sa=oo(function(e,t,r){bi(e,t,r)}),ua=oo(function(e,t,r,n){bi(e,t,r,n)}),aa=Ro(function(e,t){var r={};if(null==e)return r;var n=!1;t=Qt(t,function(t){return t=zi(t,e),n||(n=t.length>1),t}),no(e,Fo(e),r),n&&(r=kn(r,c|l|f,Io));for(var i=t.length;i--;)Pi(r,t[i]);return r});var ca=Ro(function(e,t){return null==e?{}:function(e,t){return mi(e,t,function(t,r){return ea(e,r)})}(e,t)});function la(e,t){if(null==e)return{};var r=Qt(Fo(e),function(e){return[e]});return t=No(t),mi(e,r,function(e,r){return t(e,r[0])})}var fa=So(ia),ha=So(oa);function pa(e){return null==e?[]:dr(e,ia(e))}var da=co(function(e,t,r){return t=t.toLowerCase(),e+(r?ba(t):t)});function ba(e){return wa(Ku(e).toLowerCase())}function ya(e){return(e=Ku(e))&&e.replace(ze,mr).replace(yt,"")}var va=co(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),ma=co(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),ga=ao("toLowerCase");var Da=co(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});var _a=co(function(e,t,r){return e+(r?" ":"")+wa(t)});var Ea=co(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),wa=ao("toUpperCase");function Sa(e,t,n){return e=Ku(e),(t=n?r:t)===r?function(e){return Dt.test(e)}(e)?function(e){return e.match(mt)||[]}(e):function(e){return e.match(Me)||[]}(e):e.match(t)||[]}var Ca=wi(function(e,t){try{return Vt(e,r,t)}catch(e){return wu(e)?e:new Xe(e)}}),xa=Ro(function(e,t){return Yt(t,function(t){t=ls(t),Fn(e,t,ru(e[t],e))}),e});function Oa(e){return function(){return e}}var Ia=ho(),Aa=ho(!0);function Ra(e){return e}function Ta(e){return ai("function"==typeof e?e:kn(e,c))}var Fa=wi(function(e,t){return function(r){return ni(r,e,t)}}),Ba=wi(function(e,t){return function(r){return ni(e,r,t)}});function $a(e,t,r){var n=ia(t),i=Hn(t,n);null!=r||Ou(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Hn(t,ia(t)));var o=!(Ou(r)&&"chain"in r&&!r.chain),s=Su(e);return Yt(i,function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=ro(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Jt([this.value()],arguments))})}),e}function ka(){}var Na=vo(Qt),Ma=vo(zt),Pa=vo(er);function ja(e){return Go(e)?ar(ls(e)):function(e){return function(t){return Qn(t,e)}}(e)}var Ua=go(),La=go(!0);function Va(){return[]}function Wa(){return!1}var Ya=yo(function(e,t){return e+t},0),Ka=Eo("ceil"),za=yo(function(e,t){return e/t},1),qa=Eo("floor");var Ga,Ha=yo(function(e,t){return e*t},1),Qa=Eo("round"),Ja=yo(function(e,t){return e-t},0);return pn.after=function(e,t){if("function"!=typeof t)throw new it(o);return e=Lu(e),function(){if(--e<1)return t.apply(this,arguments)}},pn.ary=eu,pn.assign=zu,pn.assignIn=qu,pn.assignInWith=Gu,pn.assignWith=Hu,pn.at=Qu,pn.before=tu,pn.bind=ru,pn.bindAll=xa,pn.bindKey=nu,pn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return vu(e)?e:[e]},pn.chain=js,pn.chunk=function(e,t,n){t=(n?qo(e,t,n):t===r)?1:Yr(Lu(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,u=Qe(Mr(i/t));o<i;)u[s++]=Ri(e,o,o+=t);return u},pn.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},pn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Qe(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Jt(vu(r)?ro(r):[r],Yn(t,1))},pn.cond=function(e){var t=null==e?0:e.length,r=No();return e=t?Qt(e,function(e){if("function"!=typeof e[1])throw new it(o);return[r(e[0]),e[1]]}):[],wi(function(r){for(var n=-1;++n<t;){var i=e[n];if(Vt(i[0],this,r))return Vt(i[1],this,r)}})},pn.conforms=function(e){return function(e){var t=ia(e);return function(r){return Nn(r,e,t)}}(kn(e,c))},pn.constant=Oa,pn.countBy=Vs,pn.create=function(e,t){var r=dn(e);return null==t?r:Tn(r,t)},pn.curry=function e(t,n,i){var o=Co(t,v,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},pn.curryRight=function e(t,n,i){var o=Co(t,m,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},pn.debounce=iu,pn.defaults=Ju,pn.defaultsDeep=Xu,pn.defer=ou,pn.delay=su,pn.difference=ps,pn.differenceBy=ds,pn.differenceWith=bs,pn.drop=function(e,t,n){var i=null==e?0:e.length;return i?Ri(e,(t=n||t===r?1:Lu(t))<0?0:t,i):[]},pn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Ri(e,0,(t=i-(t=n||t===r?1:Lu(t)))<0?0:t):[]},pn.dropRightWhile=function(e,t){return e&&e.length?Ui(e,No(t,3),!0,!0):[]},pn.dropWhile=function(e,t){return e&&e.length?Ui(e,No(t,3),!0):[]},pn.fill=function(e,t,n,i){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&qo(e,t,n)&&(n=0,i=o),function(e,t,n,i){var o=e.length;for((n=Lu(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:Lu(i))<0&&(i+=o),i=n>i?0:Vu(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},pn.filter=function(e,t){return(vu(e)?qt:Wn)(e,No(t,3))},pn.flatMap=function(e,t){return Yn(Qs(e,t),1)},pn.flatMapDeep=function(e,t){return Yn(Qs(e,t),R)},pn.flatMapDepth=function(e,t,n){return n=n===r?1:Lu(n),Yn(Qs(e,t),n)},pn.flatten=ms,pn.flattenDeep=function(e){return(null==e?0:e.length)?Yn(e,R):[]},pn.flattenDepth=function(e,t){return(null==e?0:e.length)?Yn(e,t=t===r?1:Lu(t)):[]},pn.flip=function(e){return Co(e,w)},pn.flow=Ia,pn.flowRight=Aa,pn.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},pn.functions=function(e){return null==e?[]:Hn(e,ia(e))},pn.functionsIn=function(e){return null==e?[]:Hn(e,oa(e))},pn.groupBy=qs,pn.initial=function(e){return(null==e?0:e.length)?Ri(e,0,-1):[]},pn.intersection=Ds,pn.intersectionBy=_s,pn.intersectionWith=Es,pn.invert=ta,pn.invertBy=ra,pn.invokeMap=Gs,pn.iteratee=Ta,pn.keyBy=Hs,pn.keys=ia,pn.keysIn=oa,pn.map=Qs,pn.mapKeys=function(e,t){var r={};return t=No(t,3),qn(e,function(e,n,i){Fn(r,t(e,n,i),e)}),r},pn.mapValues=function(e,t){var r={};return t=No(t,3),qn(e,function(e,n,i){Fn(r,n,t(e,n,i))}),r},pn.matches=function(e){return pi(kn(e,c))},pn.matchesProperty=function(e,t){return di(e,kn(t,c))},pn.memoize=uu,pn.merge=sa,pn.mergeWith=ua,pn.method=Fa,pn.methodOf=Ba,pn.mixin=$a,pn.negate=au,pn.nthArg=function(e){return e=Lu(e),wi(function(t){return yi(t,e)})},pn.omit=aa,pn.omitBy=function(e,t){return la(e,au(No(t)))},pn.once=function(e){return tu(2,e)},pn.orderBy=function(e,t,n,i){return null==e?[]:(vu(t)||(t=null==t?[]:[t]),vu(n=i?r:n)||(n=null==n?[]:[n]),vi(e,t,n))},pn.over=Na,pn.overArgs=cu,pn.overEvery=Ma,pn.overSome=Pa,pn.partial=lu,pn.partialRight=fu,pn.partition=Js,pn.pick=ca,pn.pickBy=la,pn.property=ja,pn.propertyOf=function(e){return function(t){return null==e?r:Qn(e,t)}},pn.pull=Ss,pn.pullAll=Cs,pn.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?gi(e,t,No(r,2)):e},pn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?gi(e,t,r,n):e},pn.pullAt=xs,pn.range=Ua,pn.rangeRight=La,pn.rearg=hu,pn.reject=function(e,t){return(vu(e)?qt:Wn)(e,au(No(t,3)))},pn.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=No(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return Di(e,i),r},pn.rest=function(e,t){if("function"!=typeof e)throw new it(o);return wi(e,t=t===r?t:Lu(t))},pn.reverse=Os,pn.sampleSize=function(e,t,n){return t=(n?qo(e,t,n):t===r)?1:Lu(t),(vu(e)?Cn:Ci)(e,t)},pn.set=function(e,t,r){return null==e?e:xi(e,t,r)},pn.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:xi(e,t,n,i)},pn.shuffle=function(e){return(vu(e)?xn:Ai)(e)},pn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&qo(e,t,n)?(t=0,n=i):(t=null==t?0:Lu(t),n=n===r?i:Lu(n)),Ri(e,t,n)):[]},pn.sortBy=Xs,pn.sortedUniq=function(e){return e&&e.length?$i(e):[]},pn.sortedUniqBy=function(e,t){return e&&e.length?$i(e,No(t,2)):[]},pn.split=function(e,t,n){return n&&"number"!=typeof n&&qo(e,t,n)&&(t=n=r),(n=n===r?$:n>>>0)?(e=Ku(e))&&("string"==typeof t||null!=t&&!Fu(t))&&!(t=Ni(t))&&_r(e)?Gi(Ir(e),0,n):e.split(t,n):[]},pn.spread=function(e,t){if("function"!=typeof e)throw new it(o);return t=null==t?0:Yr(Lu(t),0),wi(function(r){var n=r[t],i=Gi(r,0,t);return n&&Jt(i,n),Vt(e,this,i)})},pn.tail=function(e){var t=null==e?0:e.length;return t?Ri(e,1,t):[]},pn.take=function(e,t,n){return e&&e.length?Ri(e,0,(t=n||t===r?1:Lu(t))<0?0:t):[]},pn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Ri(e,(t=i-(t=n||t===r?1:Lu(t)))<0?0:t,i):[]},pn.takeRightWhile=function(e,t){return e&&e.length?Ui(e,No(t,3),!1,!0):[]},pn.takeWhile=function(e,t){return e&&e.length?Ui(e,No(t,3)):[]},pn.tap=function(e,t){return t(e),e},pn.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new it(o);return Ou(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),iu(e,t,{leading:n,maxWait:t,trailing:i})},pn.thru=Us,pn.toArray=ju,pn.toPairs=fa,pn.toPairsIn=ha,pn.toPath=function(e){return vu(e)?Qt(e,ls):ku(e)?[e]:ro(cs(Ku(e)))},pn.toPlainObject=Yu,pn.transform=function(e,t,r){var n=vu(e),i=n||_u(e)||Nu(e);if(t=No(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:Ou(e)&&Su(o)?dn(Ft(e)):{}}return(i?Yt:qn)(e,function(e,n,i){return t(r,e,n,i)}),r},pn.unary=function(e){return eu(e,1)},pn.union=Is,pn.unionBy=As,pn.unionWith=Rs,pn.uniq=function(e){return e&&e.length?Mi(e):[]},pn.uniqBy=function(e,t){return e&&e.length?Mi(e,No(t,2)):[]},pn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?Mi(e,r,t):[]},pn.unset=function(e,t){return null==e||Pi(e,t)},pn.unzip=Ts,pn.unzipWith=Fs,pn.update=function(e,t,r){return null==e?e:ji(e,t,Ki(r))},pn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:ji(e,t,Ki(n),i)},pn.values=pa,pn.valuesIn=function(e){return null==e?[]:dr(e,oa(e))},pn.without=Bs,pn.words=Sa,pn.wrap=function(e,t){return lu(Ki(t),e)},pn.xor=$s,pn.xorBy=ks,pn.xorWith=Ns,pn.zip=Ms,pn.zipObject=function(e,t){return Wi(e||[],t||[],In)},pn.zipObjectDeep=function(e,t){return Wi(e||[],t||[],xi)},pn.zipWith=Ps,pn.entries=fa,pn.entriesIn=ha,pn.extend=qu,pn.extendWith=Gu,$a(pn,pn),pn.add=Ya,pn.attempt=Ca,pn.camelCase=da,pn.capitalize=ba,pn.ceil=Ka,pn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=Wu(n))==n?n:0),t!==r&&(t=(t=Wu(t))==t?t:0),$n(Wu(e),t,n)},pn.clone=function(e){return kn(e,f)},pn.cloneDeep=function(e){return kn(e,c|f)},pn.cloneDeepWith=function(e,t){return kn(e,c|f,t="function"==typeof t?t:r)},pn.cloneWith=function(e,t){return kn(e,f,t="function"==typeof t?t:r)},pn.conformsTo=function(e,t){return null==t||Nn(e,t,ia(t))},pn.deburr=ya,pn.defaultTo=function(e,t){return null==e||e!=e?t:e},pn.divide=za,pn.endsWith=function(e,t,n){e=Ku(e),t=Ni(t);var i=e.length,o=n=n===r?i:$n(Lu(n),0,i);return(n-=t.length)>=0&&e.slice(n,o)==t},pn.eq=pu,pn.escape=function(e){return(e=Ku(e))&&Ee.test(e)?e.replace(De,gr):e},pn.escapeRegExp=function(e){return(e=Ku(e))&&Re.test(e)?e.replace(Ae,"\\$&"):e},pn.every=function(e,t,n){var i=vu(e)?zt:Ln;return n&&qo(e,t,n)&&(t=r),i(e,No(t,3))},pn.find=Ws,pn.findIndex=ys,pn.findKey=function(e,t){return rr(e,No(t,3),qn)},pn.findLast=Ys,pn.findLastIndex=vs,pn.findLastKey=function(e,t){return rr(e,No(t,3),Gn)},pn.floor=qa,pn.forEach=Ks,pn.forEachRight=zs,pn.forIn=function(e,t){return null==e?e:Kn(e,No(t,3),oa)},pn.forInRight=function(e,t){return null==e?e:zn(e,No(t,3),oa)},pn.forOwn=function(e,t){return e&&qn(e,No(t,3))},pn.forOwnRight=function(e,t){return e&&Gn(e,No(t,3))},pn.get=Zu,pn.gt=du,pn.gte=bu,pn.has=function(e,t){return null!=e&&Wo(e,t,ei)},pn.hasIn=ea,pn.head=gs,pn.identity=Ra,pn.includes=function(e,t,r,n){e=gu(e)?e:pa(e),r=r&&!n?Lu(r):0;var i=e.length;return r<0&&(r=Yr(i+r,0)),$u(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&ir(e,t,r)>-1},pn.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Lu(r);return i<0&&(i=Yr(n+i,0)),ir(e,t,i)},pn.inRange=function(e,t,n){return t=Uu(t),n===r?(n=t,t=0):n=Uu(n),function(e,t,r){return e>=Kr(t,r)&&e<Yr(t,r)}(e=Wu(e),t,n)},pn.invoke=na,pn.isArguments=yu,pn.isArray=vu,pn.isArrayBuffer=mu,pn.isArrayLike=gu,pn.isArrayLikeObject=Du,pn.isBoolean=function(e){return!0===e||!1===e||Iu(e)&&Xn(e)==L},pn.isBuffer=_u,pn.isDate=Eu,pn.isElement=function(e){return Iu(e)&&1===e.nodeType&&!Tu(e)},pn.isEmpty=function(e){if(null==e)return!0;if(gu(e)&&(vu(e)||"string"==typeof e||"function"==typeof e.splice||_u(e)||Nu(e)||yu(e)))return!e.length;var t=Vo(e);if(t==q||t==Z)return!e.size;if(Jo(e))return!ci(e).length;for(var r in e)if(lt.call(e,r))return!1;return!0},pn.isEqual=function(e,t){return oi(e,t)},pn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?oi(e,t,r,n):!!i},pn.isError=wu,pn.isFinite=function(e){return"number"==typeof e&&Lr(e)},pn.isFunction=Su,pn.isInteger=Cu,pn.isLength=xu,pn.isMap=Au,pn.isMatch=function(e,t){return e===t||si(e,t,Po(t))},pn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,si(e,t,Po(t),n)},pn.isNaN=function(e){return Ru(e)&&e!=+e},pn.isNative=function(e){if(Qo(e))throw new Xe(i);return ui(e)},pn.isNil=function(e){return null==e},pn.isNull=function(e){return null===e},pn.isNumber=Ru,pn.isObject=Ou,pn.isObjectLike=Iu,pn.isPlainObject=Tu,pn.isRegExp=Fu,pn.isSafeInteger=function(e){return Cu(e)&&e>=-T&&e<=T},pn.isSet=Bu,pn.isString=$u,pn.isSymbol=ku,pn.isTypedArray=Nu,pn.isUndefined=function(e){return e===r},pn.isWeakMap=function(e){return Iu(e)&&Vo(e)==ne},pn.isWeakSet=function(e){return Iu(e)&&Xn(e)==ie},pn.join=function(e,t){return null==e?"":Vr.call(e,t)},pn.kebabCase=va,pn.last=ws,pn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=Lu(n))<0?Yr(i+o,0):Kr(o,i-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):nr(e,sr,o,!0)},pn.lowerCase=ma,pn.lowerFirst=ga,pn.lt=Mu,pn.lte=Pu,pn.max=function(e){return e&&e.length?Vn(e,Ra,Zn):r},pn.maxBy=function(e,t){return e&&e.length?Vn(e,No(t,2),Zn):r},pn.mean=function(e){return ur(e,Ra)},pn.meanBy=function(e,t){return ur(e,No(t,2))},pn.min=function(e){return e&&e.length?Vn(e,Ra,fi):r},pn.minBy=function(e,t){return e&&e.length?Vn(e,No(t,2),fi):r},pn.stubArray=Va,pn.stubFalse=Wa,pn.stubObject=function(){return{}},pn.stubString=function(){return""},pn.stubTrue=function(){return!0},pn.multiply=Ha,pn.nth=function(e,t){return e&&e.length?yi(e,Lu(t)):r},pn.noConflict=function(){return Rt._===this&&(Rt._=vt),this},pn.noop=ka,pn.now=Zs,pn.pad=function(e,t,r){e=Ku(e);var n=(t=Lu(t))?Or(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return mo(Pr(i),r)+e+mo(Mr(i),r)},pn.padEnd=function(e,t,r){e=Ku(e);var n=(t=Lu(t))?Or(e):0;return t&&n<t?e+mo(t-n,r):e},pn.padStart=function(e,t,r){e=Ku(e);var n=(t=Lu(t))?Or(e):0;return t&&n<t?mo(t-n,r)+e:e},pn.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),qr(Ku(e).replace(Fe,""),t||0)},pn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&qo(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Uu(e),t===r?(t=e,e=0):t=Uu(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var o=Gr();return Kr(e+o*(t-e+xt("1e-"+((o+"").length-1))),t)}return _i(e,t)},pn.reduce=function(e,t,r){var n=vu(e)?Xt:lr,i=arguments.length<3;return n(e,No(t,4),r,i,jn)},pn.reduceRight=function(e,t,r){var n=vu(e)?Zt:lr,i=arguments.length<3;return n(e,No(t,4),r,i,Un)},pn.repeat=function(e,t,n){return t=(n?qo(e,t,n):t===r)?1:Lu(t),Ei(Ku(e),t)},pn.replace=function(){var e=arguments,t=Ku(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pn.result=function(e,t,n){var i=-1,o=(t=zi(t,e)).length;for(o||(o=1,e=r);++i<o;){var s=null==e?r:e[ls(t[i])];s===r&&(i=o,s=n),e=Su(s)?s.call(e):s}return e},pn.round=Qa,pn.runInContext=e,pn.sample=function(e){return(vu(e)?Sn:Si)(e)},pn.size=function(e){if(null==e)return 0;if(gu(e))return $u(e)?Or(e):e.length;var t=Vo(e);return t==q||t==Z?e.size:ci(e).length},pn.snakeCase=Da,pn.some=function(e,t,n){var i=vu(e)?er:Ti;return n&&qo(e,t,n)&&(t=r),i(e,No(t,3))},pn.sortedIndex=function(e,t){return Fi(e,t)},pn.sortedIndexBy=function(e,t,r){return Bi(e,t,No(r,2))},pn.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Fi(e,t);if(n<r&&pu(e[n],t))return n}return-1},pn.sortedLastIndex=function(e,t){return Fi(e,t,!0)},pn.sortedLastIndexBy=function(e,t,r){return Bi(e,t,No(r,2),!0)},pn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=Fi(e,t,!0)-1;if(pu(e[r],t))return r}return-1},pn.startCase=_a,pn.startsWith=function(e,t,r){return e=Ku(e),r=null==r?0:$n(Lu(r),0,e.length),t=Ni(t),e.slice(r,r+t.length)==t},pn.subtract=Ja,pn.sum=function(e){return e&&e.length?fr(e,Ra):0},pn.sumBy=function(e,t){return e&&e.length?fr(e,No(t,2)):0},pn.template=function(e,t,n){var i=pn.templateSettings;n&&qo(e,t,n)&&(t=r),e=Ku(e),t=Gu({},t,i,xo);var o,s,u=Gu({},t.imports,i.imports,xo),a=ia(u),c=dr(u,a),l=0,f=t.interpolate||qe,h="__p += '",p=rt((t.escape||qe).source+"|"+f.source+"|"+(f===Ce?je:qe).source+"|"+(t.evaluate||qe).source+"|$","g"),d="//# sourceURL="+(lt.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Et+"]")+"\n";e.replace(p,function(t,r,n,i,u,a){return n||(n=i),h+=e.slice(l,a).replace(Ge,Dr),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),u&&(s=!0,h+="';\n"+u+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),h+="';\n";var b=lt.call(t,"variable")&&t.variable;b||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(ye,""):h).replace(ve,"$1").replace(me,"$1;"),h="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Ca(function(){return Ze(a,d+"return "+h).apply(r,c)});if(y.source=h,wu(y))throw y;return y},pn.times=function(e,t){if((e=Lu(e))<1||e>T)return[];var r=$,n=Kr(e,$);t=No(t),e-=$;for(var i=hr(n,t);++r<e;)t(r);return i},pn.toFinite=Uu,pn.toInteger=Lu,pn.toLength=Vu,pn.toLower=function(e){return Ku(e).toLowerCase()},pn.toNumber=Wu,pn.toSafeInteger=function(e){return e?$n(Lu(e),-T,T):0===e?e:0},pn.toString=Ku,pn.toUpper=function(e){return Ku(e).toUpperCase()},pn.trim=function(e,t,n){if((e=Ku(e))&&(n||t===r))return e.replace(Te,"");if(!e||!(t=Ni(t)))return e;var i=Ir(e),o=Ir(t);return Gi(i,yr(i,o),vr(i,o)+1).join("")},pn.trimEnd=function(e,t,n){if((e=Ku(e))&&(n||t===r))return e.replace(Be,"");if(!e||!(t=Ni(t)))return e;var i=Ir(e);return Gi(i,0,vr(i,Ir(t))+1).join("")},pn.trimStart=function(e,t,n){if((e=Ku(e))&&(n||t===r))return e.replace(Fe,"");if(!e||!(t=Ni(t)))return e;var i=Ir(e);return Gi(i,yr(i,Ir(t))).join("")},pn.truncate=function(e,t){var n=S,i=C;if(Ou(t)){var o="separator"in t?t.separator:o;n="length"in t?Lu(t.length):n,i="omission"in t?Ni(t.omission):i}var s=(e=Ku(e)).length;if(_r(e)){var u=Ir(e);s=u.length}if(n>=s)return e;var a=n-Or(i);if(a<1)return i;var c=u?Gi(u,0,a).join(""):e.slice(0,a);if(o===r)return c+i;if(u&&(a+=c.length-a),Fu(o)){if(e.slice(a).search(o)){var l,f=c;for(o.global||(o=rt(o.source,Ku(Ue.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var h=l.index;c=c.slice(0,h===r?a:h)}}else if(e.indexOf(Ni(o),a)!=a){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+i},pn.unescape=function(e){return(e=Ku(e))&&_e.test(e)?e.replace(ge,Ar):e},pn.uniqueId=function(e){var t=++ft;return Ku(e)+t},pn.upperCase=Ea,pn.upperFirst=wa,pn.each=Ks,pn.eachRight=zs,pn.first=gs,$a(pn,(Ga={},qn(pn,function(e,t){lt.call(pn.prototype,t)||(Ga[t]=e)}),Ga),{chain:!1}),pn.VERSION="4.17.15",Yt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){pn[e].placeholder=pn}),Yt(["drop","take"],function(e,t){vn.prototype[e]=function(n){n=n===r?1:Yr(Lu(n),0);var i=this.__filtered__&&!t?new vn(this):this.clone();return i.__filtered__?i.__takeCount__=Kr(n,i.__takeCount__):i.__views__.push({size:Kr(n,$),type:e+(i.__dir__<0?"Right":"")}),i},vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Yt(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r==I||3==r;vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:No(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),Yt(["head","last"],function(e,t){var r="take"+(t?"Right":"");vn.prototype[e]=function(){return this[r](1).value()[0]}}),Yt(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");vn.prototype[e]=function(){return this.__filtered__?new vn(this):this[r](1)}}),vn.prototype.compact=function(){return this.filter(Ra)},vn.prototype.find=function(e){return this.filter(e).head()},vn.prototype.findLast=function(e){return this.reverse().find(e)},vn.prototype.invokeMap=wi(function(e,t){return"function"==typeof e?new vn(this):this.map(function(r){return ni(r,e,t)})}),vn.prototype.reject=function(e){return this.filter(au(No(e)))},vn.prototype.slice=function(e,t){e=Lu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=Lu(t))<0?n.dropRight(-t):n.take(t-e)),n)},vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},vn.prototype.toArray=function(){return this.take($)},qn(vn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=pn[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);o&&(pn.prototype[t]=function(){var t=this.__wrapped__,u=i?[1]:arguments,a=t instanceof vn,c=u[0],l=a||vu(t),f=function(e){var t=o.apply(pn,Jt([e],u));return i&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=s&&!h,b=a&&!p;if(!s&&l){t=b?t:new vn(this);var y=e.apply(t,u);return y.__actions__.push({func:Us,args:[f],thisArg:r}),new yn(y,h)}return d&&b?e.apply(this,u):(y=this.thru(f),d?i?y.value()[0]:y.value():y)})}),Yt(["pop","push","shift","sort","splice","unshift"],function(e){var t=ot[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);pn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(vu(i)?i:[],e)}return this[r](function(r){return t.apply(vu(r)?r:[],e)})}}),qn(vn.prototype,function(e,t){var r=pn[t];if(r){var n=r.name+"";lt.call(nn,n)||(nn[n]=[]),nn[n].push({name:t,func:r})}}),nn[po(r,b).name]=[{name:"wrapper",func:r}],vn.prototype.clone=function(){var e=new vn(this.__wrapped__);return e.__actions__=ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ro(this.__views__),e},vn.prototype.reverse=function(){if(this.__filtered__){var e=new vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=vu(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Kr(t,e+s);break;case"takeRight":e=Yr(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,u=o.end,a=u-s,c=n?u:s-1,l=this.__iteratees__,f=l.length,h=0,p=Kr(a,this.__takeCount__);if(!r||!n&&i==a&&p==a)return Li(e,this.__actions__);var d=[];e:for(;a--&&h<p;){for(var b=-1,y=e[c+=t];++b<f;){var v=l[b],m=v.iteratee,g=v.type,D=m(y);if(g==A)y=D;else if(!D){if(g==I)continue e;break e}}d[h++]=y}return d},pn.prototype.at=Ls,pn.prototype.chain=function(){return js(this)},pn.prototype.commit=function(){return new yn(this.value(),this.__chain__)},pn.prototype.next=function(){this.__values__===r&&(this.__values__=ju(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},pn.prototype.plant=function(e){for(var t,n=this;n instanceof bn;){var i=hs(n);i.__index__=0,i.__values__=r,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},pn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof vn){var t=e;return this.__actions__.length&&(t=new vn(this)),(t=t.reverse()).__actions__.push({func:Us,args:[Os],thisArg:r}),new yn(t,this.__chain__)}return this.thru(Os)},pn.prototype.toJSON=pn.prototype.valueOf=pn.prototype.value=function(){return Li(this.__wrapped__,this.__actions__)},pn.prototype.first=pn.prototype.head,Tr&&(pn.prototype[Tr]=function(){return this}),pn}();Ft?((Ft.exports=Rr)._=Rr,Tt._=Rr):Rt._=Rr}).call(commonjsGlobal)}),mute=MuteStream;function MuteStream(e){stream.apply(this),e=e||{},this.writable=this.readable=!0,this.muted=!1,this.on("pipe",this._onpipe),this.replace=e.replace,this._prompt=e.prompt||null,this._hadControl=!1}function onPipe(e){this._src=e}function getIsTTY(){return this._dest?this._dest.isTTY:!!this._src&&this._src.isTTY}function setIsTTY(e){Object.defineProperty(this,"isTTY",{value:e,enumerable:!0,writable:!0,configurable:!0})}function proxy(e){return function(){var t=this._dest,r=this._src;t&&t[e]&&t[e].apply(t,arguments),r&&r[e]&&r[e].apply(r,arguments)}}MuteStream.prototype=Object.create(stream.prototype),Object.defineProperty(MuteStream.prototype,"constructor",{value:MuteStream,enumerable:!1}),MuteStream.prototype.mute=function(){this.muted=!0},MuteStream.prototype.unmute=function(){this.muted=!1},Object.defineProperty(MuteStream.prototype,"_onpipe",{value:onPipe,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(MuteStream.prototype,"isTTY",{get:getIsTTY,set:setIsTTY,enumerable:!0,configurable:!0}),Object.defineProperty(MuteStream.prototype,"rows",{get:function(){return this._dest?this._dest.rows:this._src?this._src.rows:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(MuteStream.prototype,"columns",{get:function(){return this._dest?this._dest.columns:this._src?this._src.columns:void 0},enumerable:!0,configurable:!0}),MuteStream.prototype.pipe=function(e,t){return this._dest=e,stream.prototype.pipe.call(this,e,t)},MuteStream.prototype.pause=function(){if(this._src)return this._src.pause()},MuteStream.prototype.resume=function(){if(this._src)return this._src.resume()},MuteStream.prototype.write=function(e){if(this.muted){if(!this.replace)return!0;if(e.match(/^\u001b/))return 0===e.indexOf(this._prompt)&&(e=(e=e.substr(this._prompt.length)).replace(/./g,this.replace),e=this._prompt+e),this._hadControl=!0,this.emit("data",e);this._prompt&&this._hadControl&&0===e.indexOf(this._prompt)&&(this._hadControl=!1,this.emit("data",this._prompt),e=e.substr(this._prompt.length)),e=e.toString().replace(/./g,this.replace)}this.emit("data",e)},MuteStream.prototype.end=function(e){this.muted&&(e=e&&this.replace?e.toString().replace(/./g,this.replace):null),e&&this.emit("data",e),this.emit("end")},MuteStream.prototype.destroy=proxy("destroy"),MuteStream.prototype.destroySoon=proxy("destroySoon"),MuteStream.prototype.close=proxy("close");class UI{constructor(e){this.rl||(this.rl=readline$2.createInterface(setupReadlineOptions(e))),this.rl.resume(),this.onForceClose=this.onForceClose.bind(this),process.on("exit",this.onForceClose),this.rl.on("SIGINT",this.onForceClose)}onForceClose(){this.close(),process.kill(process.pid,"SIGINT"),console.log("")}close(){this.rl.removeListener("SIGINT",this.onForceClose),process.removeListener("exit",this.onForceClose),this.rl.output.unmute(),this.activePrompt&&"function"==typeof this.activePrompt.close&&this.activePrompt.close(),this.rl.output.end(),this.rl.pause(),this.rl.close()}}function setupReadlineOptions(e){var t=(e=e||{}).input||process.stdin,r=new mute;r.pipe(e.output||process.stdout);var n=r;return lodash.extend({terminal:!0,input:t,output:n},lodash.omit(e,["input","output"]))}var baseUI=UI,ansiEscapes_1=createCommonjsModule(function(e){const t=e.exports;e.exports.default=t;const r="[",n="]",i="",o=";",s="Apple_Terminal"===process.env.TERM_PROGRAM;t.cursorTo=(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");return"number"!=typeof t?r+(e+1)+"G":r+(t+1)+";"+(e+1)+"H"},t.cursorMove=(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");let n="";return e<0?n+=r+-e+"D":e>0&&(n+=r+e+"C"),t<0?n+=r+-t+"A":t>0&&(n+=r+t+"B"),n},t.cursorUp=(e=1)=>r+e+"A",t.cursorDown=(e=1)=>r+e+"B",t.cursorForward=(e=1)=>r+e+"C",t.cursorBackward=(e=1)=>r+e+"D",t.cursorLeft="[G",t.cursorSavePosition=s?"7":"[s",t.cursorRestorePosition=s?"8":"[u",t.cursorGetPosition="[6n",t.cursorNextLine="[E",t.cursorPrevLine="[F",t.cursorHide="[?25l",t.cursorShow="[?25h",t.eraseLines=e=>{let r="";for(let n=0;n<e;n++)r+=t.eraseLine+(n<e-1?t.cursorUp():"");return e&&(r+=t.cursorLeft),r},t.eraseEndLine="[K",t.eraseStartLine="[1K",t.eraseLine="[2K",t.eraseDown="[J",t.eraseUp="[1J",t.eraseScreen="[2J",t.scrollUp="[S",t.scrollDown="[T",t.clearScreen="c",t.clearTerminal="win32"===process.platform?`${t.eraseScreen}[0f`:`${t.eraseScreen}[3J[H`,t.beep=i,t.link=(e,t)=>[n,"8",o,o,t,i,e,n,"8",o,o,i].join(""),t.image=(e,t={})=>{let r=`${n}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+i},t.iTerm={setCwd:(e=process.cwd())=>`${n}50;CurrentDir=${e}${i}`}}),left=function(e,t){e.output.write(ansiEscapes_1.cursorBackward(t))},right=function(e,t){e.output.write(ansiEscapes_1.cursorForward(t))},up=function(e,t){e.output.write(ansiEscapes_1.cursorUp(t))},down=function(e,t){e.output.write(ansiEscapes_1.cursorDown(t))},clearLine=function(e,t){e.output.write(ansiEscapes_1.eraseLines(t))},readline$1={left:left,right:right,up:up,down:down,clearLine:clearLine};class BottomBar extends baseUI{constructor(e){super(e=e||{}),this.log=through_1(this.writeLog.bind(this)),this.bottomBar=e.bottomBar||"",this.render()}render(){return this.write(this.bottomBar),this}clean(){return readline$1.clearLine(this.rl,this.bottomBar.split("\n").length),this}updateBottomBar(e){return readline$1.clearLine(this.rl,1),this.rl.output.unmute(),this.clean(),this.bottomBar=e,this.render(),this.rl.output.mute(),this}writeLog(e){return this.rl.output.unmute(),this.clean(),this.rl.output.write(this.enforceLF(e.toString())),this.render(),this.rl.output.mute(),this}enforceLF(e){return e.match(/[\r\n]$/)?e:e+"\n"}write(e){var t=e.split(/\n/);this.height=t.length,this.rl.setPrompt(lodash.last(t)),0===this.rl.output.rows&&0===this.rl.output.columns&&readline$1.left(this.rl,e.length+this.rl.line.length),this.rl.output.write(e)}}var bottomBar=BottomBar,extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function isFunction(e){return"function"==typeof e}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;_enable_super_gross_mode_that_will_cause_bad_things=e},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(e){setTimeout(function(){throw e},0)}var empty={closed:!0,next:function(e){},error:function(e){if(config.useDeprecatedSynchronousErrorHandling)throw e;hostReportError(e)},complete:function(){}},isArray=Array.isArray||function(e){return e&&"number"==typeof e.length};function isObject(e){return null!==e&&"object"==typeof e}function UnsubscriptionErrorImpl(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype);var UnsubscriptionError=UnsubscriptionErrorImpl,Subscription=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this._parentOrParents,n=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var o=0;o<r.length;++o){r[o].remove(this)}if(isFunction(n))try{n.call(this)}catch(e){t=e instanceof UnsubscriptionError?flattenUnsubscriptionErrors(e.errors):[e]}if(isArray(i)){o=-1;for(var s=i.length;++o<s;){var u=i[o];if(isObject(u))try{u.unsubscribe()}catch(e){t=t||[],e instanceof UnsubscriptionError?t=t.concat(flattenUnsubscriptionErrors(e.errors)):t.push(e)}}}if(t)throw new UnsubscriptionError(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function flattenUnsubscriptionErrors(e){return e.reduce(function(e,t){return e.concat(t instanceof UnsubscriptionError?t.errors:t)},[])}var rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),Subscriber=function(e){function t(r,n,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=empty;break;case 1:if(!r){o.destination=empty;break}if("object"==typeof r){r instanceof t?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new SafeSubscriber(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new SafeSubscriber(o,r,n,i)}return o}return __extends(t,e),t.prototype[rxSubscriber]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(Subscription),SafeSubscriber=function(e){function t(t,r,n,i){var o,s=e.call(this)||this;s._parentSubscriber=t;var u=s;return isFunction(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==empty&&(isFunction((u=Object.create(r)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=o,s._error=n,s._complete=i,s}return __extends(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),config.useDeprecatedSynchronousErrorHandling)throw e;hostReportError(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(hostReportError(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(Subscriber);function canReportError(e){for(;e;){var t=e,r=t.closed,n=t.destination,i=t.isStopped;if(r||i)return!1;e=n&&n instanceof Subscriber?n:null}return!0}function toSubscriber(e,t,r){if(e){if(e instanceof Subscriber)return e;if(e[rxSubscriber])return e[rxSubscriber]()}return e||t||r?new Subscriber(e,t,r):new Subscriber(empty)}var observable="function"==typeof Symbol&&Symbol.observable||"@@observable";function noop(){}function pipe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pipeFromArray(e)}function pipeFromArray(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:noop}var Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=toSubscriber(e,t,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=getPromiseCtor(t))(function(t,n){var i;i=r.subscribe(function(t){try{e(t)}catch(e){n(e),i&&i.unsubscribe()}},n,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=getPromiseCtor(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function getPromiseCtor(e){if(e||(e=config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype);var ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return __extends(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(Subscription),SubjectSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return __extends(t,e),t}(Subscriber),Subject=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return __extends(t,e),t.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},t.prototype.lift=function(e){var t=new AnonymousSubject(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),Subscription.EMPTY):this.isStopped?(e.complete(),Subscription.EMPTY):(this.observers.push(e),new SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new Observable;return e.source=this,e},t.create=function(e,t){return new AnonymousSubject(e,t)},t}(Observable),AnonymousSubject=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return __extends(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):Subscription.EMPTY},t}(Subject);function refCount(){return function(e){return e.lift(new RefCountOperator(e))}}var RefCountOperator=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new RefCountSubscriber(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),RefCountSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return __extends(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(Subscriber),ConnectableObservable=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return __extends(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new Subscription).add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),e.closed&&(this._connection=null,e=Subscription.EMPTY)),e},t.prototype.refCount=function(){return refCount()(this)},t}(Observable),connectableProto=ConnectableObservable.prototype,connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}},ConnectableSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return __extends(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(SubjectSubscriber);function groupBy(e,t,r,n){return function(i){return i.lift(new GroupByOperator(e,t,r,n))}}var GroupByOperator=function(){function e(e,t,r,n){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=n}return e.prototype.call=function(e,t){return t.subscribe(new GroupBySubscriber(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),GroupBySubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;return s.keySelector=r,s.elementSelector=n,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return __extends(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups=new Map);var n,i=r.get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!i){i=this.subjectSelector?this.subjectSelector():new Subject,r.set(t,i);var o=new GroupedObservable(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new GroupedObservable(t,i))}catch(e){return void this.error(e)}this.add(s.subscribe(new GroupDurationSubscriber(t,i,this)))}}i.closed||i.next(n)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,r){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(Subscriber),GroupDurationSubscriber=function(e){function t(t,r,n){var i=e.call(this,r)||this;return i.key=t,i.group=r,i.parent=n,i}return __extends(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(Subscriber),GroupedObservable=function(e){function t(t,r,n){var i=e.call(this)||this;return i.key=t,i.groupSubject=r,i.refCountSubscription=n,i}return __extends(t,e),t.prototype._subscribe=function(e){var t=new Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&t.add(new InnerRefCountSubscription(r)),t.add(n.subscribe(e)),t},t}(Observable),InnerRefCountSubscription=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,t.count++,r}return __extends(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(Subscription),BehaviorSubject=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Subject),Action=function(e){function t(t,r){return e.call(this)||this}return __extends(t,e),t.prototype.schedule=function(e,t){return this},t}(Subscription),AsyncAction=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return __extends(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(Action),QueueAction=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return __extends(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(AsyncAction),Scheduler=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}(),AsyncScheduler=function(e){function t(r,n){void 0===n&&(n=Scheduler.now);var i=e.call(this,r,function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return __extends(t,e),t.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(Scheduler),QueueScheduler=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(AsyncScheduler),queue=new QueueScheduler(QueueAction),EMPTY=new Observable(function(e){return e.complete()});function empty$1(e){return e?emptyScheduled(e):EMPTY}function emptyScheduled(e){return new Observable(function(t){return e.schedule(function(){return t.complete()})})}function isScheduler(e){return e&&"function"==typeof e.schedule}var NotificationKind,subscribeToArray=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}};function scheduleArray(e,t){return new Observable(function(r){var n=new Subscription,i=0;return n.add(t.schedule(function(){i!==e.length?(r.next(e[i++]),r.closed||n.add(this.schedule())):r.complete()})),n})}function fromArray(e,t){return t?scheduleArray(e,t):new Observable(subscribeToArray(e))}function of(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return isScheduler(r)?(e.pop(),scheduleArray(e,r)):fromArray(e)}function throwError(e,t){return new Observable(t?function(r){return t.schedule(dispatch,0,{error:e,subscriber:r})}:function(t){return t.error(e)})}function dispatch(e){var t=e.error;e.subscriber.error(t)}NotificationKind||(NotificationKind={});var Notification=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return of(this.value);case"E":return throwError(this.error);case"C":return empty$1()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function observeOn(e,t){return void 0===t&&(t=0),function(r){return r.lift(new ObserveOnOperator(e,t))}}var ObserveOnOperator=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new ObserveOnSubscriber(e,this.scheduler,this.delay))},e}(),ObserveOnSubscriber=function(e){function t(t,r,n){void 0===n&&(n=0);var i=e.call(this,t)||this;return i.scheduler=r,i.delay=n,i}return __extends(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new ObserveOnMessage(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Notification.createComplete()),this.unsubscribe()},t}(Subscriber),ObserveOnMessage=function(){return function(e,t){this.notification=e,this.destination=t}}(),ReplaySubject=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return __extends(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var r=this._events;r.push(t),r.length>this._bufferSize&&r.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new ReplayEvent(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?t=Subscription.EMPTY:(this.observers.push(e),t=new SubjectSubscription(this,e)),i&&e.add(e=new ObserveOnSubscriber(e,i)),r)for(var s=0;s<o&&!e.closed;s++)e.next(n[s]);else for(s=0;s<o&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(e-n[o].time<r);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&n.splice(0,o),n},t}(Subject),ReplayEvent=function(){return function(e,t){this.time=e,this.value=t}}(),AsyncSubject=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return __extends(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(Subject),nextHandle=1,tasksByHandle={};function runIfPresent(e){var t=tasksByHandle[e];t&&t()}var Immediate={setImmediate:function(e){var t=nextHandle++;return tasksByHandle[t]=e,Promise.resolve().then(function(){return runIfPresent(t)}),t},clearImmediate:function(e){delete tasksByHandle[e]}},AsapAction=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return __extends(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(Immediate.clearImmediate(r),t.scheduled=void 0)},t}(AsyncAction),AsapScheduler=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(AsyncScheduler),asap=new AsapScheduler(AsapAction),async=new AsyncScheduler(AsyncAction),AnimationFrameAction=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return __extends(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(cancelAnimationFrame(r),t.scheduled=void 0)},t}(AsyncAction),AnimationFrameScheduler=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(AsyncScheduler),animationFrame=new AnimationFrameScheduler(AnimationFrameAction),VirtualTimeScheduler=function(e){function t(t,r){void 0===t&&(t=VirtualAction),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=e.call(this,t,function(){return n.frame})||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return __extends(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(AsyncScheduler),VirtualAction=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1);var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.index=n,i.active=!0,i.index=t.index=n,i}return __extends(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(AsyncAction);function identity(e){return e}function isObservable(e){return!!e&&(e instanceof Observable||"function"==typeof e.lift&&"function"==typeof e.subscribe)}function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype);var ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl;function EmptyErrorImpl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}EmptyErrorImpl.prototype=Object.create(Error.prototype);var EmptyError=EmptyErrorImpl;function TimeoutErrorImpl(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}TimeoutErrorImpl.prototype=Object.create(Error.prototype);var TimeoutError=TimeoutErrorImpl;function map(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new MapOperator(e,t))}}var MapOperator=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new MapSubscriber(e,this.project,this.thisArg))},e}(),MapSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return __extends(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Subscriber);function bindCallback(e,t,r){if(t){if(!isScheduler(t))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return bindCallback(e,r).apply(void 0,n).pipe(map(function(e){return isArray(e)?t.apply(void 0,e):t(e)}))};r=t}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i,o=this,s={context:o,subject:i,callbackFunc:e,scheduler:r};return new Observable(function(n){if(r){var u={args:t,subscriber:n,params:s};return r.schedule(dispatch$1,0,u)}if(!i){i=new AsyncSubject;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(e.length<=1?e[0]:e),i.complete()}]))}catch(e){canReportError(i)?i.error(e):console.warn(e)}}return i.subscribe(n)})}}function dispatch$1(e){var t=this,r=e.args,n=e.subscriber,i=e.params,o=i.callbackFunc,s=i.context,u=i.scheduler,a=i.subject;if(!a){a=i.subject=new AsyncSubject;try{o.apply(s,r.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.length<=1?e[0]:e;t.add(u.schedule(dispatchNext,0,{value:n,subject:a}))}]))}catch(e){a.error(e)}}this.add(a.subscribe(n))}function dispatchNext(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function bindNodeCallback(e,t,r){if(t){if(!isScheduler(t))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return bindNodeCallback(e,r).apply(void 0,n).pipe(map(function(e){return isArray(e)?t.apply(void 0,e):t(e)}))};r=t}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={subject:void 0,args:t,callbackFunc:e,scheduler:r,context:this};return new Observable(function(n){var o=i.context,s=i.subject;if(r)return r.schedule(dispatch$2,0,{params:i,subscriber:n,context:o});if(!s){s=i.subject=new AsyncSubject;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.shift();r?s.error(r):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(e){canReportError(s)?s.error(e):console.warn(e)}}return s.subscribe(n)})}}function dispatch$2(e){var t=this,r=e.params,n=e.subscriber,i=e.context,o=r.callbackFunc,s=r.args,u=r.scheduler,a=r.subject;if(!a){a=r.subject=new AsyncSubject;try{o.apply(i,s.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.shift();if(n)t.add(u.schedule(dispatchError,0,{err:n,subject:a}));else{var i=e.length<=1?e[0]:e;t.add(u.schedule(dispatchNext$1,0,{value:i,subject:a}))}}]))}catch(e){this.add(u.schedule(dispatchError,0,{err:e,subject:a}))}}this.add(a.subscribe(n))}function dispatchNext$1(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function dispatchError(e){var t=e.err;e.subject.error(t)}var OuterSubscriber=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Subscriber),InnerSubscriber=function(e){function t(t,r,n){var i=e.call(this)||this;return i.parent=t,i.outerValue=r,i.outerIndex=n,i.index=0,i}return __extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Subscriber),subscribeToPromise=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,hostReportError),t}};function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var iterator=getSymbolIterator(),subscribeToIterable=function(e){return function(t){for(var r=e[iterator]();;){var n=r.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof r.return&&t.add(function(){r.return&&r.return()}),t}},subscribeToObservable=function(e){return function(t){var r=e[observable]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)}},isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function isPromise(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var subscribeTo=function(e){if(e&&"function"==typeof e[observable])return subscribeToObservable(e);if(isArrayLike(e))return subscribeToArray(e);if(isPromise(e))return subscribeToPromise(e);if(e&&"function"==typeof e[iterator])return subscribeToIterable(e);var t=isObject(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function subscribeToResult(e,t,r,n,i){if(void 0===i&&(i=new InnerSubscriber(e,r,n)),!i.closed)return t instanceof Observable?t.subscribe(i):subscribeTo(t)(i)}var NONE={};function combineLatest(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null,n=null;return isScheduler(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&isArray(e[0])&&(e=e[0]),fromArray(e,n).lift(new CombineLatestOperator(r))}var CombineLatestOperator=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new CombineLatestSubscriber(e,this.resultSelector))},e}(),CombineLatestSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return __extends(t,e),t.prototype._next=function(e){this.values.push(NONE),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(subscribeToResult(this,n,n,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.values,s=o[r],u=this.toRespond?s===NONE?--this.toRespond:this.toRespond:0;o[r]=t,0===u&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(OuterSubscriber);function scheduleObservable(e,t){return new Observable(function(r){var n=new Subscription;return n.add(t.schedule(function(){var i=e[observable]();n.add(i.subscribe({next:function(e){n.add(t.schedule(function(){return r.next(e)}))},error:function(e){n.add(t.schedule(function(){return r.error(e)}))},complete:function(){n.add(t.schedule(function(){return r.complete()}))}}))})),n})}function schedulePromise(e,t){return new Observable(function(r){var n=new Subscription;return n.add(t.schedule(function(){return e.then(function(e){n.add(t.schedule(function(){r.next(e),n.add(t.schedule(function(){return r.complete()}))}))},function(e){n.add(t.schedule(function(){return r.error(e)}))})})),n})}function scheduleIterable(e,t){if(!e)throw new Error("Iterable cannot be null");return new Observable(function(r){var n,i=new Subscription;return i.add(function(){n&&"function"==typeof n.return&&n.return()}),i.add(t.schedule(function(){n=e[iterator](),i.add(t.schedule(function(){if(!r.closed){var e,t;try{var i=n.next();e=i.value,t=i.done}catch(e){return void r.error(e)}t?r.complete():(r.next(e),this.schedule())}}))})),i})}function isInteropObservable(e){return e&&"function"==typeof e[observable]}function isIterable(e){return e&&"function"==typeof e[iterator]}function scheduled(e,t){if(null!=e){if(isInteropObservable(e))return scheduleObservable(e,t);if(isPromise(e))return schedulePromise(e,t);if(isArrayLike(e))return scheduleArray(e,t);if(isIterable(e)||"string"==typeof e)return scheduleIterable(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function from(e,t){return t?scheduled(e,t):e instanceof Observable?e:new Observable(subscribeTo(e))}function mergeMap(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(n){return n.pipe(mergeMap(function(r,n){return from(e(r,n)).pipe(map(function(e,i){return t(r,e,n,i)}))},r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new MergeMapOperator(e,r))})}var MergeMapOperator=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new MergeMapSubscriber(e,this.project,this.concurrent))},e}(),MergeMapSubscriber=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return __extends(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=new InnerSubscriber(this,void 0,void 0);this.destination.add(n),subscribeToResult(this,e,t,r,n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(OuterSubscriber);function mergeAll(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),mergeMap(identity,e)}function concatAll(){return mergeAll(1)}function concat(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return concatAll()(of.apply(void 0,e))}function defer(e){return new Observable(function(t){var r;try{r=e()}catch(e){return void t.error(e)}return(r?from(r):empty$1()).subscribe(t)})}function forkJoin(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=e[0];if(isArray(r))return forkJoinInternal(r,null);if(isObject(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return forkJoinInternal(n.map(function(e){return r[e]}),n)}}if("function"==typeof e[e.length-1]){var i=e.pop();return forkJoinInternal(e=1===e.length&&isArray(e[0])?e[0]:e,null).pipe(map(function(e){return i.apply(void 0,e)}))}return forkJoinInternal(e,null)}function forkJoinInternal(e,t){return new Observable(function(r){var n=e.length;if(0!==n)for(var i=new Array(n),o=0,s=0,u=function(u){var a=from(e[u]),c=!1;r.add(a.subscribe({next:function(e){c||(c=!0,s++),i[u]=e},error:function(e){return r.error(e)},complete:function(){++o!==n&&c||(s===n&&r.next(t?t.reduce(function(e,t,r){return e[t]=i[r],e},{}):i),r.complete())}}))},a=0;a<n;a++)u(a);else r.complete()})}function fromEvent(e,t,r,n){return isFunction(r)&&(n=r,r=void 0),n?fromEvent(e,t,r).pipe(map(function(e){return isArray(e)?n.apply(void 0,e):n(e)})):new Observable(function(n){setupSubscription(e,t,function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)},n,r)})}function setupSubscription(e,t,r,n,i){var o;if(isEventTarget(e)){var s=e;e.addEventListener(t,r,i),o=function(){return s.removeEventListener(t,r,i)}}else if(isJQueryStyleEventEmitter(e)){var u=e;e.on(t,r),o=function(){return u.off(t,r)}}else if(isNodeStyleEventEmitter(e)){var a=e;e.addListener(t,r),o=function(){return a.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,l=e.length;c<l;c++)setupSubscription(e[c],t,r,n,i)}n.add(o)}function isNodeStyleEventEmitter(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function isJQueryStyleEventEmitter(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function isEventTarget(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}function fromEventPattern(e,t,r){return r?fromEventPattern(e,t).pipe(map(function(e){return isArray(e)?r.apply(void 0,e):r(e)})):new Observable(function(r){var n,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)};try{n=e(i)}catch(e){return void r.error(e)}if(isFunction(t))return function(){return t(i,n)}})}function generate(e,t,r,n,i){var o,s;if(1==arguments.length){var u=e;s=u.initialState,t=u.condition,r=u.iterate,o=u.resultSelector||identity,i=u.scheduler}else void 0===n||isScheduler(n)?(s=e,o=identity,i=n):(s=e,o=n);return new Observable(function(e){var n=s;if(i)return i.schedule(dispatch$3,0,{subscriber:e,iterate:r,condition:t,resultSelector:o,state:n});for(;;){if(t){var u=void 0;try{u=t(n)}catch(t){return void e.error(t)}if(!u){e.complete();break}}var a=void 0;try{a=o(n)}catch(t){return void e.error(t)}if(e.next(a),e.closed)break;try{n=r(n)}catch(t){return void e.error(t)}}})}function dispatch$3(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(e){return void t.error(e)}if(!n)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function iif(e,t,r){return void 0===t&&(t=EMPTY),void 0===r&&(r=EMPTY),defer(function(){return e()?t:r})}function isNumeric(e){return!isArray(e)&&e-parseFloat(e)+1>=0}function interval(e,t){return void 0===e&&(e=0),void 0===t&&(t=async),(!isNumeric(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=async),new Observable(function(r){return r.add(t.schedule(dispatch$4,e,{subscriber:r,counter:0,period:e})),r})}function dispatch$4(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}function merge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return isScheduler(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof i&&(r=e.pop()),null===n&&1===e.length&&e[0]instanceof Observable?e[0]:mergeAll(r)(fromArray(e,n))}var NEVER=new Observable(noop);function never(){return NEVER}function onErrorResumeNext(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return EMPTY;var r=e[0],n=e.slice(1);return 1===e.length&&isArray(r)?onErrorResumeNext.apply(void 0,r):new Observable(function(e){var t=function(){return e.add(onErrorResumeNext.apply(void 0,n).subscribe(e))};return from(r).subscribe({next:function(t){e.next(t)},error:t,complete:t})})}function pairs(e,t){return new Observable(t?function(r){var n=Object.keys(e),i=new Subscription;return i.add(t.schedule(dispatch$5,0,{keys:n,index:0,subscriber:r,subscription:i,obj:e})),i}:function(t){for(var r=Object.keys(e),n=0;n<r.length&&!t.closed;n++){var i=r[n];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})}function dispatch$5(e){var t=e.keys,r=e.index,n=e.subscriber,i=e.subscription,o=e.obj;if(!n.closed)if(r<t.length){var s=t[r];n.next([s,o[s]]),i.add(this.schedule({keys:t,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}function not(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}function filter(e,t){return function(r){return r.lift(new FilterOperator(e,t))}}var FilterOperator=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new FilterSubscriber(e,this.predicate,this.thisArg))},e}(),FilterSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return __extends(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(Subscriber);function partition(e,t,r){return[filter(t,r)(new Observable(subscribeTo(e))),filter(not(t,r))(new Observable(subscribeTo(e)))]}function race(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!isArray(e[0]))return e[0];e=e[0]}return fromArray(e,void 0).lift(new RaceOperator)}var RaceOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new RaceSubscriber(e))},e}(),RaceSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return __extends(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],i=subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(OuterSubscriber);function range(e,t,r){return void 0===e&&(e=0),new Observable(function(n){void 0===t&&(t=e,e=0);var i=0,o=e;if(r)return r.schedule(dispatch$6,0,{index:i,count:t,start:e,subscriber:n});for(;;){if(i++>=t){n.complete();break}if(n.next(o++),n.closed)break}})}function dispatch$6(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t),i.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))}function timer(e,t,r){void 0===e&&(e=0);var n=-1;return isNumeric(t)?n=Number(t)<1?1:Number(t):isScheduler(t)&&(r=t),isScheduler(r)||(r=async),new Observable(function(t){var i=isNumeric(e)?e:+e-r.now();return r.schedule(dispatch$7,i,{index:0,period:n,subscriber:t})})}function dispatch$7(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}}function using(e,t){return new Observable(function(r){var n,i;try{n=e()}catch(e){return void r.error(e)}try{i=t(n)}catch(e){return void r.error(e)}var o=(i?from(i):EMPTY).subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function zip(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),fromArray(e,void 0).lift(new ZipOperator(r))}var ZipOperator=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ZipSubscriber(e,this.resultSelector))},e}(),ZipSubscriber=function(e){function t(t,r,n){void 0===n&&(n=Object.create(null));var i=e.call(this,t)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:null,i.values=n,i}return __extends(t,e),t.prototype._next=function(e){var t=this.iterators;isArray(e)?t.push(new StaticArrayIterator(e)):"function"==typeof e[iterator]?t.push(new StaticIterator(e[iterator]())):t.push(new ZipBufferIterator(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var r=0;r<t;r++){var n=e[r];if(n.stillUnsubscribed)this.destination.add(n.subscribe(n,r));else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++){if("function"==typeof(s=e[n]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(n=0;n<t;n++){var s,u=(s=e[n]).next();if(s.hasCompleted()&&(i=!0),u.done)return void r.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),i&&r.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Subscriber),StaticIterator=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),StaticArrayIterator=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),ZipBufferIterator=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.parent=r,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return __extends(t,e),t.prototype[iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return subscribeToResult(this,this.observable,this,t)},t}(OuterSubscriber),_esm5=Object.freeze({Observable:Observable,ConnectableObservable:ConnectableObservable,GroupedObservable:GroupedObservable,observable:observable,Subject:Subject,BehaviorSubject:BehaviorSubject,ReplaySubject:ReplaySubject,AsyncSubject:AsyncSubject,asapScheduler:asap,asyncScheduler:async,queueScheduler:queue,animationFrameScheduler:animationFrame,VirtualTimeScheduler:VirtualTimeScheduler,VirtualAction:VirtualAction,Scheduler:Scheduler,Subscription:Subscription,Subscriber:Subscriber,Notification:Notification,get NotificationKind(){return NotificationKind},pipe:pipe,noop:noop,identity:identity,isObservable:isObservable,ArgumentOutOfRangeError:ArgumentOutOfRangeError,EmptyError:EmptyError,ObjectUnsubscribedError:ObjectUnsubscribedError,UnsubscriptionError:UnsubscriptionError,TimeoutError:TimeoutError,bindCallback:bindCallback,bindNodeCallback:bindNodeCallback,combineLatest:combineLatest,concat:concat,defer:defer,empty:empty$1,forkJoin:forkJoin,from:from,fromEvent:fromEvent,fromEventPattern:fromEventPattern,generate:generate,iif:iif,interval:interval,merge:merge,never:never,of:of,onErrorResumeNext:onErrorResumeNext,pairs:pairs,partition:partition,race:race,range:range,throwError:throwError,timer:timer,using:using,zip:zip,scheduled:scheduled,EMPTY:EMPTY,NEVER:NEVER,config:config});function audit(e){return function(t){return t.lift(new AuditOperator(e))}}var AuditOperator=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new AuditSubscriber(e,this.durationSelector))},e}(),AuditSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.durationSelector=r,n.hasValue=!1,n}return __extends(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var r=subscribeToResult(this,t);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,r,n){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(OuterSubscriber);function auditTime(e,t){return void 0===t&&(t=async),audit(function(){return timer(e,t)})}function buffer(e){return function(t){return t.lift(new BufferOperator(e))}}var BufferOperator=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new BufferSubscriber(e,this.closingNotifier))},e}(),BufferSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.buffer=[],n.add(subscribeToResult(n,r)),n}return __extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(OuterSubscriber);function bufferCount(e,t){return void 0===t&&(t=null),function(r){return r.lift(new BufferCountOperator(e,t))}}var BufferCountOperator=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?BufferSkipCountSubscriber:BufferCountSubscriber}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),BufferCountSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.bufferSize=r,n.buffer=[],n}return __extends(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(Subscriber),BufferSkipCountSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.bufferSize=r,i.startBufferEvery=n,i.buffers=[],i.count=0,i}return __extends(t,e),t.prototype._next=function(e){var t=this.bufferSize,r=this.startBufferEvery,n=this.buffers,i=this.count;this.count++,i%r==0&&n.push([]);for(var o=n.length;o--;){var s=n[o];s.push(e),s.length===t&&(n.splice(o,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var n=t.shift();n.length>0&&r.next(n)}e.prototype._complete.call(this)},t}(Subscriber);function bufferTime(e){var t=arguments.length,r=async;isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new BufferTimeOperator(e,n,i,r))}}var BufferTimeOperator=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new BufferTimeSubscriber(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),Context=function(){return function(){this.buffer=[]}}(),BufferTimeSubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;s.bufferTimeSpan=r,s.bufferCreationInterval=n,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var u=s.openContext();if(s.timespanOnly=null==n||n<0,s.timespanOnly){var a={subscriber:s,context:u,bufferTimeSpan:r};s.add(u.closeAction=o.schedule(dispatchBufferTimeSpanOnly,r,a))}else{var c={subscriber:s,context:u},l={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:s,scheduler:o};s.add(u.closeAction=o.schedule(dispatchBufferClose,r,c)),s.add(o.schedule(dispatchBufferCreation,n,l))}return s}return __extends(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,r,n))}},t.prototype.openContext=function(){var e=new Context;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(Subscriber);function dispatchBufferTimeSpanOnly(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function dispatchBufferCreation(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(dispatchBufferClose,r,{subscriber:n,context:o})),this.schedule(e,t))}function dispatchBufferClose(e){var t=e.subscriber,r=e.context;t.closeContext(r)}function bufferToggle(e,t){return function(r){return r.lift(new BufferToggleOperator(e,t))}}var BufferToggleOperator=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new BufferToggleSubscriber(e,this.openings,this.closingSelector))},e}(),BufferToggleSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.openings=r,i.closingSelector=n,i.contexts=[],i.add(subscribeToResult(i,r)),i}return __extends(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;n<r;n++)t[n].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,n=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(n),n.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,r=new Subscription,n={buffer:[],subscription:r};t.push(n);var i=subscribeToResult(this,e,n);!i||i.closed?this.closeBuffer(n):(i.context=n,this.add(i),r.add(i))},t}(OuterSubscriber);function bufferWhen(e){return function(t){return t.lift(new BufferWhenOperator(e))}}var BufferWhenOperator=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new BufferWhenSubscriber(e,this.closingSelector))},e}(),BufferWhenSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.closingSelector=r,n.subscribing=!1,n.openBuffer(),n}return __extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,r,n,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(subscribeToResult(this,t)),this.subscribing=!1},t}(OuterSubscriber);function catchError(e){return function(t){var r=new CatchOperator(e),n=t.lift(r);return r.caught=n}}var CatchOperator=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new CatchSubscriber(e,this.selector,this.caught))},e}(),CatchSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.selector=r,i.caught=n,i}return __extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var n=new InnerSubscriber(this,void 0,void 0);this.add(n),subscribeToResult(this,r,void 0,void 0,n)}},t}(OuterSubscriber);function combineAll(e){return function(t){return t.lift(new CombineLatestOperator(e))}}function combineLatest$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&isArray(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(from([t].concat(e)),new CombineLatestOperator(r))}}function concat$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(concat.apply(void 0,[t].concat(e)))}}function concatMap(e,t){return mergeMap(e,t,1)}function concatMapTo(e,t){return concatMap(function(){return e},t)}function count(e){return function(t){return t.lift(new CountOperator(e,t))}}var CountOperator=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new CountSubscriber(e,this.predicate,this.source))},e}(),CountSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.source=n,i.count=0,i.index=0,i}return __extends(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(Subscriber);function debounce(e){return function(t){return t.lift(new DebounceOperator(e))}}var DebounceOperator=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new DebounceSubscriber(e,this.durationSelector))},e}(),DebounceSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.durationSelector=r,n.hasValue=!1,n.durationSubscription=null,n}return __extends(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=subscribeToResult(this,t))&&!r.closed&&this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(OuterSubscriber);function debounceTime(e,t){return void 0===t&&(t=async),function(r){return r.lift(new DebounceTimeOperator(e,t))}}var DebounceTimeOperator=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new DebounceTimeSubscriber(e,this.dueTime,this.scheduler))},e}(),DebounceTimeSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.dueTime=r,i.scheduler=n,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return __extends(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$2,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(Subscriber);function dispatchNext$2(e){e.debouncedNext()}function defaultIfEmpty(e){return void 0===e&&(e=null),function(t){return t.lift(new DefaultIfEmptyOperator(e))}}var DefaultIfEmptyOperator=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new DefaultIfEmptySubscriber(e,this.defaultValue))},e}(),DefaultIfEmptySubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.defaultValue=r,n.isEmpty=!0,n}return __extends(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(Subscriber);function isDate(e){return e instanceof Date&&!isNaN(+e)}function delay(e,t){void 0===t&&(t=async);var r=isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new DelayOperator(r,t))}}var DelayOperator=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new DelaySubscriber(e,this.delay,this.scheduler))},e}(),DelaySubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.delay=r,i.scheduler=n,i.queue=[],i.active=!1,i.errored=!1,i}return __extends(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,i=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new DelayMessage(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Notification.createComplete()),this.unsubscribe()},t}(Subscriber),DelayMessage=function(){return function(e,t){this.time=e,this.notification=t}}();function delayWhen(e,t){return t?function(r){return new SubscriptionDelayObservable(r,t).lift(new DelayWhenOperator(e))}:function(t){return t.lift(new DelayWhenOperator(e))}}var DelayWhenOperator=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new DelayWhenSubscriber(e,this.delayDurationSelector))},e}(),DelayWhenSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.delayDurationSelector=r,n.completed=!1,n.delayNotifierSubscriptions=[],n.index=0,n}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var r=this.delayDurationSelector(e,t);r&&this.tryDelay(r,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var r=subscribeToResult(this,e,t);r&&!r.closed&&(this.destination.add(r),this.delayNotifierSubscriptions.push(r))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(OuterSubscriber),SubscriptionDelayObservable=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subscriptionDelay=r,n}return __extends(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(e,this.source))},t}(Observable),SubscriptionDelaySubscriber=function(e){function t(t,r){var n=e.call(this)||this;return n.parent=t,n.source=r,n.sourceSubscribed=!1,n}return __extends(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(Subscriber);function dematerialize(){return function(e){return e.lift(new DeMaterializeOperator)}}var DeMaterializeOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new DeMaterializeSubscriber(e))},e}(),DeMaterializeSubscriber=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(Subscriber);function distinct(e,t){return function(r){return r.lift(new DistinctOperator(e,t))}}var DistinctOperator=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new DistinctSubscriber(e,this.keySelector,this.flushes))},e}(),DistinctSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.keySelector=r,i.values=new Set,n&&i.add(subscribeToResult(i,n)),i}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(e){return void r.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},t}(OuterSubscriber);function distinctUntilChanged(e,t){return function(r){return r.lift(new DistinctUntilChangedOperator(e,t))}}var DistinctUntilChangedOperator=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new DistinctUntilChangedSubscriber(e,this.compare,this.keySelector))},e}(),DistinctUntilChangedSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.keySelector=n,i.hasKey=!1,"function"==typeof r&&(i.compare=r),i}return __extends(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var r=this.keySelector;t=r?r(e):e}catch(e){return this.destination.error(e)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))},t}(Subscriber);function distinctUntilKeyChanged(e,t){return distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}function throwIfEmpty(e){return void 0===e&&(e=defaultErrorFactory),function(t){return t.lift(new ThrowIfEmptyOperator(e))}}var ThrowIfEmptyOperator=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new ThrowIfEmptySubscriber(e,this.errorFactory))},e}(),ThrowIfEmptySubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.errorFactory=r,n.hasValue=!1,n}return __extends(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(e){return function(t){return 0===e?empty$1():t.lift(new TakeOperator(e))}}var TakeOperator=function(){function e(e){if(this.total=e,this.total<0)throw new ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new TakeSubscriber(e,this.total))},e}(),TakeSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return __extends(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(Subscriber);function elementAt(e,t){if(e<0)throw new ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(filter(function(t,r){return r===e}),take(1),r?defaultIfEmpty(t):throwIfEmpty(function(){return new ArgumentOutOfRangeError}))}}function endWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return concat(t,of.apply(void 0,e))}}function every(e,t){return function(r){return r.lift(new EveryOperator(e,t,r))}}var EveryOperator=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new EverySubscriber(e,this.predicate,this.thisArg,this.source))},e}(),EverySubscriber=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.predicate=r,o.thisArg=n,o.source=i,o.index=0,o.thisArg=n||o,o}return __extends(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Subscriber);function exhaust(){return function(e){return e.lift(new SwitchFirstOperator)}}var SwitchFirstOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new SwitchFirstSubscriber(e))},e}(),SwitchFirstSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return __extends(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(subscribeToResult(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(OuterSubscriber);function exhaustMap(e,t){return t?function(r){return r.pipe(exhaustMap(function(r,n){return from(e(r,n)).pipe(map(function(e,i){return t(r,e,n,i)}))}))}:function(t){return t.lift(new ExhaustMapOperator(e))}}var ExhaustMapOperator=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new ExhaustMapSubscriber(e,this.project))},e}(),ExhaustMapSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.hasSubscription=!1,n.hasCompleted=!1,n.index=0,n}return __extends(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=new InnerSubscriber(this,void 0,void 0);this.destination.add(n),subscribeToResult(this,e,t,r,n)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(OuterSubscriber);function expand(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new ExpandOperator(e,t,r))}}var ExpandOperator=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new ExpandSubscriber(e,this.project,this.concurrent,this.scheduler))},e}(),ExpandSubscriber=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.project=r,o.concurrent=n,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return __extends(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,i=e.index;t.subscribeToProjection(r,n,i)},t.prototype._next=function(e){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(e);try{var i=(0,this.project)(e,n);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:n};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,n)}catch(e){r.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.destination.add(subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(OuterSubscriber);function finalize(e){return function(t){return t.lift(new FinallyOperator(e))}}var FinallyOperator=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new FinallySubscriber(e,this.callback))},e}(),FinallySubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.add(new Subscription(r)),n}return __extends(t,e),t}(Subscriber);function find(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new FindValueOperator(e,r,!1,t))}}var FindValueOperator=function(){function e(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}return e.prototype.call=function(e,t){return t.subscribe(new FindValueSubscriber(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),FindValueSubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;return s.predicate=r,s.source=n,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return __extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,r=this.thisArg,n=this.index++;try{t.call(r||this,e,n,this.source)&&this.notifyComplete(this.yieldIndex?n:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(Subscriber);function findIndex(e,t){return function(r){return r.lift(new FindValueOperator(e,r,!0,t))}}function first(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?filter(function(t,r){return e(t,r,n)}):identity,take(1),r?defaultIfEmpty(t):throwIfEmpty(function(){return new EmptyError}))}}function ignoreElements(){return function(e){return e.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new IgnoreElementsSubscriber(e))},e}(),IgnoreElementsSubscriber=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype._next=function(e){},t}(Subscriber);function isEmpty(){return function(e){return e.lift(new IsEmptyOperator)}}var IsEmptyOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new IsEmptySubscriber(e))},e}(),IsEmptySubscriber=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Subscriber);function takeLast(e){return function(t){return 0===e?empty$1():t.lift(new TakeLastOperator(e))}}var TakeLastOperator=function(){function e(e){if(this.total=e,this.total<0)throw new ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new TakeLastSubscriber(e,this.total))},e}(),TakeLastSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.ring=new Array,n.count=0,n}return __extends(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=t++%r;e.next(n[o])}e.complete()},t}(Subscriber);function last(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?filter(function(t,r){return e(t,r,n)}):identity,takeLast(1),r?defaultIfEmpty(t):throwIfEmpty(function(){return new EmptyError}))}}function mapTo(e){return function(t){return t.lift(new MapToOperator(e))}}var MapToOperator=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new MapToSubscriber(e,this.value))},e}(),MapToSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.value=r,n}return __extends(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(Subscriber);function materialize(){return function(e){return e.lift(new MaterializeOperator)}}var MaterializeOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new MaterializeSubscriber(e))},e}(),MaterializeSubscriber=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype._next=function(e){this.destination.next(Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(Notification.createComplete()),e.complete()},t}(Subscriber);function scan(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new ScanOperator(e,t,r))}}var ScanOperator=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new ScanSubscriber(e,this.accumulator,this.seed,this.hasSeed))},e}(),ScanSubscriber=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.accumulator=r,o._seed=n,o.hasSeed=i,o.index=0,o}return __extends(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(Subscriber);function reduce(e,t){return arguments.length>=2?function(r){return pipe(scan(e,t),takeLast(1),defaultIfEmpty(t))(r)}:function(t){return pipe(scan(function(t,r,n){return e(t,r,n+1)}),takeLast(1))(t)}}function max(e){return reduce("function"==typeof e?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t})}function merge$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(merge.apply(void 0,[t].concat(e)))}}function mergeMapTo(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?mergeMap(function(){return e},t,r):("number"==typeof t&&(r=t),mergeMap(function(){return e},r))}function mergeScan(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new MergeScanOperator(e,t,r))}}var MergeScanOperator=function(){function e(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new MergeScanSubscriber(e,this.accumulator,this.seed,this.concurrent))},e}(),MergeScanSubscriber=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.accumulator=r,o.acc=n,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return __extends(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=this.destination,n=void 0;try{n=(0,this.accumulator)(this.acc,e,t)}catch(e){return r.error(e)}this.active++,this._innerSub(n,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r){var n=new InnerSubscriber(this,void 0,void 0);this.destination.add(n),subscribeToResult(this,e,t,r,n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(OuterSubscriber);function min(e){return reduce("function"==typeof e?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t})}function multicast(e,t){return function(r){var n;if(n="function"==typeof e?e:function(){return e},"function"==typeof t)return r.lift(new MulticastOperator(n,t));var i=Object.create(r,connectableObservableDescriptor);return i.source=r,i.subjectFactory=n,i}}var MulticastOperator=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(e);return i.add(t.subscribe(n)),i},e}();function onErrorResumeNext$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&isArray(e[0])&&(e=e[0]),function(t){return t.lift(new OnErrorResumeNextOperator(e))}}var OnErrorResumeNextOperator=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new OnErrorResumeNextSubscriber(e,this.nextSources))},e}(),OnErrorResumeNextSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.destination=t,n.nextSources=r,n}return __extends(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new InnerSubscriber(this,void 0,void 0);this.destination.add(t),subscribeToResult(this,e,void 0,void 0,t)}else this.destination.complete()},t}(OuterSubscriber);function pairwise(){return function(e){return e.lift(new PairwiseOperator)}}var PairwiseOperator=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new PairwiseSubscriber(e))},e}(),PairwiseSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.hasPrev=!1,r}return __extends(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(Subscriber);function partition$1(e,t){return function(r){return[filter(e,t)(r),filter(not(e,t))(r)]}}function pluck(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return map(plucker(e,r))(t)}}function plucker(e,t){return function(r){for(var n=r,i=0;i<t;i++){var o=n[e[i]];if(void 0===o)return;n=o}return n}}function publish(e){return e?multicast(function(){return new Subject},e):multicast(new Subject)}function publishBehavior(e){return function(t){return multicast(new BehaviorSubject(e))(t)}}function publishLast(){return function(e){return multicast(new AsyncSubject)(e)}}function publishReplay(e,t,r,n){r&&"function"!=typeof r&&(n=r);var i="function"==typeof r?r:void 0,o=new ReplaySubject(e,t,n);return function(e){return multicast(function(){return o},i)(e)}}function race$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&isArray(e[0])&&(e=e[0]),t.lift.call(race.apply(void 0,[t].concat(e)))}}function repeat(e){return void 0===e&&(e=-1),function(t){return 0===e?empty$1():e<0?t.lift(new RepeatOperator(-1,t)):t.lift(new RepeatOperator(e-1,t))}}var RepeatOperator=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new RepeatSubscriber(e,this.count,this.source))},e}(),RepeatSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.count=r,i.source=n,i}return __extends(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(Subscriber);function repeatWhen(e){return function(t){return t.lift(new RepeatWhenOperator(e))}}var RepeatWhenOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new RepeatWhenSubscriber(e,this.notifier,t))},e}(),RepeatWhenSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.notifier=r,i.source=n,i.sourceIsBeingSubscribedTo=!0,i}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new Subject;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=subscribeToResult(this,t)},t}(OuterSubscriber);function retry(e){return void 0===e&&(e=-1),function(t){return t.lift(new RetryOperator(e,t))}}var RetryOperator=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new RetrySubscriber(e,this.count,this.source))},e}(),RetrySubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.count=r,i.source=n,i}return __extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e.prototype.error.call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(Subscriber);function retryWhen(e){return function(t){return t.lift(new RetryWhenOperator(e,t))}}var RetryWhenOperator=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new RetryWhenSubscriber(e,this.notifier,this.source))},e}(),RetryWhenSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.notifier=r,i.source=n,i}return __extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{r=new Subject;try{n=(0,this.notifier)(r)}catch(t){return e.prototype.error.call(this,t)}i=subscribeToResult(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,r,n,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},t}(OuterSubscriber);function sample$1(e){return function(t){return t.lift(new SampleOperator(e))}}var SampleOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new SampleSubscriber(e),n=t.subscribe(r);return n.add(subscribeToResult(r,this.notifier)),n},e}(),SampleSubscriber=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return __extends(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(OuterSubscriber);function sampleTime(e,t){return void 0===t&&(t=async),function(r){return r.lift(new SampleTimeOperator(e,t))}}var SampleTimeOperator=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new SampleTimeSubscriber(e,this.period,this.scheduler))},e}(),SampleTimeSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.period=r,i.scheduler=n,i.hasValue=!1,i.add(n.schedule(dispatchNotification,r,{subscriber:i,period:r})),i}return __extends(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(Subscriber);function dispatchNotification(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}function sequenceEqual(e,t){return function(r){return r.lift(new SequenceEqualOperator(e,t))}}var SequenceEqualOperator=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new SequenceEqualSubscriber(e,this.compareTo,this.comparator))},e}(),SequenceEqualSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.compareTo=r,i.comparator=n,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new SequenceEqualCompareToSubscriber(t,i))),i}return __extends(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,r=this.comparator;e.length>0&&t.length>0;){var n=e.shift(),i=t.shift(),o=!1;try{o=r?r(n,i):n===i}catch(e){this.destination.error(e)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(Subscriber),SequenceEqualCompareToSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.parent=r,n}return __extends(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(Subscriber);function shareSubjectFactory(){return new Subject}function share(){return function(e){return refCount()(multicast(shareSubjectFactory)(e))}}function shareReplay(e,t,r){var n;return n=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:r},function(e){return e.lift(shareReplayOperator(n))}}function shareReplayOperator(e){var t,r,n=e.bufferSize,i=void 0===n?Number.POSITIVE_INFINITY:n,o=e.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,u=e.refCount,a=e.scheduler,c=0,l=!1,f=!1;return function(e){c++,t&&!l||(l=!1,t=new ReplaySubject(i,s,a),r=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){f=!0,t.complete()}}));var n=t.subscribe(this);this.add(function(){c--,n.unsubscribe(),r&&!f&&u&&0===c&&(r.unsubscribe(),r=void 0,t=void 0)})}}function single(e){return function(t){return t.lift(new SingleOperator(e,t))}}var SingleOperator=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new SingleSubscriber(e,this.predicate,this.source))},e}(),SingleSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.source=n,i.seenValue=!1,i.index=0,i}return __extends(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new EmptyError)},t}(Subscriber);function skip(e){return function(t){return t.lift(new SkipOperator(e))}}var SkipOperator=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new SkipSubscriber(e,this.total))},e}(),SkipSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return __extends(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(Subscriber);function skipLast(e){return function(t){return t.lift(new SkipLastOperator(e))}}var SkipLastOperator=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new Subscriber(e)):t.subscribe(new SkipLastSubscriber(e,this._skipCount))},e}(),SkipLastSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n._skipCount=r,n._count=0,n._ring=new Array(r),n}return __extends(t,e),t.prototype._next=function(e){var t=this._skipCount,r=this._count++;if(r<t)this._ring[r]=e;else{var n=r%t,i=this._ring,o=i[n];i[n]=e,this.destination.next(o)}},t}(Subscriber);function skipUntil(e){return function(t){return t.lift(new SkipUntilOperator(e))}}var SkipUntilOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new SkipUntilSubscriber(e,this.notifier))},e}(),SkipUntilSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;n.hasValue=!1;var i=new InnerSubscriber(n,void 0,void 0);return n.add(i),n.innerSubscription=i,subscribeToResult(n,r,void 0,void 0,i),n}return __extends(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,r,n,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(OuterSubscriber);function skipWhile(e){return function(t){return t.lift(new SkipWhileOperator(e))}}var SkipWhileOperator=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new SkipWhileSubscriber(e,this.predicate))},e}(),SkipWhileSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.predicate=r,n.skipping=!0,n.index=0,n}return __extends(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(Subscriber);function startWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return isScheduler(r)?(e.pop(),function(t){return concat(e,t,r)}):function(t){return concat(e,t)}}var SubscribeOnObservable=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=asap);var i=e.call(this)||this;return i.source=t,i.delayTime=r,i.scheduler=n,(!isNumeric(r)||r<0)&&(i.delayTime=0),n&&"function"==typeof n.schedule||(i.scheduler=asap),i}return __extends(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=asap),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(Observable);function subscribeOn(e,t){return void 0===t&&(t=0),function(r){return r.lift(new SubscribeOnOperator(e,t))}}var SubscribeOnOperator=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}();function switchMap(e,t){return"function"==typeof t?function(r){return r.pipe(switchMap(function(r,n){return from(e(r,n)).pipe(map(function(e,i){return t(r,e,n,i)}))}))}:function(t){return t.lift(new SwitchMapOperator(e))}}var SwitchMapOperator=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new SwitchMapSubscriber(e,this.project))},e}(),SwitchMapSubscriber=function(e){function t(t,r){var n=e.call(this,t)||this;return n.project=r,n.index=0,n}return __extends(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new InnerSubscriber(this,void 0,void 0);this.destination.add(i),this.innerSubscription=subscribeToResult(this,e,t,r,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t}(OuterSubscriber);function switchAll(){return switchMap(identity)}function switchMapTo(e,t){return t?switchMap(function(){return e},t):switchMap(function(){return e})}function takeUntil(e){return function(t){return t.lift(new TakeUntilOperator(e))}}var TakeUntilOperator=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new TakeUntilSubscriber(e),n=subscribeToResult(r,this.notifier);return n&&!r.seenValue?(r.add(n),t.subscribe(r)):r},e}(),TakeUntilSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.seenValue=!1,r}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(OuterSubscriber);function takeWhile(e,t){return void 0===t&&(t=!1),function(r){return r.lift(new TakeWhileOperator(e,t))}}var TakeWhileOperator=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new TakeWhileSubscriber(e,this.predicate,this.inclusive))},e}(),TakeWhileSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.inclusive=n,i.index=0,i}return __extends(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())},t}(Subscriber);function tap(e,t,r){return function(n){return n.lift(new DoOperator(e,t,r))}}var DoOperator=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new TapSubscriber(e,this.nextOrObserver,this.error,this.complete))},e}(),TapSubscriber=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o._tapNext=noop,o._tapError=noop,o._tapComplete=noop,o._tapError=n||noop,o._tapComplete=i||noop,isFunction(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||noop,o._tapError=r.error||noop,o._tapComplete=r.complete||noop),o}return __extends(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttle(e,t){return void 0===t&&(t=defaultThrottleConfig),function(r){return r.lift(new ThrottleOperator(e,t.leading,t.trailing))}}var ThrottleOperator=function(){function e(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new ThrottleSubscriber(e,this.durationSelector,this.leading,this.trailing))},e}(),ThrottleSubscriber=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=r,o._leading=n,o._trailing=i,o._hasValue=!1,o}return __extends(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=subscribeToResult(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,r,n,i){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(OuterSubscriber);function throttleTime(e,t,r){return void 0===t&&(t=async),void 0===r&&(r=defaultThrottleConfig),function(n){return n.lift(new ThrottleTimeOperator(e,t,r.leading,r.trailing))}}var ThrottleTimeOperator=function(){function e(e,t,r,n){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new ThrottleTimeSubscriber(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),ThrottleTimeSubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;return s.duration=r,s.scheduler=n,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return __extends(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext$3,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(Subscriber);function dispatchNext$3(e){e.subscriber.clearThrottle()}function timeInterval(e){return void 0===e&&(e=async),function(t){return defer(function(){return t.pipe(scan(function(t,r){var n=t.current;return{value:r,current:e.now(),last:n}},{current:e.now(),value:void 0,last:void 0}),map(function(e){var t=e.current,r=e.last,n=e.value;return new TimeInterval(n,t-r)}))})}}var TimeInterval=function(){return function(e,t){this.value=e,this.interval=t}}();function timeoutWith(e,t,r){return void 0===r&&(r=async),function(n){var i=isDate(e),o=i?+e-r.now():Math.abs(e);return n.lift(new TimeoutWithOperator(o,i,t,r))}}var TimeoutWithOperator=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new TimeoutWithSubscriber(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),TimeoutWithSubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;return s.absoluteTimeout=r,s.waitFor=n,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return __extends(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(subscribeToResult(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(OuterSubscriber);function timeout(e,t){return void 0===t&&(t=async),timeoutWith(e,throwError(new TimeoutError),t)}function timestamp(e){return void 0===e&&(e=async),map(function(t){return new Timestamp(t,e.now())})}var Timestamp=function(){return function(e,t){this.value=e,this.timestamp=t}}();function toArrayReducer(e,t,r){return 0===r?[t]:(e.push(t),e)}function toArray(){return reduce(toArrayReducer,[])}function window$1(e){return function(t){return t.lift(new WindowOperator(e))}}var WindowOperator=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var r=new WindowSubscriber(e),n=t.subscribe(r);return n.closed||r.add(subscribeToResult(r,this.windowBoundaries)),n},e}(),WindowSubscriber=function(e){function t(t){var r=e.call(this,t)||this;return r.window=new Subject,t.next(r.window),r}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new Subject;t.next(r)},t}(OuterSubscriber);function windowCount(e,t){return void 0===t&&(t=0),function(r){return r.lift(new WindowCountOperator(e,t))}}var WindowCountOperator=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new WindowCountSubscriber(e,this.windowSize,this.startWindowEvery))},e}(),WindowCountSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=r,i.startWindowEvery=n,i.windows=[new Subject],i.count=0,t.next(i.windows[0]),i}return __extends(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(e);var u=this.count-n+1;if(u>=0&&u%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var a=new Subject;i.push(a),r.next(a)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(Subscriber);function windowTime(e){var t=async,r=null,n=Number.POSITIVE_INFINITY;return isScheduler(arguments[3])&&(t=arguments[3]),isScheduler(arguments[2])?t=arguments[2]:isNumeric(arguments[2])&&(n=arguments[2]),isScheduler(arguments[1])?t=arguments[1]:isNumeric(arguments[1])&&(r=arguments[1]),function(i){return i.lift(new WindowTimeOperator(e,r,n,t))}}var WindowTimeOperator=function(){function e(e,t,r,n){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new WindowTimeSubscriber(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),CountedSubject=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return __extends(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(Subject),WindowTimeSubscriber=function(e){function t(t,r,n,i,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=r,s.windowCreationInterval=n,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var u=s.openWindow();if(null!==n&&n>=0){var a={subscriber:s,window:u,context:null},c={windowTimeSpan:r,windowCreationInterval:n,subscriber:s,scheduler:o};s.add(o.schedule(dispatchWindowClose,r,a)),s.add(o.schedule(dispatchWindowCreation,n,c))}else{var l={subscriber:s,window:u,windowTimeSpan:r};s.add(o.schedule(dispatchWindowTimeSpanOnly,r,l))}return s}return __extends(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;n<r;n++){var i=t[n];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new CountedSubject;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(Subscriber);function dispatchWindowTimeSpanOnly(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&t.closeWindow(n),e.window=t.openWindow(),this.schedule(e,r)}function dispatchWindowCreation(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,o=r.openWindow(),s={action:this,subscription:null},u={subscriber:r,window:o,context:s};s.subscription=n.schedule(dispatchWindowClose,t,u),this.add(s.subscription),this.schedule(e,i)}function dispatchWindowClose(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}function windowToggle(e,t){return function(r){return r.lift(new WindowToggleOperator(e,t))}}var WindowToggleOperator=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new WindowToggleSubscriber(e,this.openings,this.closingSelector))},e}(),WindowToggleSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.openings=r,i.closingSelector=n,i.contexts=[],i.add(i.openSubscription=subscribeToResult(i,r,r)),i}return __extends(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;n<r;n++)t[n].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,n=-1;++n<r;){var i=t[n];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,r,n,i){if(e===this.openings){var o=void 0;try{o=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var s=new Subject,u=new Subscription,a={window:s,subscription:u};this.contexts.push(a);var c=subscribeToResult(this,o,a);c.closed?this.closeWindow(this.contexts.length-1):(c.context=a,u.add(c)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,r=t[e],n=r.window,i=r.subscription;t.splice(e,1),n.complete(),i.unsubscribe()}},t}(OuterSubscriber);function windowWhen(e){return function(t){return t.lift(new WindowOperator$1(e))}}var WindowOperator$1=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new WindowSubscriber$1(e,this.closingSelector))},e}(),WindowSubscriber$1=function(e){function t(t,r){var n=e.call(this,t)||this;return n.destination=t,n.closingSelector=r,n.openWindow(),n}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r,n=this.window=new Subject;this.destination.next(n);try{r=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=subscribeToResult(this,r))},t}(OuterSubscriber);function withLatestFrom(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return t.lift(new WithLatestFromOperator(n,r))}}var WithLatestFromOperator=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new WithLatestFromSubscriber(e,this.observables,this.project))},e}(),WithLatestFromSubscriber=function(e){function t(t,r,n){var i=e.call(this,t)||this;i.observables=r,i.project=n,i.toRespond=[];var o=r.length;i.values=new Array(o);for(var s=0;s<o;s++)i.toRespond.push(s);for(s=0;s<o;s++){var u=r[s];i.add(subscribeToResult(i,u,u,s))}return i}return __extends(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);-1!==s&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(OuterSubscriber);function zip$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(zip.apply(void 0,[t].concat(e)))}}function zipAll(e){return function(t){return t.lift(new ZipOperator(e))}}var operators=Object.freeze({audit:audit,auditTime:auditTime,buffer:buffer,bufferCount:bufferCount,bufferTime:bufferTime,bufferToggle:bufferToggle,bufferWhen:bufferWhen,catchError:catchError,combineAll:combineAll,combineLatest:combineLatest$1,concat:concat$1,concatAll:concatAll,concatMap:concatMap,concatMapTo:concatMapTo,count:count,debounce:debounce,debounceTime:debounceTime,defaultIfEmpty:defaultIfEmpty,delay:delay,delayWhen:delayWhen,dematerialize:dematerialize,distinct:distinct,distinctUntilChanged:distinctUntilChanged,distinctUntilKeyChanged:distinctUntilKeyChanged,elementAt:elementAt,endWith:endWith,every:every,exhaust:exhaust,exhaustMap:exhaustMap,expand:expand,filter:filter,finalize:finalize,find:find,findIndex:findIndex,first:first,groupBy:groupBy,ignoreElements:ignoreElements,isEmpty:isEmpty,last:last,map:map,mapTo:mapTo,materialize:materialize,max:max,merge:merge$1,mergeAll:mergeAll,mergeMap:mergeMap,flatMap:mergeMap,mergeMapTo:mergeMapTo,mergeScan:mergeScan,min:min,multicast:multicast,observeOn:observeOn,onErrorResumeNext:onErrorResumeNext$1,pairwise:pairwise,partition:partition$1,pluck:pluck,publish:publish,publishBehavior:publishBehavior,publishLast:publishLast,publishReplay:publishReplay,race:race$1,reduce:reduce,repeat:repeat,repeatWhen:repeatWhen,retry:retry,retryWhen:retryWhen,refCount:refCount,sample:sample$1,sampleTime:sampleTime,scan:scan,sequenceEqual:sequenceEqual,share:share,shareReplay:shareReplay,single:single,skip:skip,skipLast:skipLast,skipUntil:skipUntil,skipWhile:skipWhile,startWith:startWith,subscribeOn:subscribeOn,switchAll:switchAll,switchMap:switchMap,switchMapTo:switchMapTo,take:take,takeLast:takeLast,takeUntil:takeUntil,takeWhile:takeWhile,tap:tap,throttle:throttle,throttleTime:throttleTime,throwIfEmpty:throwIfEmpty,timeInterval:timeInterval,timeout:timeout,timeoutWith:timeoutWith,timestamp:timestamp,toArray:toArray,window:window$1,windowCount:windowCount,windowTime:windowTime,windowToggle:windowToggle,windowWhen:windowWhen,withLatestFrom:withLatestFrom,zip:zip$1,zipAll:zipAll}),isPromise_1=isPromise$1;function isPromise$1(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}var runAsync_1=createCommonjsModule(function(e){var t=e.exports=function(e,t){return t=t||function(){},function(){var r=!1,n=arguments,i=new Promise(function(t,i){var o=e.apply({async:function(){return r=!0,function(e,r){e?i(e):t(r)}}},Array.prototype.slice.call(n));r||(isPromise_1(o)?o.then(t,i):t(o))});return i.then(t.bind(null,null),t),i}};t.cb=function(e,r){return t(function(){var t=Array.prototype.slice.call(arguments);return t.length===e.length-1&&t.push(this.async()),e.apply(this,t)},r)}}),{from:from$1,of:of$1}=_esm5,fetchAsyncQuestionProperty=function(e,t,r){return lodash.isFunction(e[t])?from$1(runAsync_1(e[t])(r).then(r=>(e[t]=r,e))):of$1(e)},utils={fetchAsyncQuestionProperty:fetchAsyncQuestionProperty},{defer:defer$1,empty:empty$2,from:from$2,of:of$2}=_esm5,{concatMap:concatMap$1,filter:filter$1,publish:publish$1,reduce:reduce$1}=operators;class PromptUI extends baseUI{constructor(e,t){super(t),this.prompts=e}run(e){this.answers={},lodash.isPlainObject(e)&&(e=[e]);var t=lodash.isArray(e)?from$2(e):e;return this.process=t.pipe(concatMap$1(this.processQuestion.bind(this)),publish$1()),this.process.connect(),this.process.pipe(reduce$1((e,t)=>(lodash.set(this.answers,t.name,t.answer),this.answers),{})).toPromise(Promise).then(this.onCompletion.bind(this))}onCompletion(){return this.close(),this.answers}processQuestion(e){return e=lodash.clone(e),defer$1(()=>{return of$2(e).pipe(concatMap$1(this.setDefaultType.bind(this)),concatMap$1(this.filterIfRunnable.bind(this)),concatMap$1(()=>utils.fetchAsyncQuestionProperty(e,"message",this.answers)),concatMap$1(()=>utils.fetchAsyncQuestionProperty(e,"default",this.answers)),concatMap$1(()=>utils.fetchAsyncQuestionProperty(e,"choices",this.answers)),concatMap$1(this.fetchAnswer.bind(this)))})}fetchAnswer(e){var t=this.prompts[e.type];return this.activePrompt=new t(e,this.rl,this.answers),defer$1(()=>from$2(this.activePrompt.run().then(t=>({name:e.name,answer:t}))))}setDefaultType(e){return this.prompts[e.type]||(e.type="input"),defer$1(()=>of$2(e))}filterIfRunnable(e){if(!1===e.when)return empty$2();if(!lodash.isFunction(e.when))return of$2(e);var t=this.answers;return defer$1(()=>from$2(runAsync_1(e.when)(t).then(t=>{if(t)return e})).pipe(filter$1(e=>null!=e)))}}var prompt=PromptUI;const mimicFn=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};var mimicFn_1=mimicFn,default_1=mimicFn;mimicFn_1.default=default_1;const calledFunctions=new WeakMap,oneTime=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let r,n=!1,i=0;const o=e.displayName||e.name||"<anonymous>",s=function(...u){if(calledFunctions.set(s,++i),n){if(!0===t.throw)throw new Error(`Function \`${o}\` can only be called once`);return r}return n=!0,r=e.apply(this,u),e=null,r};return mimicFn_1(s,e),calledFunctions.set(s,i),s};var onetime=oneTime,default_1$1=oneTime,callCount=e=>{if(!calledFunctions.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return calledFunctions.get(e)};onetime.default=default_1$1,onetime.callCount=callCount;var emitter,signals=createCommonjsModule(function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}),signals$1=signals,EE=events$1;"function"!=typeof EE&&(EE=EE.EventEmitter),process.__signal_exit_emitter__?emitter=process.__signal_exit_emitter__:((emitter=process.__signal_exit_emitter__=new EE).count=0,emitter.emitted={}),emitter.infinite||(emitter.setMaxListeners(1/0),emitter.infinite=!0);var signalExit=function(e,t){assert.equal(typeof e,"function","a callback must be provided for exit handler"),!1===loaded&&load();var r="exit";t&&t.alwaysLast&&(r="afterexit");return emitter.on(r,e),function(){emitter.removeListener(r,e),0===emitter.listeners("exit").length&&0===emitter.listeners("afterexit").length&&unload()}},unload_1=unload;function unload(){loaded&&(loaded=!1,signals$1.forEach(function(e){try{process.removeListener(e,sigListeners[e])}catch(e){}}),process.emit=originalProcessEmit,process.reallyExit=originalProcessReallyExit,emitter.count-=1)}function emit(e,t,r){emitter.emitted[e]||(emitter.emitted[e]=!0,emitter.emit(e,t,r))}var sigListeners={};signals$1.forEach(function(e){sigListeners[e]=function(){process.listeners(e).length===emitter.count&&(unload(),emit("exit",null,e),emit("afterexit",null,e),process.kill(process.pid,e))}});var signals_1=function(){return signals$1},load_1=load,loaded=!1;function load(){loaded||(loaded=!0,emitter.count+=1,signals$1=signals$1.filter(function(e){try{return process.on(e,sigListeners[e]),!0}catch(e){return!1}}),process.emit=processEmit,process.reallyExit=processReallyExit)}var originalProcessReallyExit=process.reallyExit;function processReallyExit(e){process.exitCode=e||0,emit("exit",process.exitCode,null),emit("afterexit",process.exitCode,null),originalProcessReallyExit.call(process,process.exitCode)}var originalProcessEmit=process.emit;function processEmit(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=originalProcessEmit.apply(this,arguments);return emit("exit",process.exitCode,null),emit("afterexit",process.exitCode,null),r}return originalProcessEmit.apply(this,arguments)}signalExit.unload=unload_1,signalExit.signals=signals_1,signalExit.load=load_1;var restoreCursor=onetime(()=>{signalExit(()=>{process.stderr.write("[?25h")},{alwaysLast:!0})}),cliCursor=createCommonjsModule(function(e,t){let r=!1;t.show=(e=process.stderr)=>{e.isTTY&&(r=!1,e.write("[?25h"))},t.hide=(e=process.stderr)=>{e.isTTY&&(restoreCursor(),r=!0,e.write("[?25l"))},t.toggle=(e,n)=>{void 0!==e&&(r=e),r?t.show(n):t.hide(n)}}),cliCursor_1=cliCursor.show,cliCursor_2=cliCursor.hide,cliCursor_3=cliCursor.toggle,choice=class e{constructor(t,r){if(t instanceof e||"separator"===t.type)return t;lodash.isString(t)||lodash.isNumber(t)?(this.name=String(t),this.value=t,this.short=String(t)):lodash.extend(this,t,{name:t.name||t.value,value:"value"in t?t.value:t.name,short:t.short||t.name||t.value}),lodash.isFunction(t.disabled)?this.disabled=t.disabled(r):this.disabled=t.disabled}},choices=class{constructor(e,t){this.choices=e.map(e=>"separator"===e.type?(e instanceof separator||(e=new separator(e.line)),e):new choice(e,t)),this.realChoices=this.choices.filter(separator.exclude).filter(e=>!e.disabled),Object.defineProperty(this,"length",{get(){return this.choices.length},set(e){this.choices.length=e}}),Object.defineProperty(this,"realLength",{get(){return this.realChoices.length},set(){throw new Error("Cannot set `realLength` of a Choices collection")}})}getChoice(e){return assert(lodash.isNumber(e)),this.realChoices[e]}get(e){return assert(lodash.isNumber(e)),this.choices[e]}where(e){return lodash.filter(this.realChoices,e)}pluck(e){return lodash.map(this.realChoices,e)}indexOf(){return this.choices.indexOf.apply(this.choices,arguments)}forEach(){return this.choices.forEach.apply(this.choices,arguments)}filter(){return this.choices.filter.apply(this.choices,arguments)}find(e){return lodash.find(this.choices,e)}push(){var e=lodash.map(arguments,e=>new choice(e));return this.choices.push.apply(this.choices,e),this.realChoices=this.choices.filter(separator.exclude),this.choices}},cliWidth_1=createCommonjsModule(function(e,t){e.exports=function(e){var t=function(e){var t={defaultWidth:0,output:process.stdout,tty:tty};return e?(Object.keys(t).forEach(function(r){e[r]||(e[r]=t[r])}),e):t}(e);if(t.output.getWindowSize)return t.output.getWindowSize()[0]||t.defaultWidth;if(t.tty.getWindowSize)return t.tty.getWindowSize()[1]||t.defaultWidth;if(t.output.columns)return t.output.columns;if(process.env.CLI_WIDTH){var r=parseInt(process.env.CLI_WIDTH,10);if(!isNaN(r)&&0!==r)return r}return t.defaultWidth}}),ansiRegex=e=>{e=Object.assign({onlyFirst:!1},e);const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e.onlyFirst?void 0:"g")};const stripAnsi=e=>"string"==typeof e?e.replace(ansiRegex(),""):e;var stripAnsi_1=stripAnsi,default_1$2=stripAnsi;stripAnsi_1.default=default_1$2;const isFullwidthCodePoint=e=>!Number.isNaN(e)&&(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141));var isFullwidthCodePoint_1=isFullwidthCodePoint,default_1$3=isFullwidthCodePoint;isFullwidthCodePoint_1.default=default_1$3;var emojiRegex=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};const stringWidth=e=>{if("string"!=typeof(e=e.replace(emojiRegex(),"  "))||0===e.length)return 0;e=stripAnsi_1(e);let t=0;for(let r=0;r<e.length;r++){const n=e.codePointAt(r);n<=31||n>=127&&n<=159||(n>=768&&n<=879||(n>65535&&r++,t+=isFullwidthCodePoint_1(n)?2:1))}return t};var stringWidth_1=stringWidth,default_1$4=stringWidth;function height(e){return e.split("\n").length}function lastLine(e){return lodash.last(e.split("\n"))}stringWidth_1.default=default_1$4;class ScreenManager{constructor(e){this.height=0,this.extraLinesUnderPrompt=0,this.rl=e}render(e,t){this.rl.output.unmute(),this.clean(this.extraLinesUnderPrompt);var r=lastLine(e),n=stripAnsi_1(r),i=n;this.rl.line.length&&(i=i.slice(0,-this.rl.line.length)),this.rl.setPrompt(i);var o=this.rl._getCursorPos(),s=this.normalizedCliWidth();e=this.forceLineReturn(e,s),t&&(t=this.forceLineReturn(t,s)),n.length%s==0&&(e+="\n");var u=e+(t?"\n"+t:"");this.rl.output.write(u);var a=Math.floor(n.length/s)-o.rows+(t?height(t):0);a>0&&readline$1.up(this.rl,a),readline$1.left(this.rl,stringWidth_1(lastLine(u))),o.cols>0&&readline$1.right(this.rl,o.cols),this.extraLinesUnderPrompt=a,this.height=height(u),this.rl.output.mute()}clean(e){e>0&&readline$1.down(this.rl,e),readline$1.clearLine(this.rl,this.height)}done(){this.rl.setPrompt(""),this.rl.output.unmute(),this.rl.output.write("\n")}releaseCursor(){this.extraLinesUnderPrompt>0&&readline$1.down(this.rl,this.extraLinesUnderPrompt)}normalizedCliWidth(){return cliWidth_1({defaultWidth:80,output:this.rl.output})}breakLines(e,t){t=t||this.normalizedCliWidth();var r=new RegExp("(?:(?:\\033[[0-9;]*m)*.?){1,"+t+"}","g");return e.map(e=>{var t=e.match(r);return t.pop(),t||""})}forceLineReturn(e,t){return t=t||this.normalizedCliWidth(),lodash.flatten(this.breakLines(e.split("\n"),t)).join("\n")}}var screenManager=ScreenManager,{filter:filter$2,flatMap:flatMap,share:share$1,take:take$1,takeUntil:takeUntil$1}=operators;class Prompt{constructor(e,t,r){lodash.assign(this,{answers:r,status:"pending"}),this.opt=lodash.defaults(lodash.clone(e),{validate:()=>!0,filter:e=>e,when:()=>!0,suffix:"",prefix:chalk.green("?")}),this.opt.name||this.throwParamError("name"),this.opt.message||(this.opt.message=this.opt.name+":"),Array.isArray(this.opt.choices)&&(this.opt.choices=new choices(this.opt.choices,r)),this.rl=t,this.screen=new screenManager(this.rl)}run(){return new Promise(e=>{this._run(t=>e(t))})}_run(e){e()}throwParamError(e){throw new Error("You must provide a `"+e+"` parameter")}close(){this.screen.releaseCursor()}handleSubmitEvents(e){var t=this,r=runAsync_1(this.opt.validate),n=runAsync_1(this.opt.filter),i=e.pipe(flatMap(e=>n(e,t.answers).then(e=>r(e,t.answers).then(t=>({isValid:t,value:e}),e=>({isValid:e})),e=>({isValid:e}))),share$1()),o=i.pipe(filter$2(e=>!0===e.isValid),take$1(1));return{success:o,error:i.pipe(filter$2(e=>!0!==e.isValid),takeUntil$1(o))}}getQuestion(){var e=this.opt.prefix+" "+chalk.bold(this.opt.message)+this.opt.suffix+chalk.reset(" ");return null!=this.opt.default&&"answered"!==this.status&&("password"===this.opt.type?e+=chalk.italic.dim("[hidden] "):e+=chalk.dim("("+this.opt.default+") ")),e}}var base=Prompt,{fromEvent:fromEvent$1}=_esm5,{filter:filter$3,map:map$1,share:share$2,takeUntil:takeUntil$2}=operators;function normalizeKeypressEvents(e,t){return{value:e,key:t||{}}}var events=function(e){var t=fromEvent$1(e.input,"keypress",normalizeKeypressEvents).pipe(takeUntil$2(fromEvent$1(e,"close"))).pipe(filter$3(({key:e})=>"enter"!==e.name&&"return"!==e.name));return{line:fromEvent$1(e,"line"),keypress:t,normalizedUpKey:t.pipe(filter$3(({key:e})=>"up"===e.name||"k"===e.name||"p"===e.name&&e.ctrl),share$2()),normalizedDownKey:t.pipe(filter$3(({key:e})=>"down"===e.name||"j"===e.name||"n"===e.name&&e.ctrl),share$2()),numberKey:t.pipe(filter$3(e=>e.value&&"123456789".indexOf(e.value)>=0),map$1(e=>Number(e.value)),share$2()),spaceKey:t.pipe(filter$3(({key:e})=>e&&"space"===e.name),share$2()),aKey:t.pipe(filter$3(({key:e})=>e&&"a"===e.name),share$2()),iKey:t.pipe(filter$3(({key:e})=>e&&"i"===e.name),share$2())}};class Paginator{constructor(e){this.pointer=0,this.lastIndex=0,this.screen=e}paginate(e,t,r){r=r||7;var n=Math.floor(r/2),i=e.split("\n");if(this.screen&&(i=this.screen.breakLines(i),t=lodash.sum(i.map(e=>e.length).splice(0,t)),i=lodash.flatten(i)),i.length<=r)return e;this.pointer<n&&this.lastIndex<t&&t-this.lastIndex<r&&(this.pointer=Math.min(n,this.pointer+t-this.lastIndex)),this.lastIndex=t;var o=lodash.flatten([i,i,i]),s=Math.max(0,t+i.length-this.pointer);return o.splice(s,r).join("\n")+"\n"+chalk.dim("(Move up and down to reveal more choices)")}}var paginator=Paginator,{flatMap:flatMap$1,map:map$2,take:take$2,takeUntil:takeUntil$3}=operators;class ListPrompt extends base{constructor(e,t,r){super(e,t,r),this.opt.choices||this.throwParamError("choices"),this.firstRender=!0,this.selected=0;var n=this.opt.default;if(lodash.isNumber(n)&&n>=0&&n<this.opt.choices.realLength)this.selected=n;else if(!lodash.isNumber(n)&&null!=n){let e=lodash.findIndex(this.opt.choices.realChoices,({value:e})=>e===n);this.selected=Math.max(e,0)}this.opt.default=null,this.paginator=new paginator(this.screen)}_run(e){this.done=e;var t=this,r=events(this.rl);return r.normalizedUpKey.pipe(takeUntil$3(r.line)).forEach(this.onUpKey.bind(this)),r.normalizedDownKey.pipe(takeUntil$3(r.line)).forEach(this.onDownKey.bind(this)),r.numberKey.pipe(takeUntil$3(r.line)).forEach(this.onNumberKey.bind(this)),r.line.pipe(take$2(1),map$2(this.getCurrentValue.bind(this)),flatMap$1(e=>runAsync_1(t.opt.filter)(e).catch(e=>e))).forEach(this.onSubmit.bind(this)),cliCursor.hide(),this.render(),this}render(){var e=this.getQuestion();if(this.firstRender&&(e+=chalk.dim("(Use arrow keys)")),"answered"===this.status)e+=chalk.cyan(this.opt.choices.getChoice(this.selected).short);else{var t=listRender(this.opt.choices,this.selected),r=this.opt.choices.indexOf(this.opt.choices.getChoice(this.selected));e+="\n"+this.paginator.paginate(t,r,this.opt.pageSize)}this.firstRender=!1,this.screen.render(e)}onSubmit(e){this.status="answered",this.render(),this.screen.done(),cliCursor.show(),this.done(e)}getCurrentValue(){return this.opt.choices.getChoice(this.selected).value}onUpKey(){var e=this.opt.choices.realLength;this.selected=this.selected>0?this.selected-1:e-1,this.render()}onDownKey(){var e=this.opt.choices.realLength;this.selected=this.selected<e-1?this.selected+1:0,this.render()}onNumberKey(e){e<=this.opt.choices.realLength&&(this.selected=e-1),this.render()}}function listRender(e,t){var r="",n=0;return e.forEach((e,i)=>{if("separator"===e.type)return n++,void(r+="  "+e+"\n");if(e.disabled)return n++,r+="  - "+e.name,r+=" ("+(lodash.isString(e.disabled)?e.disabled:"Disabled")+")",void(r+="\n");var o=i-n===t,s=(o?figures_1.pointer+" ":"  ")+e.name;o&&(s=chalk.cyan(s)),r+=s+" \n"}),r.replace(/\n$/,"")}var list=ListPrompt,{map:map$3,takeUntil:takeUntil$4}=operators;class InputPrompt extends base{_run(e){this.done=e;var t=events(this.rl),r=t.line.pipe(map$3(this.filterInput.bind(this))),n=this.handleSubmitEvents(r);return n.success.forEach(this.onEnd.bind(this)),n.error.forEach(this.onError.bind(this)),t.keypress.pipe(takeUntil$4(n.success)).forEach(this.onKeypress.bind(this)),this.render(),this}render(e){var t="",r="",n=this.getQuestion(),i=this.opt.transformer,o="answered"===this.status;r=o?this.answer:this.rl.line,n+=i?i(r,this.answers,{isFinal:o}):o?chalk.cyan(r):r,e&&(t=chalk.red(">> ")+e),this.screen.render(n,t)}filterInput(e){return e||(null==this.opt.default?"":this.opt.default)}onEnd(e){this.answer=e.value,this.status="answered",this.render(),this.screen.done(),this.done(e.value)}onError(e){this.rl.line+=e.value,this.rl.cursor+=e.value.length,this.render(e.isValid)}onKeypress(){this.opt.default&&(this.opt.default=void 0),this.render()}}var input=InputPrompt;class NumberPrompt extends input{filterInput(e){if(e&&"string"==typeof e){let t=(e=e.trim()).match(/(^-?\d+|^\d+\.\d*|^\d*\.\d+)(e\d+)?$/);if(t)return Number(t[0])}return null==this.opt.default?NaN:this.opt.default}}var number=NumberPrompt,{take:take$3,takeUntil:takeUntil$5}=operators;class ConfirmPrompt extends base{constructor(e,t,r){super(e,t,r);var n=!0;return lodash.extend(this.opt,{filter:function(e){var t=n;return null!=e&&""!==e&&(t=/^y(es)?/i.test(e)),t}}),lodash.isBoolean(this.opt.default)&&(n=this.opt.default),this.opt.default=n?"Y/n":"y/N",this}_run(e){this.done=e;var t=events(this.rl);return t.keypress.pipe(takeUntil$5(t.line)).forEach(this.onKeypress.bind(this)),t.line.pipe(take$3(1)).forEach(this.onEnd.bind(this)),this.render(),this}render(e){var t=this.getQuestion();return t+="boolean"==typeof e?chalk.cyan(e?"Yes":"No"):this.rl.line,this.screen.render(t),this}onEnd(e){this.status="answered";var t=this.opt.filter(e);this.render(t),this.screen.done(),this.done(t)}onKeypress(){this.render()}}var confirm=ConfirmPrompt,{map:map$4,takeUntil:takeUntil$6}=operators;class RawListPrompt extends base{constructor(e,t,r){super(e,t,r),this.opt.choices||this.throwParamError("choices"),this.opt.validChoices=this.opt.choices.filter(separator.exclude),this.selected=0,this.rawDefault=0,lodash.extend(this.opt,{validate:function(e){return null!=e}});var n=this.opt.default;if(lodash.isNumber(n)&&n>=0&&n<this.opt.choices.realLength)this.selected=n,this.rawDefault=n;else if(!lodash.isNumber(n)&&null!=n){let e=lodash.findIndex(this.opt.choices.realChoices,({value:e})=>e===n),t=Math.max(e,0);this.selected=t,this.rawDefault=t}this.opt.default=null,this.paginator=new paginator}_run(e){this.done=e;var t=events(this.rl),r=t.line.pipe(map$4(this.getCurrentValue.bind(this))),n=this.handleSubmitEvents(r);return n.success.forEach(this.onEnd.bind(this)),n.error.forEach(this.onError.bind(this)),t.keypress.pipe(takeUntil$6(n.success)).forEach(this.onKeypress.bind(this)),t.normalizedUpKey.pipe(takeUntil$6(t.line)).forEach(this.onUpKey.bind(this)),t.normalizedDownKey.pipe(takeUntil$6(t.line)).forEach(this.onDownKey.bind(this)),this.render(),this}render(e){var t=this.getQuestion(),r="";if("answered"===this.status)t+=chalk.cyan(this.answer);else{var n=renderChoices(this.opt.choices,this.selected);t+="\n"+this.paginator.paginate(n,this.selected,this.opt.pageSize),t+="\n  Answer: "}t+=this.rl.line,e&&(r="\n"+chalk.red(">> ")+e),this.screen.render(t,r)}getCurrentValue(e){null==e||""===e?e=this.rawDefault:e-=1;var t=this.opt.choices.getChoice(e);return t?t.value:null}onEnd(e){this.status="answered",this.answer=e.value,this.render(),this.screen.done(),this.done(e.value)}onError(){this.render("Please enter a valid index")}onKeypress(){var e=this.rl.line.length?Number(this.rl.line)-1:0;this.opt.choices.getChoice(e)?this.selected=e:this.selected=void 0,this.render()}onUpKey(){this.onArrowKey("up")}onDownKey(){this.onArrowKey("down")}onArrowKey(e){var t=this.rl.line.length?Number(this.rl.line)-1:0;t="up"===e?0===t?this.opt.choices.length-1:t-1:t===this.opt.choices.length-1?0:t+1,this.rl.line=String(t+1),this.onKeypress()}}function renderChoices(e,t){var r="",n=0;return e.forEach(function(e,i){if(r+="\n  ","separator"===e.type)return n++,void(r+=" "+e);var o=i-n,s=o+1+") "+e.name;o===t&&(s=chalk.cyan(s)),r+=s}),r}var rawlist=RawListPrompt,{map:map$5,takeUntil:takeUntil$7}=operators;class ExpandPrompt extends base{constructor(e,t,r){super(e,t,r),this.opt.choices||this.throwParamError("choices"),this.validateChoices(this.opt.choices),this.opt.choices.push({key:"h",name:"Help, list all options",value:"help"}),this.opt.validate=e=>null==e?"Please enter a valid command":"help"!==e,this.opt.default=this.generateChoicesString(this.opt.choices,this.opt.default),this.paginator=new paginator(this.screen)}_run(e){this.done=e;var t=events(this.rl),r=this.handleSubmitEvents(t.line.pipe(map$5(this.getCurrentValue.bind(this))));return r.success.forEach(this.onSubmit.bind(this)),r.error.forEach(this.onError.bind(this)),this.keypressObs=t.keypress.pipe(takeUntil$7(r.success)).forEach(this.onKeypress.bind(this)),this.render(),this}render(e,t){var r=this.getQuestion(),n="";if("answered"===this.status)r+=chalk.cyan(this.answer);else if("expanded"===this.status){var i=renderChoices$1(this.opt.choices,this.selectedKey);r+=this.paginator.paginate(i,this.selectedKey,this.opt.pageSize),r+="\n  Answer: "}r+=this.rl.line,e&&(n=chalk.red(">> ")+e),t&&(n=chalk.cyan(">> ")+t),this.screen.render(r,n)}getCurrentValue(e){e||(e=this.rawDefault);var t=this.opt.choices.where({key:e.toLowerCase().trim()})[0];return t?t.value:null}getChoices(){var e="";return this.opt.choices.forEach(t=>{if(e+="\n  ","separator"!==t.type){var r=t.key+") "+t.name;this.selectedKey===t.key&&(r=chalk.cyan(r)),e+=r}else e+=" "+t}),e}onError(e){if("help"===e.value)return this.selectedKey="",this.status="expanded",void this.render();this.render(e.isValid)}onSubmit(e){this.status="answered";var t=this.opt.choices.where({value:e.value})[0];this.answer=t.short||t.name,this.render(),this.screen.done(),this.done(e.value)}onKeypress(){this.selectedKey=this.rl.line.toLowerCase();var e=this.opt.choices.where({key:this.selectedKey})[0];"expanded"===this.status?this.render():this.render(null,e?e.name:null)}validateChoices(e){var t,r=[],n={};if(e.filter(separator.exclude).forEach(e=>{e.key&&1===e.key.length||(t=!0),n[e.key]&&r.push(e.key),n[e.key]=!0,e.key=String(e.key).toLowerCase()}),t)throw new Error("Format error: `key` param must be a single letter and is required.");if(n.h)throw new Error("Reserved key error: `key` param cannot be `h` - this value is reserved.");if(r.length)throw new Error("Duplicate key error: `key` param must be unique. Duplicates: "+lodash.uniq(r).join(", "))}generateChoicesString(e,t){var r=e.realLength-1;if(lodash.isNumber(t)&&this.opt.choices.getChoice(t))r=t;else if(lodash.isString(t)){let n=lodash.findIndex(e.realChoices,({value:e})=>e===t);r=-1===n?r:n}var n=this.opt.choices.pluck("key");return this.rawDefault=n[r],n[r]=String(n[r]).toUpperCase(),n.join("")}}function renderChoices$1(e,t){var r="";return e.forEach(e=>{if(r+="\n  ","separator"!==e.type){var n=e.key+") "+e.name;t===e.key&&(n=chalk.cyan(n)),r+=n}else r+=" "+e}),r}var expand$1=ExpandPrompt,{map:map$6,takeUntil:takeUntil$8}=operators;class CheckboxPrompt extends base{constructor(e,t,r){super(e,t,r),this.opt.choices||this.throwParamError("choices"),lodash.isArray(this.opt.default)&&this.opt.choices.forEach(function(e){this.opt.default.indexOf(e.value)>=0&&(e.checked=!0)},this),this.pointer=0,this.opt.default=null,this.paginator=new paginator(this.screen)}_run(e){this.done=e;var t=events(this.rl),r=this.handleSubmitEvents(t.line.pipe(map$6(this.getCurrentValue.bind(this))));return r.success.forEach(this.onEnd.bind(this)),r.error.forEach(this.onError.bind(this)),t.normalizedUpKey.pipe(takeUntil$8(r.success)).forEach(this.onUpKey.bind(this)),t.normalizedDownKey.pipe(takeUntil$8(r.success)).forEach(this.onDownKey.bind(this)),t.numberKey.pipe(takeUntil$8(r.success)).forEach(this.onNumberKey.bind(this)),t.spaceKey.pipe(takeUntil$8(r.success)).forEach(this.onSpaceKey.bind(this)),t.aKey.pipe(takeUntil$8(r.success)).forEach(this.onAllKey.bind(this)),t.iKey.pipe(takeUntil$8(r.success)).forEach(this.onInverseKey.bind(this)),cliCursor.hide(),this.render(),this.firstRender=!1,this}render(e){var t=this.getQuestion(),r="";if(this.spaceKeyPressed||(t+="(Press "+chalk.cyan.bold("<space>")+" to select, "+chalk.cyan.bold("<a>")+" to toggle all, "+chalk.cyan.bold("<i>")+" to invert selection)"),"answered"===this.status)t+=chalk.cyan(this.selection.join(", "));else{var n=renderChoices$2(this.opt.choices,this.pointer),i=this.opt.choices.indexOf(this.opt.choices.getChoice(this.pointer));t+="\n"+this.paginator.paginate(n,i,this.opt.pageSize)}e&&(r=chalk.red(">> ")+e),this.screen.render(t,r)}onEnd(e){this.status="answered",this.render(),this.screen.done(),cliCursor.show(),this.done(e.value)}onError(e){this.render(e.isValid)}getCurrentValue(){var e=this.opt.choices.filter(function(e){return Boolean(e.checked)&&!e.disabled});return this.selection=lodash.map(e,"short"),lodash.map(e,"value")}onUpKey(){var e=this.opt.choices.realLength;this.pointer=this.pointer>0?this.pointer-1:e-1,this.render()}onDownKey(){var e=this.opt.choices.realLength;this.pointer=this.pointer<e-1?this.pointer+1:0,this.render()}onNumberKey(e){e<=this.opt.choices.realLength&&(this.pointer=e-1,this.toggleChoice(this.pointer)),this.render()}onSpaceKey(){this.spaceKeyPressed=!0,this.toggleChoice(this.pointer),this.render()}onAllKey(){var e=Boolean(this.opt.choices.find(function(e){return"separator"!==e.type&&!e.checked}));this.opt.choices.forEach(function(t){"separator"!==t.type&&(t.checked=e)}),this.render()}onInverseKey(){this.opt.choices.forEach(function(e){"separator"!==e.type&&(e.checked=!e.checked)}),this.render()}toggleChoice(e){var t=this.opt.choices.getChoice(e);void 0!==t&&(this.opt.choices.getChoice(e).checked=!t.checked)}}function renderChoices$2(e,t){var r="",n=0;return e.forEach(function(e,i){if("separator"===e.type)return n++,void(r+=" "+e+"\n");if(e.disabled)n++,r+=" - "+e.name,r+=" ("+(lodash.isString(e.disabled)?e.disabled:"Disabled")+")";else{var o=getCheckbox(e.checked)+" "+e.name;r+=i-n===t?chalk.cyan(figures_1.pointer+o):" "+o}r+="\n"}),r.replace(/\n$/,"")}function getCheckbox(e){return e?chalk.green(figures_1.radioOn):figures_1.radioOff}var checkbox=CheckboxPrompt,{map:map$7,takeUntil:takeUntil$9}=operators;function mask(e,t){return t="string"==typeof t?t:"*",0===(e=String(e)).length?"":new Array(e.length+1).join(t)}class PasswordPrompt extends base{_run(e){this.done=e;var t=events(this.rl),r=t.line.pipe(map$7(this.filterInput.bind(this))),n=this.handleSubmitEvents(r);return n.success.forEach(this.onEnd.bind(this)),n.error.forEach(this.onError.bind(this)),t.keypress.pipe(takeUntil$9(n.success)).forEach(this.onKeypress.bind(this)),this.render(),this}render(e){var t=this.getQuestion(),r="";"answered"===this.status?t+=this.opt.mask?chalk.cyan(mask(this.answer,this.opt.mask)):chalk.italic.dim("[hidden]"):this.opt.mask?t+=mask(this.rl.line||"",this.opt.mask):t+=chalk.italic.dim("[input is hidden] "),e&&(r="\n"+chalk.red(">> ")+e),this.screen.render(t,r)}filterInput(e){return e||(null==this.opt.default?"":this.opt.default)}onEnd(e){this.status="answered",this.answer=e.value,this.render(),this.screen.done(),this.done(e.value)}onError(e){this.render(e.isValid)}onKeypress(){this.opt.default&&(this.opt.default=void 0),this.render()}}var key,password=PasswordPrompt,match=function(e,t,r,n,i){this.confidence=r,this.name=n||t.name(e),this.lang=i},utf8=function(){this.name=function(){return"UTF-8"},this.match=function(e){var t,r=!1,n=0,i=0,o=e.fRawInput,s=0;e.fRawLength>=3&&239==(255&o[0])&&187==(255&o[1])&&191==(255&o[2])&&(r=!0);for(var u=0;u<e.fRawLength;u++){var a=o[u];if(0!=(128&a)){if(192==(224&a))s=1;else if(224==(240&a))s=2;else if(240==(248&a))s=3;else{if(++i>5)break;s=0}for(;!(++u>=e.fRawLength);){if(128!=(192&o[u])){i++;break}if(0==--s){n++;break}}}}if(t=0,r&&0==i)t=100;else if(r&&n>10*i)t=80;else if(n>3&&0==i)t=100;else if(n>0&&0==i)t=80;else if(0==n&&0==i)t=10;else{if(!(n>10*i))return null;t=25}return new match(e,this,t)}},unicode=createCommonjsModule(function(e){function t(){}e.exports.UTF_16BE=function(){this.name=function(){return"UTF-16BE"},this.match=function(e){var t=e.fRawInput;return t.length>=2&&254==(255&t[0])&&255==(255&t[1])?new match(e,this,100):null}},e.exports.UTF_16LE=function(){this.name=function(){return"UTF-16LE"},this.match=function(e){var t=e.fRawInput;return t.length>=2&&255==(255&t[0])&&254==(255&t[1])?t.length>=4&&0==t[2]&&0==t[3]?null:new match(e,this,100):null}},t.prototype.match=function(e){var t=e.fRawInput,r=e.fRawLength/4*4,n=0,i=0,o=!1,s=0;if(0==r)return null;65279==this.getChar(t,0)&&(o=!0);for(var u=0;u<r;u+=4){var a=this.getChar(t,u);a<0||a>=1114111||a>=55296&&a<=57343?i+=1:n+=1}return o&&0==i?s=100:o&&n>10*i?s=80:n>3&&0==i?s=100:n>0&&0==i?s=80:n>10*i&&(s=25),0==s?null:new match(e,this,s)},e.exports.UTF_32BE=function(){this.name=function(){return"UTF-32BE"},this.getChar=function(e,t){return(255&e[t+0])<<24|(255&e[t+1])<<16|(255&e[t+2])<<8|255&e[t+3]}},util.inherits(e.exports.UTF_32BE,t),e.exports.UTF_32LE=function(){this.name=function(){return"UTF-32LE"},this.getChar=function(e,t){return(255&e[t+3])<<24|(255&e[t+2])<<16|(255&e[t+1])<<8|255&e[t+0]}},util.inherits(e.exports.UTF_32LE,t)}),unicode_1=unicode.UTF_16BE,unicode_2=unicode.UTF_16LE,unicode_3=unicode.UTF_32BE,unicode_4=unicode.UTF_32LE,mbcs_1=createCommonjsModule(function(e){function t(){this.charValue=0,this.index=0,this.nextIndex=0,this.error=!1,this.done=!1,this.reset=function(){this.charValue=0,this.index=-1,this.nextIndex=0,this.error=!1,this.done=!1},this.nextByte=function(e){return this.nextIndex>=e.fRawLength?(this.done=!0,-1):255&e.fRawInput[this.nextIndex++]}}function r(){}function n(e,t){e.index=e.nextIndex,e.error=!1;var r=0,n=0,i=0;return(r=e.charValue=e.nextByte(t))<0?e.done=!0:r<=141||(n=e.nextByte(t),e.charValue=e.charValue<<8|n,r>=161&&r<=254?n<161&&(e.error=!0):142!=r?143==r&&(i=e.nextByte(t),e.charValue=e.charValue<<8|i,i<161&&(e.error=!0)):n<161&&(e.error=!0)),0==e.done}r.prototype.match=function(e){var r,n=0,i=0,o=0,s=0,u=0,a=new t;e:{for(a.reset();this.nextChar(a,e);){if(s++,a.error)o++;else{var c=4294967295&a.charValue;c<=255||(n++,null!=this.commonChars&&function e(t,r,n,i){if(i<n)return-1;var o=Math.floor(n+i>>>1);return r>t[o]?e(t,r,o+1,i):r<t[o]?e(t,r,n,o-1):o}(r=this.commonChars,c,0,r.length-1)>=0&&i++)}if(o>=2&&5*o>=n)break e}if(n<=10&&0==o)u=0==n&&s<10?0:10;else if(n<20*o)u=0;else if(null==this.commonChars)(u=30+n-20*o)>100&&(u=100);else{var l=90/Math.log(parseFloat(n)/4);u=Math.floor(Math.log(i+1)*l+10),u=Math.min(u,100)}}return 0==u?null:new match(e,this,u)},r.prototype.nextChar=function(e,t){},e.exports.sjis=function(){this.name=function(){return"Shift-JIS"},this.language=function(){return"ja"},this.commonChars=[33088,33089,33090,33093,33115,33129,33130,33141,33142,33440,33442,33444,33449,33450,33451,33453,33455,33457,33459,33461,33463,33469,33470,33473,33476,33477,33478,33480,33481,33484,33485,33500,33504,33511,33512,33513,33514,33520,33521,33601,33603,33614,33615,33624,33630,33634,33639,33653,33654,33673,33674,33675,33677,33683,36502,37882,38314],this.nextChar=function(e,t){var r;if(e.index=e.nextIndex,e.error=!1,(r=e.charValue=e.nextByte(t))<0)return!1;if(r<=127||r>160&&r<=223)return!0;var n=e.nextByte(t);return!(n<0)&&(e.charValue=r<<8|n,n>=64&&n<=127||n>=128&&n<=255||(e.error=!0),!0)}},util.inherits(e.exports.sjis,r),e.exports.big5=function(){this.name=function(){return"Big5"},this.language=function(){return"zh"},this.commonChars=[41280,41281,41282,41283,41287,41289,41333,41334,42048,42054,42055,42056,42065,42068,42071,42084,42090,42092,42103,42147,42148,42151,42177,42190,42193,42207,42216,42237,42304,42312,42328,42345,42445,42471,42583,42593,42594,42600,42608,42664,42675,42681,42707,42715,42726,42738,42816,42833,42841,42970,43171,43173,43181,43217,43219,43236,43260,43456,43474,43507,43627,43706,43710,43724,43772,44103,44111,44208,44242,44377,44745,45024,45290,45423,45747,45764,45935,46156,46158,46412,46501,46525,46544,46552,46705,47085,47207,47428,47832,47940,48033,48593,49860,50105,50240,50271],this.nextChar=function(e,t){e.index=e.nextIndex,e.error=!1;var r=e.charValue=e.nextByte(t);if(r<0)return!1;if(r<=127||255==r)return!0;var n=e.nextByte(t);return!(n<0)&&(e.charValue=e.charValue<<8|n,(n<64||127==n||255==n)&&(e.error=!0),!0)}},util.inherits(e.exports.big5,r),e.exports.euc_jp=function(){this.name=function(){return"EUC-JP"},this.language=function(){return"ja"},this.commonChars=[41377,41378,41379,41382,41404,41418,41419,41430,41431,42146,42148,42150,42152,42154,42155,42156,42157,42159,42161,42163,42165,42167,42169,42171,42173,42175,42176,42177,42179,42180,42182,42183,42184,42185,42186,42187,42190,42191,42192,42206,42207,42209,42210,42212,42216,42217,42218,42219,42220,42223,42226,42227,42402,42403,42404,42406,42407,42410,42413,42415,42416,42419,42421,42423,42424,42425,42431,42435,42438,42439,42440,42441,42443,42448,42453,42454,42455,42462,42464,42465,42469,42473,42474,42475,42476,42477,42483,47273,47572,47854,48072,48880,49079,50410,50940,51133,51896,51955,52188,52689],this.nextChar=n},util.inherits(e.exports.euc_jp,r),e.exports.euc_kr=function(){this.name=function(){return"EUC-KR"},this.language=function(){return"ko"},this.commonChars=[45217,45235,45253,45261,45268,45286,45293,45304,45306,45308,45496,45497,45511,45527,45538,45994,46011,46274,46287,46297,46315,46501,46517,46527,46535,46569,46835,47023,47042,47054,47270,47278,47286,47288,47291,47337,47531,47534,47564,47566,47613,47800,47822,47824,47857,48103,48115,48125,48301,48314,48338,48374,48570,48576,48579,48581,48838,48840,48863,48878,48888,48890,49057,49065,49088,49124,49131,49132,49144,49319,49327,49336,49338,49339,49341,49351,49356,49358,49359,49366,49370,49381,49403,49404,49572,49574,49590,49622,49631,49654,49656,50337,50637,50862,51151,51153,51154,51160,51173,51373],this.nextChar=n},util.inherits(e.exports.euc_kr,r),e.exports.gb_18030=function(){this.name=function(){return"GB18030"},this.language=function(){return"zh"},this.nextChar=function(e,t){e.index=e.nextIndex,e.error=!1;var r=0,n=0,i=0,o=0;e:if((r=e.charValue=e.nextByte(t))<0)e.done=!0;else if(!(r<=128))if(n=e.nextByte(t),e.charValue=e.charValue<<8|n,r>=129&&r<=254){if(n>=64&&n<=126||n>=80&&n<=254)break e;if(n>=48&&n<=57&&(i=e.nextByte(t))>=129&&i<=254&&(o=e.nextByte(t))>=48&&o<=57){e.charValue=e.charValue<<16|i<<8|o;break e}e.error=!0}else;return 0==e.done},this.commonChars=[41377,41378,41379,41380,41392,41393,41457,41459,41889,41900,41914,45480,45496,45502,45755,46025,46070,46323,46525,46532,46563,46767,46804,46816,47010,47016,47037,47062,47069,47284,47327,47350,47531,47561,47576,47610,47613,47821,48039,48086,48097,48122,48316,48347,48382,48588,48845,48861,49076,49094,49097,49332,49389,49611,49883,50119,50396,50410,50636,50935,51192,51371,51403,51413,51431,51663,51706,51889,51893,51911,51920,51926,51957,51965,52460,52728,52906,52932,52946,52965,53173,53186,53206,53442,53445,53456,53460,53671,53930,53938,53941,53947,53972,54211,54224,54269,54466,54490,54754,54992]},util.inherits(e.exports.gb_18030,r)}),mbcs_2=mbcs_1.sjis,mbcs_3=mbcs_1.big5,mbcs_4=mbcs_1.euc_jp,mbcs_5=mbcs_1.euc_kr,mbcs_6=mbcs_1.gb_18030,sbcs_1=createCommonjsModule(function(e){function t(e,t){this.byteIndex=0,this.ngram=0,this.ngramList=e,this.byteMap=t,this.ngramCount=0,this.hitCount=0,this.spaceChar,this.search=function(e,t){var r=0;return e[r+32]<=t&&(r+=32),e[r+16]<=t&&(r+=16),e[r+8]<=t&&(r+=8),e[r+4]<=t&&(r+=4),e[r+2]<=t&&(r+=2),e[r+1]<=t&&(r+=1),e[r]>t&&(r-=1),r<0||e[r]!=t?-1:r},this.lookup=function(e){this.ngramCount+=1,this.search(this.ngramList,e)>=0&&(this.hitCount+=1)},this.addByte=function(e){this.ngram=(this.ngram<<8)+(255&e)&16777215,this.lookup(this.ngram)},this.nextByte=function(e){return this.byteIndex>=e.fInputLen?-1:255&e.fInputBytes[this.byteIndex++]},this.parse=function(e,t){var r,n=!1;for(this.spaceChar=t;(r=this.nextByte(e))>=0;){var i=this.byteMap[r];0!=i&&(i==this.spaceChar&&n||this.addByte(i),n=i==this.spaceChar)}this.addByte(this.spaceChar);var o=this.hitCount/this.ngramCount;return o>.33?98:Math.floor(300*o)}}function r(e,t){this.fLang=e,this.fNGrams=t}function n(){}n.prototype.spaceChar=32,n.prototype.ngrams=function(){},n.prototype.byteMap=function(){},n.prototype.match=function(e){var n=this.ngrams();if(!(Array.isArray(n)&&n[0]instanceof r))return(u=new t(n,this.byteMap()).parse(e,this.spaceChar))<=0?null:new match(e,this,u);for(var i=-1,o=null,s=n.length-1;s>=0;s--){var u,a=n[s];(u=new t(a.fNGrams,this.byteMap()).parse(e,this.spaceChar))>i&&(i=u,o=a.fLang)}var c=this.name(e);return i<=0?null:new match(e,this,i,c,o)},e.exports.ISO_8859_1=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[new r("da",[2122086,2122100,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126697,2126708,2126953,2127465,6383136,6385184,6385252,6386208,6386720,6579488,6579566,6579570,6579572,6627443,6644768,6644837,6647328,6647396,6648352,6648421,6648608,6648864,6713202,6776096,6776174,6776178,6907749,6908960,6909543,7038240,7039845,7103858,7104871,7105637,7169380,7234661,7234848,7235360,7235429,7300896,7302432,7303712,7398688,7479396,7479397,7479411,7496992,7566437,7610483,7628064,7628146,7629164,7759218]),new r("de",[2122094,2122101,2122341,2122849,2122853,2122857,2123113,2123621,2123873,2124142,2125161,2126691,2126693,2127214,2127461,2127471,2127717,2128501,6448498,6514720,6514789,6514804,6578547,6579566,6579570,6580581,6627428,6627443,6646126,6646132,6647328,6648352,6648608,6776174,6841710,6845472,6906728,6907168,6909472,6909541,6911008,7104867,7105637,7217249,7217252,7217267,7234592,7234661,7234848,7235360,7235429,7238757,7479396,7496805,7497065,7562088,7566437,7610468,7628064,7628142,7628146,7695972,7695975,7759218]),new r("en",[2122016,2122094,2122341,2122607,2123375,2123873,2123877,2124142,2125153,2125670,2125938,2126437,2126689,2126708,2126952,2126959,2127720,6383972,6384672,6385184,6385252,6386464,6386720,6386789,6386793,6561889,6561908,6627425,6627443,6627444,6644768,6647412,6648352,6648608,6713202,6840692,6841632,6841714,6906912,6909472,6909543,6909806,6910752,7217249,7217268,7234592,7235360,7238688,7300640,7302688,7303712,7496992,7500576,7544929,7544948,7561577,7566368,7610484,7628146,7628897,7628901,7629167,7630624,7631648]),new r("es",[2122016,2122593,2122607,2122853,2123116,2123118,2123123,2124142,2124897,2124911,2125921,2125935,2125938,2126197,2126437,2126693,2127214,2128160,6365283,6365284,6365285,6365292,6365296,6382441,6382703,6384672,6386208,6386464,6515187,6516590,6579488,6579564,6582048,6627428,6627429,6627436,6646816,6647328,6647412,6648608,6648692,6907246,6943598,7102752,7106419,7217253,7238757,7282788,7282789,7302688,7303712,7303968,7364978,7435621,7495968,7497075,7544932,7544933,7544944,7562528,7628064,7630624,7693600,15953440]),new r("fr",[2122101,2122607,2122849,2122853,2122869,2123118,2123124,2124897,2124901,2125921,2125935,2125938,2126197,2126693,2126703,2127214,2154528,6385268,6386793,6513952,6516590,6579488,6579571,6583584,6627425,6627427,6627428,6627429,6627436,6627440,6627443,6647328,6647412,6648352,6648608,6648864,6649202,6909806,6910752,6911008,7102752,7103776,7103859,7169390,7217252,7234848,7238432,7238688,7302688,7302772,7304562,7435621,7479404,7496992,7544929,7544932,7544933,7544940,7544944,7610468,7628064,7629167,7693600,7696928]),new r("it",[2122092,2122600,2122607,2122853,2122857,2123040,2124140,2124142,2124897,2125925,2125938,2127214,6365283,6365284,6365296,6365299,6386799,6514789,6516590,6579564,6580512,6627425,6627427,6627428,6627433,6627436,6627440,6627443,6646816,6646892,6647412,6648352,6841632,6889569,6889571,6889572,6889587,6906144,6908960,6909472,6909806,7102752,7103776,7104800,7105633,7234848,7235872,7237408,7238757,7282785,7282788,7282793,7282803,7302688,7302757,7366002,7495968,7496992,7563552,7627040,7628064,7629088,7630624,8022383]),new r("nl",[2122092,2122341,2122849,2122853,2122857,2123109,2123118,2123621,2123877,2124142,2125153,2125157,2125680,2126949,2127457,2127461,2127471,2127717,2128489,6381934,6381938,6385184,6385252,6386208,6386720,6514804,6579488,6579566,6579570,6627426,6627446,6645102,6645106,6647328,6648352,6648435,6648864,6776174,6841716,6907168,6909472,6909543,6910752,7217250,7217252,7217253,7217256,7217263,7217270,7234661,7235360,7302756,7303026,7303200,7303712,7562088,7566437,7610468,7628064,7628142,7628146,7758190,7759218,7761775]),new r("no",[2122100,2122102,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126693,2126699,2126703,2126708,2126953,2127465,2155808,6385252,6386208,6386720,6579488,6579566,6579572,6627443,6644768,6647328,6647397,6648352,6648421,6648864,6648948,6713202,6776174,6908779,6908960,6909543,7038240,7039845,7103776,7105637,7169380,7169390,7217267,7234848,7235360,7235429,7237221,7300896,7302432,7303712,7398688,7479411,7496992,7565165,7566437,7610483,7628064,7628142,7628146,7629164,7631904,7631973,7759218]),new r("pt",[2122016,2122607,2122849,2122853,2122863,2123040,2123123,2125153,2125423,2125600,2125921,2125935,2125938,2126197,2126437,2126693,2127213,6365281,6365283,6365284,6365296,6382693,6382703,6384672,6386208,6386273,6386464,6516589,6516590,6578464,6579488,6582048,6582131,6627425,6627428,6647072,6647412,6648608,6648692,6906144,6906721,7169390,7238757,7238767,7282785,7282787,7282788,7282789,7282800,7303968,7364978,7435621,7495968,7497075,7544929,7544932,7544933,7544944,7566433,7628064,7630624,7693600,14905120,15197039]),new r("sv",[2122100,2122102,2122853,2123118,2123510,2123873,2124064,2124142,2124655,2125157,2125667,2126053,2126699,2126703,2126708,2126953,2127457,2127465,2155634,6382693,6385184,6385252,6386208,6386804,6514720,6579488,6579566,6579570,6579572,6644768,6647328,6648352,6648864,6747762,6776174,6909036,6909543,7037216,7105568,7169380,7217267,7233824,7234661,7235360,7235429,7235950,7299944,7302432,7302688,7398688,7479393,7479411,7495968,7564129,7565165,7610483,7627040,7628064,7628146,7629164,7631904,7758194,14971424,16151072])]},this.name=function(e){return e&&e.fC1Bytes?"windows-1252":"ISO-8859-1"}},util.inherits(e.exports.ISO_8859_1,n),e.exports.ISO_8859_2=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,177,32,179,32,181,182,32,32,185,186,187,188,32,190,191,32,177,32,179,32,181,182,183,32,185,186,187,188,32,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,32]},this.ngrams=function(){return[new r("cs",[2122016,2122361,2122863,2124389,2125409,2125413,2125600,2125668,2125935,2125938,2126072,2126447,2126693,2126703,2126708,2126959,2127392,2127481,2128481,6365296,6513952,6514720,6627440,6627443,6627446,6647072,6647533,6844192,6844260,6910836,6972704,7042149,7103776,7104800,7233824,7268640,7269408,7269664,7282800,7300206,7301737,7304052,7304480,7304801,7368548,7368554,7369327,7403621,7562528,7565173,7566433,7566441,7566446,7628146,7630573,7630624,7676016,12477728,14773997,15296623,15540336,15540339,15559968,16278884]),new r("hu",[2122016,2122106,2122341,2123111,2123116,2123365,2123873,2123887,2124147,2124645,2124649,2124790,2124901,2125153,2125157,2125161,2125413,2126714,2126949,2156915,6365281,6365291,6365293,6365299,6384416,6385184,6388256,6447470,6448494,6645625,6646560,6646816,6646885,6647072,6647328,6648421,6648864,6648933,6648948,6781216,6844263,6909556,6910752,7020641,7075450,7169383,7170414,7217249,7233899,7234923,7234925,7238688,7300985,7544929,7567973,7567988,7568097,7596391,7610465,7631904,7659891,8021362,14773792,15299360]),new r("pl",[2122618,2122863,2124064,2124389,2124655,2125153,2125161,2125409,2125417,2125668,2125935,2125938,2126697,2127648,2127721,2127737,2128416,2128481,6365296,6365303,6385257,6514720,6519397,6519417,6582048,6584937,6627440,6627443,6627447,6627450,6645615,6646304,6647072,6647401,6778656,6906144,6907168,6907242,7037216,7039264,7039333,7170405,7233824,7235937,7235941,7282800,7305057,7305065,7368556,7369313,7369327,7369338,7502437,7502457,7563754,7564137,7566433,7825765,7955304,7957792,8021280,8022373,8026400,15955744]),new r("ro",[2122016,2122083,2122593,2122597,2122607,2122613,2122853,2122857,2124897,2125153,2125925,2125938,2126693,2126819,2127214,2144873,2158190,6365283,6365284,6386277,6386720,6386789,6386976,6513010,6516590,6518048,6546208,6579488,6627425,6627427,6627428,6627440,6627443,6644e3,6646048,6646885,6647412,6648692,6889569,6889571,6889572,6889584,6907168,6908192,6909472,7102752,7103776,7106418,7107945,7234848,7238770,7303712,7365998,7496992,7497057,7501088,7594784,7628064,7631477,7660320,7694624,7695392,12216608,15625760])]},this.name=function(e){return e&&e.fC1Bytes?"windows-1250":"ISO-8859-2"}},util.inherits(e.exports.ISO_8859_2,n),e.exports.ISO_8859_5=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255]},this.ngrams=function(){return[2150944,2151134,2151646,2152400,2152480,2153168,2153182,2153936,2153941,2154193,2154462,2154464,2154704,2154974,2154978,2155230,2156514,2158050,13688280,13689580,13884960,14015468,14015960,14016994,14017056,14164191,14210336,14211104,14216992,14407133,14407712,14413021,14536736,14538016,14538965,14538991,14540320,14540498,14557394,14557407,14557409,14602784,14602960,14603230,14604576,14605292,14605344,14606818,14671579,14672085,14672088,14672094,14733522,14734804,14803664,14803666,14803672,14806816,14865883,14868e3,14868192,14871584,15196894,15459616]},this.name=function(e){return"ISO-8859-5"},this.language=function(){return"ru"}},util.inherits(e.exports.ISO_8859_5,n),e.exports.ISO_8859_6=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32]},this.ngrams=function(){return[2148324,2148326,2148551,2152932,2154986,2155748,2156006,2156743,13050055,13091104,13093408,13095200,13100064,13100227,13100231,13100232,13100234,13100236,13100237,13100239,13100243,13100249,13100258,13100261,13100264,13100266,13100320,13100576,13100746,13115591,13181127,13181153,13181156,13181157,13181160,13246663,13574343,13617440,13705415,13748512,13836487,14229703,14279913,14805536,14950599,14993696,15001888,15002144,15016135,15058720,15059232,15066656,15081671,15147207,15189792,15255524,15263264,15278279,15343815,15343845,15343848,15386912,15388960,15394336]},this.name=function(e){return"ISO-8859-6"},this.language=function(){return"ar"}},util.inherits(e.exports.ISO_8859_6,n),e.exports.ISO_8859_7=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,161,162,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,220,32,221,222,223,32,252,32,253,254,192,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,32,243,244,245,246,247,248,249,250,251,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,32]},this.ngrams=function(){return[2154989,2154992,2155497,2155753,2156016,2156320,2157281,2157797,2158049,2158368,2158817,2158831,2158833,2159604,2159605,2159847,2159855,14672160,14754017,14754036,14805280,14806304,14807292,14807584,14936545,15067424,15069728,15147252,15199520,15200800,15278324,15327520,15330014,15331872,15393257,15393268,15525152,15540449,15540453,15540464,15589664,15725088,15725856,15790069,15790575,15793184,15868129,15868133,15868138,15868144,15868148,15983904,15984416,15987951,16048416,16048617,16050157,16050162,16050666,16052e3,16052213,16054765,16379168,16706848]},this.name=function(e){return e&&e.fC1Bytes?"windows-1253":"ISO-8859-7"},this.language=function(){return"el"}},util.inherits(e.exports.ISO_8859_7,n),e.exports.ISO_8859_8=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,32,32,32,32,32]},this.ngrams=function(){return[new r("he",[2154725,2154727,2154729,2154746,2154985,2154990,2155744,2155749,2155753,2155758,2155762,2155769,2155770,2157792,2157796,2158304,2159340,2161132,14744096,14950624,14950625,14950628,14950636,14950638,14950649,15001056,15065120,15068448,15068960,15071264,15071776,15278308,15328288,15328762,15329773,15330592,15331104,15333408,15333920,15474912,15474916,15523872,15524896,15540448,15540449,15540452,15540460,15540462,15540473,15655968,15671524,15787040,15788320,15788525,15920160,16261348,16312813,16378912,16392416,16392417,16392420,16392428,16392430,16392441]),new r("he",[2154725,2154732,2155753,2155756,2155758,2155760,2157040,2157810,2157817,2158053,2158057,2158565,2158569,2160869,2160873,2161376,2161381,2161385,14688484,14688492,14688493,14688506,14738464,14738916,14740512,14741024,14754020,14754029,14754042,14950628,14950633,14950636,14950637,14950639,14950648,14950650,15002656,15065120,15066144,15196192,15327264,15327520,15328288,15474916,15474925,15474938,15528480,15530272,15591913,15591920,15591928,15605988,15605997,15606010,15655200,15655968,15918112,16326884,16326893,16326906,16376864,16441376,16442400,16442857])]},this.name=function(e){return e&&e.fC1Bytes?"windows-1255":"ISO-8859-8"},this.language=function(){return"he"}},util.inherits(e.exports.ISO_8859_8,n),e.exports.ISO_8859_9=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,105,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[2122337,2122345,2122357,2122849,2122853,2123621,2123873,2124140,2124641,2124655,2125153,2125676,2126689,2126945,2127461,2128225,6365282,6384416,6384737,6384993,6385184,6385405,6386208,6386273,6386429,6386685,6388065,6449522,6578464,6579488,6580512,6627426,6627435,6644841,6647328,6648352,6648425,6648681,6909029,6909472,6909545,6910496,7102830,7102834,7103776,7103858,7217249,7217250,7217259,7234657,7234661,7234848,7235872,7235950,7273760,7498094,7535982,7759136,7954720,7958386,16608800,16608868,16609021,16642301]},this.name=function(e){return e&&e.fC1Bytes?"windows-1254":"ISO-8859-9"},this.language=function(){return"tr"}},util.inherits(e.exports.ISO_8859_9,n),e.exports.windows_1251=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,144,131,32,131,32,32,32,32,32,32,154,32,156,157,158,159,144,32,32,32,32,32,32,32,32,32,154,32,156,157,158,159,32,162,162,188,32,180,32,32,184,32,186,32,32,32,32,191,32,32,179,179,180,181,32,32,184,32,186,32,188,190,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[2155040,2155246,2155758,2156512,2156576,2157280,2157294,2158048,2158053,2158305,2158574,2158576,2158816,2159086,2159090,2159342,2160626,2162162,14740968,14742268,14937632,15068156,15068648,15069682,15069728,15212783,15263008,15263776,15269664,15459821,15460384,15465709,15589408,15590688,15591653,15591679,15592992,15593186,15605986,15605999,15606001,15655456,15655648,15655918,15657248,15657980,15658016,15659506,15724267,15724773,15724776,15724782,15786210,15787492,15856352,15856354,15856360,15859488,15918571,15920672,15920880,15924256,16249582,16512288]},this.name=function(e){return"windows-1251"},this.language=function(){return"ru"}},util.inherits(e.exports.windows_1251,n),e.exports.windows_1256=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,129,32,131,32,32,32,32,136,32,138,32,156,141,142,143,144,32,32,32,32,32,32,32,152,32,154,32,156,32,32,159,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,32,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,32,32,32,244,32,32,32,32,249,32,251,252,32,32,255]},this.ngrams=function(){return[2148321,2148324,2148551,2153185,2153965,2154977,2155492,2156231,13050055,13091104,13093408,13095200,13099296,13099459,13099463,13099464,13099466,13099468,13099469,13099471,13099475,13099482,13099486,13099491,13099494,13099501,13099808,13100064,13100234,13115591,13181127,13181149,13181153,13181155,13181158,13246663,13574343,13617440,13705415,13748512,13836487,14295239,14344684,14544160,14753991,14797088,14806048,14806304,14885063,14927648,14928160,14935072,14950599,15016135,15058720,15124449,15131680,15474887,15540423,15540451,15540454,15583520,15585568,15590432]},this.name=function(e){return"windows-1256"},this.language=function(){return"ar"}},util.inherits(e.exports.windows_1256,n),e.exports.KOI8_R=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223]},this.ngrams=function(){return[2147535,2148640,2149313,2149327,2150081,2150085,2150338,2150607,2150610,2151105,2151375,2151380,2151631,2152224,2152399,2153153,2153684,2154196,12701385,12702936,12963032,12963529,12964820,12964896,13094688,13181136,13223200,13224224,13226272,13419982,13420832,13424846,13549856,13550880,13552069,13552081,13553440,13553623,13574352,13574355,13574359,13617103,13617696,13618392,13618464,13620180,13621024,13621185,13684684,13685445,13685449,13685455,13812183,13813188,13881632,13882561,13882569,13882583,13944268,13946656,13946834,13948960,14272544,14603471]},this.name=function(e){return"KOI8-R"},this.language=function(){return"ru"}},util.inherits(e.exports.KOI8_R,n)}),sbcs_2=sbcs_1.ISO_8859_1,sbcs_3=sbcs_1.ISO_8859_2,sbcs_4=sbcs_1.ISO_8859_5,sbcs_5=sbcs_1.ISO_8859_6,sbcs_6=sbcs_1.ISO_8859_7,sbcs_7=sbcs_1.ISO_8859_8,sbcs_8=sbcs_1.ISO_8859_9,sbcs_9=sbcs_1.windows_1251,sbcs_10=sbcs_1.windows_1256,sbcs_11=sbcs_1.KOI8_R,iso2022=createCommonjsModule(function(e){function t(){}t.prototype.match=function(e){var t,r,n,i,o=0,s=0,u=0,a=e.fInputBytes,c=e.fInputLen;e:for(t=0;t<c;t++){if(27==a[t]){t:for(n=0;n<this.escapeSequences.length;n++){var l=this.escapeSequences[n];if(!(c-t<l.length)){for(r=1;r<l.length;r++)if(l[r]!=a[t+r])continue t;o++,t+=l.length-1;continue e}}s++}14!=a[t]&&15!=a[t]||u++}return 0==o?null:(i=(100*o-100*s)/(o+s),o+u<5&&(i-=10*(5-(o+u))),i<=0?null:new match(e,this,i))},e.exports.ISO_2022_JP=function(){this.name=function(){return"ISO-2022-JP"},this.escapeSequences=[[27,36,40,67],[27,36,40,68],[27,36,64],[27,36,65],[27,36,66],[27,38,64],[27,40,66],[27,40,72],[27,40,73],[27,40,74],[27,46,65],[27,46,70]]},util.inherits(e.exports.ISO_2022_JP,t),e.exports.ISO_2022_KR=function(){this.name=function(){return"ISO-2022-KR"},this.escapeSequences=[[27,36,41,67]]},util.inherits(e.exports.ISO_2022_KR,t),e.exports.ISO_2022_CN=function(){this.name=function(){return"ISO-2022-CN"},this.escapeSequences=[[27,36,41,65],[27,36,41,71],[27,36,42,72],[27,36,41,69],[27,36,43,73],[27,36,43,74],[27,36,43,75],[27,36,43,76],[27,36,43,77],[27,78],[27,79]]},util.inherits(e.exports.ISO_2022_CN,t)}),iso2022_1=iso2022.ISO_2022_JP,iso2022_2=iso2022.ISO_2022_KR,iso2022_3=iso2022.ISO_2022_CN,self$1=commonjsGlobal,recognisers=[new utf8,new unicode.UTF_16BE,new unicode.UTF_16LE,new unicode.UTF_32BE,new unicode.UTF_32LE,new mbcs_1.sjis,new mbcs_1.big5,new mbcs_1.euc_jp,new mbcs_1.euc_kr,new mbcs_1.gb_18030,new iso2022.ISO_2022_JP,new iso2022.ISO_2022_KR,new iso2022.ISO_2022_CN,new sbcs_1.ISO_8859_1,new sbcs_1.ISO_8859_2,new sbcs_1.ISO_8859_5,new sbcs_1.ISO_8859_6,new sbcs_1.ISO_8859_7,new sbcs_1.ISO_8859_8,new sbcs_1.ISO_8859_9,new sbcs_1.windows_1251,new sbcs_1.windows_1256,new sbcs_1.KOI8_R],detect=function(e,t){for(var r=[],n=0;n<256;n++)r[n]=0;for(n=e.length-1;n>=0;n--)r[255&e[n]]++;var i=!1;for(n=128;n<=159;n+=1)if(0!=r[n]){i=!0;break}var o={fByteStats:r,fC1Bytes:i,fRawInput:e,fRawLength:e.length,fInputBytes:e,fInputLen:e.length},s=recognisers.map(function(e){return e.match(o)}).filter(function(e){return!!e}).sort(function(e,t){return t.confidence-e.confidence});return t&&!0===t.returnAllMatches?s:s.length>0?s[0].name:null},detectFile=function(e,t,r){var n;"function"==typeof t&&(r=t,t=void 0);var i=function(e,i){if(n&&fs$4.closeSync(n),e)return r(e,null);r(null,self$1.detect(i,t))};if(t&&t.sampleSize)return n=fs$4.openSync(e,"r"),sample=Buffer.allocUnsafe(t.sampleSize),void fs$4.read(n,sample,0,t.sampleSize,null,function(e){i(e,sample)});fs$4.readFile(e,i)},detectFileSync=function(e,t){if(t&&t.sampleSize){var r=fs$4.openSync(e,"r"),n=Buffer.allocUnsafe(t.sampleSize);return fs$4.readSync(r,n,0,t.sampleSize),fs$4.closeSync(r),self$1.detect(n,t)}return self$1.detect(fs$4.readFileSync(e),t)},detectAll=function(e,t){return"object"!=typeof t&&(t={}),t.returnAllMatches=!0,self$1.detect(e,t)},detectFileAll=function(e,t,r){"function"==typeof t&&(r=t,t=void 0),"object"!=typeof t&&(t={}),t.returnAllMatches=!0,self$1.detectFile(e,t,r)},detectFileAllSync=function(e,t){return"object"!=typeof t&&(t={}),t.returnAllMatches=!0,self$1.detectFileSync(e,t)},chardet={detect:detect,detectFile:detectFile,detectFileSync:detectFileSync,detectAll:detectAll,detectFileAll:detectFileAll,detectFileAllSync:detectFileAllSync},Buffer$1=buffer$1.Buffer,safer={};for(key in buffer$1)buffer$1.hasOwnProperty(key)&&"SlowBuffer"!==key&&"Buffer"!==key&&(safer[key]=buffer$1[key]);var Safer=safer.Buffer={};for(key in Buffer$1)Buffer$1.hasOwnProperty(key)&&"allocUnsafe"!==key&&"allocUnsafeSlow"!==key&&(Safer[key]=Buffer$1[key]);if(safer.Buffer.prototype=Buffer$1.prototype,Safer.from&&Safer.from!==Uint8Array.from||(Safer.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return Buffer$1(e,t,r)}),Safer.alloc||(Safer.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=Buffer$1(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!safer.kStringMaxLength)try{safer.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}safer.constants||(safer.constants={MAX_LENGTH:safer.kMaxLength},safer.kStringMaxLength&&(safer.constants.MAX_STRING_LENGTH=safer.kStringMaxLength));var safer_1=safer,BOMChar="\ufeff",PrependBOM=PrependBOMWrapper;function PrependBOMWrapper(e,t){this.encoder=e,this.addBOM=!0}PrependBOMWrapper.prototype.write=function(e){return this.addBOM&&(e=BOMChar+e,this.addBOM=!1),this.encoder.write(e)},PrependBOMWrapper.prototype.end=function(){return this.encoder.end()};var StripBOM=StripBOMWrapper;function StripBOMWrapper(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}StripBOMWrapper.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t?t:(t[0]===BOMChar&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,t)},StripBOMWrapper.prototype.end=function(){return this.decoder.end()};var bomHandling={PrependBOM:PrependBOM,StripBOM:StripBOM},Buffer$2=safer_1.Buffer,internal={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:InternalCodec};function InternalCodec(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=InternalEncoderBase64:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=InternalEncoderCesu8,""!==Buffer$2.from("eda0bdedb2a9","hex").toString()&&(this.decoder=InternalDecoderCesu8,this.defaultCharUnicode=t.defaultCharUnicode))}InternalCodec.prototype.encoder=InternalEncoder,InternalCodec.prototype.decoder=InternalDecoder;var StringDecoder=string_decoder.StringDecoder;function InternalDecoder(e,t){StringDecoder.call(this,t.enc)}function InternalEncoder(e,t){this.enc=t.enc}function InternalEncoderBase64(e,t){this.prevStr=""}function InternalEncoderCesu8(e,t){}function InternalDecoderCesu8(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}StringDecoder.prototype.end||(StringDecoder.prototype.end=function(){}),InternalDecoder.prototype=StringDecoder.prototype,InternalEncoder.prototype.write=function(e){return Buffer$2.from(e,this.enc)},InternalEncoder.prototype.end=function(){},InternalEncoderBase64.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),Buffer$2.from(e,"base64")},InternalEncoderBase64.prototype.end=function(){return Buffer$2.from(this.prevStr,"base64")},InternalEncoderCesu8.prototype.write=function(e){for(var t=Buffer$2.alloc(3*e.length),r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=192+(i>>>6),t[r++]=128+(63&i)):(t[r++]=224+(i>>>12),t[r++]=128+(i>>>6&63),t[r++]=128+(63&i))}return t.slice(0,r)},InternalEncoderCesu8.prototype.end=function(){},InternalDecoderCesu8.prototype.write=function(e){for(var t=this.acc,r=this.contBytes,n=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];128!=(192&s)?(r>0&&(i+=this.defaultCharUnicode,r=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,r=1,n=1):s<240?(t=15&s,r=2,n=1):i+=this.defaultCharUnicode):r>0?(t=t<<6|63&s,n++,0===--r&&(i+=2===n&&t<128&&t>0?this.defaultCharUnicode:3===n&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=r,this.accBytes=n,i},InternalDecoderCesu8.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e};var Buffer$3=safer_1.Buffer,utf16be=Utf16BECodec;function Utf16BECodec(){}function Utf16BEEncoder(){}function Utf16BEDecoder(){this.overflowByte=-1}Utf16BECodec.prototype.encoder=Utf16BEEncoder,Utf16BECodec.prototype.decoder=Utf16BEDecoder,Utf16BECodec.prototype.bomAware=!0,Utf16BEEncoder.prototype.write=function(e){for(var t=Buffer$3.from(e,"ucs2"),r=0;r<t.length;r+=2){var n=t[r];t[r]=t[r+1],t[r+1]=n}return t},Utf16BEEncoder.prototype.end=function(){},Utf16BEDecoder.prototype.write=function(e){if(0==e.length)return"";var t=Buffer$3.alloc(e.length+1),r=0,n=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,r=1,n=2);r<e.length-1;r+=2,n+=2)t[n]=e[r+1],t[n+1]=e[r];return this.overflowByte=r==e.length-1?e[e.length-1]:-1,t.slice(0,n).toString("ucs2")},Utf16BEDecoder.prototype.end=function(){};var utf16_1=Utf16Codec;function Utf16Codec(e,t){this.iconv=t}function Utf16Encoder(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function Utf16Decoder(e,t){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=e||{},this.iconv=t.iconv}function detectEncoding(e,t){var r=t||"utf-16le";if(e.length>=2)if(254==e[0]&&255==e[1])r="utf-16be";else if(255==e[0]&&254==e[1])r="utf-16le";else{for(var n=0,i=0,o=Math.min(e.length-e.length%2,64),s=0;s<o;s+=2)0===e[s]&&0!==e[s+1]&&i++,0!==e[s]&&0===e[s+1]&&n++;i>n?r="utf-16be":i<n&&(r="utf-16le")}return r}Utf16Codec.prototype.encoder=Utf16Encoder,Utf16Codec.prototype.decoder=Utf16Decoder,Utf16Encoder.prototype.write=function(e){return this.encoder.write(e)},Utf16Encoder.prototype.end=function(){return this.encoder.end()},Utf16Decoder.prototype.write=function(e){if(!this.decoder){if(this.initialBytes.push(e),this.initialBytesLen+=e.length,this.initialBytesLen<16)return"";var t=detectEncoding(e=Buffer$3.concat(this.initialBytes),this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(e)},Utf16Decoder.prototype.end=function(){if(!this.decoder){var e=Buffer$3.concat(this.initialBytes),t=detectEncoding(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);var r=this.decoder.write(e),n=this.decoder.end();return n?r+n:r}return this.decoder.end()};var utf16={utf16be:utf16be,utf16:utf16_1},Buffer$4=safer_1.Buffer,utf7_1=Utf7Codec,unicode11utf7="utf7";function Utf7Codec(e,t){this.iconv=t}Utf7Codec.prototype.encoder=Utf7Encoder,Utf7Codec.prototype.decoder=Utf7Decoder,Utf7Codec.prototype.bomAware=!0;var nonDirectChars=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function Utf7Encoder(e,t){this.iconv=t.iconv}function Utf7Decoder(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}Utf7Encoder.prototype.write=function(e){return Buffer$4.from(e.replace(nonDirectChars,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},Utf7Encoder.prototype.end=function(){};for(var base64Regex=/[A-Za-z0-9\/+]/,base64Chars=[],i=0;i<256;i++)base64Chars[i]=base64Regex.test(String.fromCharCode(i));var plusChar="+".charCodeAt(0),minusChar="-".charCodeAt(0),andChar="&".charCodeAt(0);Utf7Decoder.prototype.write=function(e){for(var t="",r=0,n=this.inBase64,i=this.base64Accum,o=0;o<e.length;o++)if(n){if(!base64Chars[e[o]]){if(o==r&&e[o]==minusChar)t+="+";else{var s=i+e.slice(r,o).toString();t+=this.iconv.decode(Buffer$4.from(s,"base64"),"utf16-be")}e[o]!=minusChar&&o--,r=o+1,n=!1,i=""}}else e[o]==plusChar&&(t+=this.iconv.decode(e.slice(r,o),"ascii"),r=o+1,n=!0);if(n){var u=(s=i+e.slice(r).toString()).length-s.length%8;i=s.slice(u),s=s.slice(0,u),t+=this.iconv.decode(Buffer$4.from(s,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=n,this.base64Accum=i,t},Utf7Decoder.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(Buffer$4.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e};var utf7imap=Utf7IMAPCodec;function Utf7IMAPCodec(e,t){this.iconv=t}function Utf7IMAPEncoder(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=Buffer$4.alloc(6),this.base64AccumIdx=0}function Utf7IMAPDecoder(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}Utf7IMAPCodec.prototype.encoder=Utf7IMAPEncoder,Utf7IMAPCodec.prototype.decoder=Utf7IMAPDecoder,Utf7IMAPCodec.prototype.bomAware=!0,Utf7IMAPEncoder.prototype.write=function(e){for(var t=this.inBase64,r=this.base64Accum,n=this.base64AccumIdx,i=Buffer$4.alloc(5*e.length+10),o=0,s=0;s<e.length;s++){var u=e.charCodeAt(s);32<=u&&u<=126?(t&&(n>0&&(o+=i.write(r.slice(0,n).toString("base64").replace(/\//g,",").replace(/=+$/,""),o),n=0),i[o++]=minusChar,t=!1),t||(i[o++]=u,u===andChar&&(i[o++]=minusChar))):(t||(i[o++]=andChar,t=!0),t&&(r[n++]=u>>8,r[n++]=255&u,n==r.length&&(o+=i.write(r.toString("base64").replace(/\//g,","),o),n=0)))}return this.inBase64=t,this.base64AccumIdx=n,i.slice(0,o)},Utf7IMAPEncoder.prototype.end=function(){var e=Buffer$4.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=minusChar,this.inBase64=!1),e.slice(0,t)};var base64IMAPChars=base64Chars.slice();base64IMAPChars[",".charCodeAt(0)]=!0,Utf7IMAPDecoder.prototype.write=function(e){for(var t="",r=0,n=this.inBase64,i=this.base64Accum,o=0;o<e.length;o++)if(n){if(!base64IMAPChars[e[o]]){if(o==r&&e[o]==minusChar)t+="&";else{var s=i+e.slice(r,o).toString().replace(/,/g,"/");t+=this.iconv.decode(Buffer$4.from(s,"base64"),"utf16-be")}e[o]!=minusChar&&o--,r=o+1,n=!1,i=""}}else e[o]==andChar&&(t+=this.iconv.decode(e.slice(r,o),"ascii"),r=o+1,n=!0);if(n){var u=(s=i+e.slice(r).toString().replace(/,/g,"/")).length-s.length%8;i=s.slice(u),s=s.slice(0,u),t+=this.iconv.decode(Buffer$4.from(s,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=n,this.base64Accum=i,t},Utf7IMAPDecoder.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(Buffer$4.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e};var utf7={utf7:utf7_1,unicode11utf7:unicode11utf7,utf7imap:utf7imap},Buffer$5=safer_1.Buffer,_sbcs=SBCSCodec;function SBCSCodec(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var r="",n=0;n<128;n++)r+=String.fromCharCode(n);e.chars=r+e.chars}this.decodeBuf=Buffer$5.from(e.chars,"ucs2");var i=Buffer$5.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(n=0;n<e.chars.length;n++)i[e.chars.charCodeAt(n)]=n;this.encodeBuf=i}function SBCSEncoder(e,t){this.encodeBuf=t.encodeBuf}function SBCSDecoder(e,t){this.decodeBuf=t.decodeBuf}SBCSCodec.prototype.encoder=SBCSEncoder,SBCSCodec.prototype.decoder=SBCSDecoder,SBCSEncoder.prototype.write=function(e){for(var t=Buffer$5.alloc(e.length),r=0;r<e.length;r++)t[r]=this.encodeBuf[e.charCodeAt(r)];return t},SBCSEncoder.prototype.end=function(){},SBCSDecoder.prototype.write=function(e){for(var t=this.decodeBuf,r=Buffer$5.alloc(2*e.length),n=0,i=0,o=0;o<e.length;o++)n=2*e[o],r[i=2*o]=t[n],r[i+1]=t[n+1];return r.toString("ucs2")},SBCSDecoder.prototype.end=function(){};for(var sbcsCodec={_sbcs:_sbcs},sbcsData={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"},sbcsDataGenerated={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}},Buffer$6=safer_1.Buffer,_dbcs=DBCSCodec,UNASSIGNED=-1,GB18030_CODE=-2,SEQ_START=-10,NODE_START=-1e3,UNASSIGNED_NODE=new Array(256),DEF_CHAR=-1,i$1=0;i$1<256;i$1++)UNASSIGNED_NODE[i$1]=UNASSIGNED;function DBCSCodec(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var r=e.table();this.decodeTables=[],this.decodeTables[0]=UNASSIGNED_NODE.slice(0),this.decodeTableSeq=[];for(var n=0;n<r.length;n++)this._addDecodeChunk(r[n]);this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var i={};if(e.encodeSkipVals)for(n=0;n<e.encodeSkipVals.length;n++){var o=e.encodeSkipVals[n];if("number"==typeof o)i[o]=!0;else for(var s=o.from;s<=o.to;s++)i[s]=!0}if(this._fillEncodeTable(0,0,i),e.encodeAdd)for(var u in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,u)&&this._setEncodeChar(u.charCodeAt(0),e.encodeAdd[u]);if(this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===UNASSIGNED&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===UNASSIGNED&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof e.gb18030){this.gb18030=e.gb18030();var a=this.decodeTables.length,c=this.decodeTables[a]=UNASSIGNED_NODE.slice(0),l=this.decodeTables.length,f=this.decodeTables[l]=UNASSIGNED_NODE.slice(0);for(n=129;n<=254;n++){var h=NODE_START-this.decodeTables[0][n],p=this.decodeTables[h];for(s=48;s<=57;s++)p[s]=NODE_START-a}for(n=129;n<=254;n++)c[n]=NODE_START-l;for(n=48;n<=57;n++)f[n]=GB18030_CODE}}function DBCSEncoder(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function DBCSDecoder(e,t){this.nodeIdx=0,this.prevBuf=Buffer$6.alloc(0),this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function findIdx(e,t){if(e[0]>t)return-1;for(var r=0,n=e.length;r<n-1;){var i=r+Math.floor((n-r+1)/2);e[i]<=t?r=i:n=i}return r}DBCSCodec.prototype.encoder=DBCSEncoder,DBCSCodec.prototype.decoder=DBCSDecoder,DBCSCodec.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>=8)t.push(255&e);0==t.length&&t.push(0);for(var r=this.decodeTables[0],n=t.length-1;n>0;n--){var i=r[t[n]];if(i==UNASSIGNED)r[t[n]]=NODE_START-this.decodeTables.length,this.decodeTables.push(r=UNASSIGNED_NODE.slice(0));else{if(!(i<=NODE_START))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));r=this.decodeTables[NODE_START-i]}}return r},DBCSCodec.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),r=this._getDecodeTrieNode(t);t&=255;for(var n=1;n<e.length;n++){var i=e[n];if("string"==typeof i)for(var o=0;o<i.length;){var s=i.charCodeAt(o++);if(55296<=s&&s<56320){var u=i.charCodeAt(o++);if(!(56320<=u&&u<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);r[t++]=65536+1024*(s-55296)+(u-56320)}else if(4080<s&&s<=4095){for(var a=4095-s+2,c=[],l=0;l<a;l++)c.push(i.charCodeAt(o++));r[t++]=SEQ_START-this.decodeTableSeq.length,this.decodeTableSeq.push(c)}else r[t++]=s}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0]);var f=r[t-1]+1;for(o=0;o<i;o++)r[t++]=f++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},DBCSCodec.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=UNASSIGNED_NODE.slice(0)),this.encodeTable[t]},DBCSCodec.prototype._setEncodeChar=function(e,t){var r=this._getEncodeBucket(e),n=255&e;r[n]<=SEQ_START?this.encodeTableSeq[SEQ_START-r[n]][DEF_CHAR]=t:r[n]==UNASSIGNED&&(r[n]=t)},DBCSCodec.prototype._setEncodeSequence=function(e,t){var r,n=e[0],i=this._getEncodeBucket(n),o=255&n;i[o]<=SEQ_START?r=this.encodeTableSeq[SEQ_START-i[o]]:(r={},i[o]!==UNASSIGNED&&(r[DEF_CHAR]=i[o]),i[o]=SEQ_START-this.encodeTableSeq.length,this.encodeTableSeq.push(r));for(var s=1;s<e.length-1;s++){var u=r[n];"object"==typeof u?r=u:(r=r[n]={},void 0!==u&&(r[DEF_CHAR]=u))}r[n=e[e.length-1]]=t},DBCSCodec.prototype._fillEncodeTable=function(e,t,r){for(var n=this.decodeTables[e],i=0;i<256;i++){var o=n[i],s=t+i;r[s]||(o>=0?this._setEncodeChar(o,s):o<=NODE_START?this._fillEncodeTable(NODE_START-o,s<<8,r):o<=SEQ_START&&this._setEncodeSequence(this.decodeTableSeq[SEQ_START-o],s))}},DBCSEncoder.prototype.write=function(e){for(var t=Buffer$6.alloc(e.length*(this.gb18030?4:3)),r=this.leadSurrogate,n=this.seqObj,i=-1,o=0,s=0;;){if(-1===i){if(o==e.length)break;var u=e.charCodeAt(o++)}else{u=i;i=-1}if(55296<=u&&u<57344)if(u<56320){if(-1===r){r=u;continue}r=u,u=UNASSIGNED}else-1!==r?(u=65536+1024*(r-55296)+(u-56320),r=-1):u=UNASSIGNED;else-1!==r&&(i=u,u=UNASSIGNED,r=-1);var a=UNASSIGNED;if(void 0!==n&&u!=UNASSIGNED){var c=n[u];if("object"==typeof c){n=c;continue}"number"==typeof c?a=c:null==c&&void 0!==(c=n[DEF_CHAR])&&(a=c,i=u),n=void 0}else if(u>=0){var l=this.encodeTable[u>>8];if(void 0!==l&&(a=l[255&u]),a<=SEQ_START){n=this.encodeTableSeq[SEQ_START-a];continue}if(a==UNASSIGNED&&this.gb18030){var f=findIdx(this.gb18030.uChars,u);if(-1!=f){a=this.gb18030.gbChars[f]+(u-this.gb18030.uChars[f]);t[s++]=129+Math.floor(a/12600),a%=12600,t[s++]=48+Math.floor(a/1260),a%=1260,t[s++]=129+Math.floor(a/10),a%=10,t[s++]=48+a;continue}}}a===UNASSIGNED&&(a=this.defaultCharSingleByte),a<256?t[s++]=a:a<65536?(t[s++]=a>>8,t[s++]=255&a):(t[s++]=a>>16,t[s++]=a>>8&255,t[s++]=255&a)}return this.seqObj=n,this.leadSurrogate=r,t.slice(0,s)},DBCSEncoder.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=Buffer$6.alloc(10),t=0;if(this.seqObj){var r=this.seqObj[DEF_CHAR];void 0!==r&&(r<256?e[t++]=r:(e[t++]=r>>8,e[t++]=255&r)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},DBCSEncoder.prototype.findIdx=findIdx,DBCSDecoder.prototype.write=function(e){var t=Buffer$6.alloc(2*e.length),r=this.nodeIdx,n=this.prevBuf,i=this.prevBuf.length,o=-this.prevBuf.length;i>0&&(n=Buffer$6.concat([n,e.slice(0,10)]));for(var s=0,u=0;s<e.length;s++){var a,c=s>=0?e[s]:n[s+i];if((a=this.decodeTables[r][c])>=0);else if(a===UNASSIGNED)s=o,a=this.defaultCharUnicode.charCodeAt(0);else if(a===GB18030_CODE){var l=o>=0?e.slice(o,s+1):n.slice(o+i,s+1+i),f=12600*(l[0]-129)+1260*(l[1]-48)+10*(l[2]-129)+(l[3]-48),h=findIdx(this.gb18030.gbChars,f);a=this.gb18030.uChars[h]+f-this.gb18030.gbChars[h]}else{if(a<=NODE_START){r=NODE_START-a;continue}if(!(a<=SEQ_START))throw new Error("iconv-lite internal error: invalid decoding table value "+a+" at "+r+"/"+c);for(var p=this.decodeTableSeq[SEQ_START-a],d=0;d<p.length-1;d++)a=p[d],t[u++]=255&a,t[u++]=a>>8;a=p[p.length-1]}if(a>65535){a-=65536;var b=55296+Math.floor(a/1024);t[u++]=255&b,t[u++]=b>>8,a=56320+a%1024}t[u++]=255&a,t[u++]=a>>8,r=0,o=s+1}return this.nodeIdx=r,this.prevBuf=o>=0?e.slice(o):n.slice(o+i),t.slice(0,u).toString("ucs2")},DBCSDecoder.prototype.end=function(){for(var e="";this.prevBuf.length>0;){e+=this.defaultCharUnicode;var t=this.prevBuf.slice(1);this.prevBuf=Buffer$6.alloc(0),this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.nodeIdx=0,e};var dbcsCodec={_dbcs:_dbcs},shiftjis=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]],shiftjis$1=Object.freeze({default:shiftjis}),eucjp=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]],eucjp$1=Object.freeze({default:eucjp}),cp936=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]],cp936$1=Object.freeze({default:cp936}),gbkAdded=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]],gbkAdded$1=Object.freeze({default:gbkAdded});const uChars=[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars=[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3];var gb18030Ranges={uChars:uChars,gbChars:gbChars},gb18030Ranges$1=Object.freeze({uChars:uChars,gbChars:gbChars,default:gb18030Ranges}),cp949=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]],cp949$1=Object.freeze({default:cp949}),cp950=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]],cp950$1=Object.freeze({default:cp950}),big5Added=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]],big5Added$1=Object.freeze({default:big5Added}),require$$0=getCjsExportFromNamespace(shiftjis$1),require$$1=getCjsExportFromNamespace(eucjp$1),require$$2=getCjsExportFromNamespace(cp936$1),require$$3=getCjsExportFromNamespace(gbkAdded$1),require$$4=getCjsExportFromNamespace(gb18030Ranges$1),require$$5=getCjsExportFromNamespace(cp949$1),require$$6=getCjsExportFromNamespace(cp950$1),require$$7=getCjsExportFromNamespace(big5Added$1),dbcsData={shiftjis:{type:"_dbcs",table:function(){return require$$0},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return require$$1},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return require$$2}},gbk:{type:"_dbcs",table:function(){return require$$2.concat(require$$3)}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return require$$2.concat(require$$3)},gb18030:function(){return require$$4},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return require$$5}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return require$$6}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return require$$6.concat(require$$7)},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"},encodings=createCommonjsModule(function(e,t){for(var r=[internal,utf16,utf7,sbcsCodec,sbcsData,sbcsDataGenerated,dbcsCodec,dbcsData],n=0;n<r.length;n++){e=r[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}}),Buffer$7=buffer$1.Buffer,Transform=stream.Transform,streams=function(e){e.encodeStream=function(t,r){return new IconvLiteEncoderStream(e.getEncoder(t,r),r)},e.decodeStream=function(t,r){return new IconvLiteDecoderStream(e.getDecoder(t,r),r)},e.supportsStreams=!0,e.IconvLiteEncoderStream=IconvLiteEncoderStream,e.IconvLiteDecoderStream=IconvLiteDecoderStream,e._collect=IconvLiteDecoderStream.prototype.collect};function IconvLiteEncoderStream(e,t){this.conv=e,(t=t||{}).decodeStrings=!1,Transform.call(this,t)}function IconvLiteDecoderStream(e,t){this.conv=e,(t=t||{}).encoding=this.encoding="utf8",Transform.call(this,t)}IconvLiteEncoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteEncoderStream}}),IconvLiteEncoderStream.prototype._transform=function(e,t,r){if("string"!=typeof e)return r(new Error("Iconv encoding stream needs strings as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n),r()}catch(e){r(e)}},IconvLiteEncoderStream.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},IconvLiteEncoderStream.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",function(e){t.push(e)}),this.on("end",function(){e(null,Buffer$7.concat(t))}),this},IconvLiteDecoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteDecoderStream}}),IconvLiteDecoderStream.prototype._transform=function(e,t,r){if(!Buffer$7.isBuffer(e))return r(new Error("Iconv decoding stream needs buffers as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n,this.encoding),r()}catch(e){r(e)}},IconvLiteDecoderStream.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},IconvLiteDecoderStream.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",function(e){t+=e}),this.on("end",function(){e(null,t)}),this};var Buffer$8=buffer$1.Buffer,extendNode=function(e){var t=void 0;e.supportsNodeEncodingsExtension=!(Buffer$8.from||new Buffer$8(0)instanceof Uint8Array),e.extendNodeEncodings=function(){if(!t){if(t={},!e.supportsNodeEncodingsExtension)return console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),void console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");var r={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};Buffer$8.isNativeEncoding=function(e){return e&&r[e.toLowerCase()]};var n=buffer$1.SlowBuffer;if(t.SlowBufferToString=n.prototype.toString,n.prototype.toString=function(r,n,i){return r=String(r||"utf8").toLowerCase(),Buffer$8.isNativeEncoding(r)?t.SlowBufferToString.call(this,r,n,i):(void 0===n&&(n=0),void 0===i&&(i=this.length),e.decode(this.slice(n,i),r))},t.SlowBufferWrite=n.prototype.write,n.prototype.write=function(r,n,i,o){if(isFinite(n))isFinite(i)||(o=i,i=void 0);else{var s=o;o=n,n=i,i=s}n=+n||0;var u=this.length-n;if(i?(i=+i)>u&&(i=u):i=u,o=String(o||"utf8").toLowerCase(),Buffer$8.isNativeEncoding(o))return t.SlowBufferWrite.call(this,r,n,i,o);if(r.length>0&&(i<0||n<0))throw new RangeError("attempt to write beyond buffer bounds");var a=e.encode(r,o);return a.length<i&&(i=a.length),a.copy(this,n,0,i),i},t.BufferIsEncoding=Buffer$8.isEncoding,Buffer$8.isEncoding=function(t){return Buffer$8.isNativeEncoding(t)||e.encodingExists(t)},t.BufferByteLength=Buffer$8.byteLength,Buffer$8.byteLength=n.byteLength=function(r,n){return n=String(n||"utf8").toLowerCase(),Buffer$8.isNativeEncoding(n)?t.BufferByteLength.call(this,r,n):e.encode(r,n).length},t.BufferToString=Buffer$8.prototype.toString,Buffer$8.prototype.toString=function(r,n,i){return r=String(r||"utf8").toLowerCase(),Buffer$8.isNativeEncoding(r)?t.BufferToString.call(this,r,n,i):(void 0===n&&(n=0),void 0===i&&(i=this.length),e.decode(this.slice(n,i),r))},t.BufferWrite=Buffer$8.prototype.write,Buffer$8.prototype.write=function(r,n,i,o){var s=n,u=i,a=o;if(isFinite(n))isFinite(i)||(o=i,i=void 0);else{var c=o;o=n,n=i,i=c}if(o=String(o||"utf8").toLowerCase(),Buffer$8.isNativeEncoding(o))return t.BufferWrite.call(this,r,s,u,a);n=+n||0;var l=this.length-n;if(i?(i=+i)>l&&(i=l):i=l,r.length>0&&(i<0||n<0))throw new RangeError("attempt to write beyond buffer bounds");var f=e.encode(r,o);return f.length<i&&(i=f.length),f.copy(this,n,0,i),i},e.supportsStreams){var i=stream.Readable;t.ReadableSetEncoding=i.prototype.setEncoding,i.prototype.setEncoding=function(t,r){this._readableState.decoder=e.getDecoder(t,r),this._readableState.encoding=t},i.prototype.collect=e._collect}}},e.undoExtendNodeEncodings=function(){if(e.supportsNodeEncodingsExtension){if(!t)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete Buffer$8.isNativeEncoding;var r=buffer$1.SlowBuffer;if(r.prototype.toString=t.SlowBufferToString,r.prototype.write=t.SlowBufferWrite,Buffer$8.isEncoding=t.BufferIsEncoding,Buffer$8.byteLength=t.BufferByteLength,Buffer$8.prototype.toString=t.BufferToString,Buffer$8.prototype.write=t.BufferWrite,e.supportsStreams){var n=stream.Readable;n.prototype.setEncoding=t.ReadableSetEncoding,delete n.prototype.collect}t=void 0}}},lib=createCommonjsModule(function(e){var t=safer_1.Buffer,r=e.exports;r.encodings=null,r.defaultCharUnicode="",r.defaultCharSingleByte="?",r.encode=function(e,n,i){e=""+(e||"");var o=r.getEncoder(n,i),s=o.write(e),u=o.end();return u&&u.length>0?t.concat([s,u]):s},r.decode=function(e,n,i){"string"==typeof e&&(r.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),r.skipDecodeWarning=!0),e=t.from(""+(e||""),"binary"));var o=r.getDecoder(n,i),s=o.write(e),u=o.end();return u?s+u:s},r.encodingExists=function(e){try{return r.getCodec(e),!0}catch(e){return!1}},r.toEncoding=r.encode,r.fromEncoding=r.decode,r._codecDataCache={},r.getCodec=function(e){r.encodings||(r.encodings=encodings);for(var t=r._canonicalizeEncoding(e),n={};;){var i=r._codecDataCache[t];if(i)return i;var o=r.encodings[t];switch(typeof o){case"string":t=o;break;case"object":for(var s in o)n[s]=o[s];n.encodingName||(n.encodingName=t),t=o.type;break;case"function":return n.encodingName||(n.encodingName=t),i=new o(n,r),r._codecDataCache[n.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},r._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},r.getEncoder=function(e,t){var n=r.getCodec(e),i=new n.encoder(t,n);return n.bomAware&&t&&t.addBOM&&(i=new bomHandling.PrependBOM(i,t)),i},r.getDecoder=function(e,t){var n=r.getCodec(e),i=new n.decoder(t,n);return!n.bomAware||t&&!1===t.stripBOM||(i=new bomHandling.StripBOM(i,t)),i};var n="undefined"!=typeof process&&process.versions&&process.versions.node;if(n){var i=n.split(".").map(Number);(i[0]>0||i[1]>=10)&&streams(r),extendNode(r)}}),isWindows="win32"===process.platform,trailingSlashRe=isWindows?/[^:]\\$/:/.\/$/,osTmpdir=function(){var e;return e=isWindows?process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp":process.env.TMPDIR||process.env.TMP||process.env.TEMP||"/tmp",trailingSlashRe.test(e)&&(e=e.slice(0,-1)),e};const _c=process.binding("constants"),tmpDir=osTmpdir(),RANDOM_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",TEMPLATE_PATTERN=/XXXXXX/,DEFAULT_TRIES=3,CREATE_FLAGS=(_c.O_CREAT||_c.fs.O_CREAT)|(_c.O_EXCL||_c.fs.O_EXCL)|(_c.O_RDWR||_c.fs.O_RDWR),EBADF=_c.EBADF||_c.os.errno.EBADF,ENOENT=_c.ENOENT||_c.os.errno.ENOENT,DIR_MODE=448,FILE_MODE=384,_removeObjects=[];var _gracefulCleanup=!1,_uncaughtException=!1;function _randomChars(e){var t=[],r=null;try{r=crypto.randomBytes(e)}catch(t){r=crypto.pseudoRandomBytes(e)}for(var n=0;n<e;n++)t.push(RANDOM_CHARS[r[n]%RANDOM_CHARS.length]);return t.join("")}function _isUndefined(e){return void 0===e}function _parseArguments(e,t){return"function"==typeof e?[t||{},e]:_isUndefined(e)?[{},t]:[e,t]}function _generateTmpName(e){if(e.name)return path$b.join(e.dir||tmpDir,e.name);if(e.template)return e.template.replace(TEMPLATE_PATTERN,_randomChars(6));const t=[e.prefix||"tmp-",process.pid,_randomChars(12),e.postfix||""].join("");return path$b.join(e.dir||tmpDir,t)}function tmpName(e,t){var r=_parseArguments(e,t),n=r[0],i=r[1],o=n.name?1:n.tries||DEFAULT_TRIES;return isNaN(o)||o<0?i(new Error("Invalid tries")):n.template&&!n.template.match(TEMPLATE_PATTERN)?i(new Error("Invalid template provided")):void function e(){const t=_generateTmpName(n);fs$4.stat(t,function(r){if(!r)return o-- >0?e():i(new Error("Could not get a unique tmp filename, max tries reached "+t));i(null,t)})}()}function tmpNameSync(e){var t=_parseArguments(e)[0],r=t.name?1:t.tries||DEFAULT_TRIES;if(isNaN(r)||r<0)throw new Error("Invalid tries");if(t.template&&!t.template.match(TEMPLATE_PATTERN))throw new Error("Invalid template provided");do{const e=_generateTmpName(t);try{fs$4.statSync(e)}catch(t){return e}}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function file(e,t){var r=_parseArguments(e,t),n=r[0],i=r[1];n.postfix=_isUndefined(n.postfix)?".tmp":n.postfix,tmpName(n,function(e,t){if(e)return i(e);fs$4.open(t,CREATE_FLAGS,n.mode||FILE_MODE,function(e,r){return e?i(e):n.discardDescriptor?fs$4.close(r,function(e){if(e){try{fs$4.unlinkSync(t)}catch(t){isENOENT(t)||(e=t)}return i(e)}i(null,t,void 0,_prepareTmpFileRemoveCallback(t,-1,n))}):n.detachDescriptor?i(null,t,r,_prepareTmpFileRemoveCallback(t,-1,n)):void i(null,t,r,_prepareTmpFileRemoveCallback(t,r,n))})})}function fileSync(e){var t=_parseArguments(e)[0];t.postfix=t.postfix||".tmp";const r=t.discardDescriptor||t.detachDescriptor,n=tmpNameSync(t);var i=fs$4.openSync(n,CREATE_FLAGS,t.mode||FILE_MODE);return t.discardDescriptor&&(fs$4.closeSync(i),i=void 0),{name:n,fd:i,removeCallback:_prepareTmpFileRemoveCallback(n,r?-1:i,t)}}function _rmdirRecursiveSync(e){const t=[e];do{for(var r=t.pop(),n=!1,i=fs$4.readdirSync(r),o=0,s=i.length;o<s;o++){var u=path$b.join(r,i[o]);fs$4.lstatSync(u).isDirectory()?(n||(n=!0,t.push(r)),t.push(u)):fs$4.unlinkSync(u)}n||fs$4.rmdirSync(r)}while(0!==t.length)}function dir(e,t){var r=_parseArguments(e,t),n=r[0],i=r[1];tmpName(n,function(e,t){if(e)return i(e);fs$4.mkdir(t,n.mode||DIR_MODE,function(e){if(e)return i(e);i(null,t,_prepareTmpDirRemoveCallback(t,n))})})}function dirSync(e){var t=_parseArguments(e)[0];const r=tmpNameSync(t);return fs$4.mkdirSync(r,t.mode||DIR_MODE),{name:r,removeCallback:_prepareTmpDirRemoveCallback(r,t)}}function _prepareTmpFileRemoveCallback(e,t,r){const n=_prepareRemoveCallback(function(e){try{0<=e[0]&&fs$4.closeSync(e[0])}catch(e){if(!isEBADF(e)&&!isENOENT(e))throw e}try{fs$4.unlinkSync(e[1])}catch(e){if(!isENOENT(e))throw e}},[t,e]);return r.keep||_removeObjects.unshift(n),n}function _prepareTmpDirRemoveCallback(e,t){const r=_prepareRemoveCallback(t.unsafeCleanup?_rmdirRecursiveSync:fs$4.rmdirSync.bind(fs$4),e);return t.keep||_removeObjects.unshift(r),r}function _prepareRemoveCallback(e,t){var r=!1;return function n(i){if(!r){const i=_removeObjects.indexOf(n);i>=0&&_removeObjects.splice(i,1),r=!0,e(t)}i&&i(null)}}function _garbageCollector(){if(!_uncaughtException||_gracefulCleanup)for(;_removeObjects.length;)try{_removeObjects[0].call(null)}catch(e){}}function isEBADF(e){return isExpectedError(e,-EBADF,"EBADF")}function isENOENT(e){return isExpectedError(e,-ENOENT,"ENOENT")}function isExpectedError(e,t,r){return e.code==t||e.code==r}function setGracefulCleanup(){_gracefulCleanup=!0}const version=process.versions.node.split(".").map(function(e){return parseInt(e,10)});0===version[0]&&(version[1]<9||9===version[1]&&version[2]<5)&&process.addListener("uncaughtException",function(e){throw _uncaughtException=!0,_garbageCollector(),e}),process.addListener("exit",function(e){e&&(_uncaughtException=!0),_garbageCollector()});var tmpdir=tmpDir,dir_1=dir,dirSync_1=dirSync,file_1=file,fileSync_1=fileSync,tmpName_1=tmpName,tmpNameSync_1=tmpNameSync,setGracefulCleanup_1=setGracefulCleanup,tmp={tmpdir:tmpdir,dir:dir_1,dirSync:dirSync_1,file:file_1,fileSync:fileSync_1,tmpName:tmpName_1,tmpNameSync:tmpNameSync_1,setGracefulCleanup:setGracefulCleanup_1},CreateFileError_1=createCommonjsModule(function(e,t){var r=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var r=this.constructor,n=e.call(this,"Failed to create temporary file for editor")||this;n.originalError=t;var i=r.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=r.prototype,n}return r(t,e),t}(Error);t.CreateFileError=n});unwrapExports(CreateFileError_1);var CreateFileError_2=CreateFileError_1.CreateFileError,LaunchEditorError_1=createCommonjsModule(function(e,t){var r=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var r=this.constructor,n=e.call(this,"Failed launch editor")||this;n.originalError=t;var i=r.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=r.prototype,n}return r(t,e),t}(Error);t.LaunchEditorError=n});unwrapExports(LaunchEditorError_1);var LaunchEditorError_2=LaunchEditorError_1.LaunchEditorError,ReadFileError_1=createCommonjsModule(function(e,t){var r=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var r=this.constructor,n=e.call(this,"Failed to read temporary file")||this;n.originalError=t;var i=r.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=r.prototype,n}return r(t,e),t}(Error);t.ReadFileError=n});unwrapExports(ReadFileError_1);var ReadFileError_2=ReadFileError_1.ReadFileError,RemoveFileError_1=createCommonjsModule(function(e,t){var r=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var r=this.constructor,n=e.call(this,"Failed to cleanup temporary file")||this;n.originalError=t;var i=r.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=r.prototype,n}return r(t,e),t}(Error);t.RemoveFileError=n});unwrapExports(RemoveFileError_1);var RemoveFileError_2=RemoveFileError_1.RemoveFileError,main$1=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CreateFileError=CreateFileError_1.CreateFileError,t.LaunchEditorError=LaunchEditorError_1.LaunchEditorError,t.ReadFileError=ReadFileError_1.ReadFileError,t.RemoveFileError=RemoveFileError_1.RemoveFileError,t.edit=function(e,t){void 0===e&&(e="");var n=new r(e,t);return n.run(),n.cleanup(),n.text},t.editAsync=function(e,t,n){void 0===e&&(e="");var i=new r(e,n);i.runAsync(function(e,r){if(e)setImmediate(t,e,null);else try{i.cleanup(),setImmediate(t,null,r)}catch(e){setImmediate(t,e,null)}})};var r=function(){function e(e,t){void 0===e&&(e=""),this.text="",this.fileOptions={},this.text=e,t&&(this.fileOptions=t),this.determineEditor(),this.createTemporaryFile()}return e.splitStringBySpace=function(e){for(var t=[],r="",n=0;n<e.length;n++){var i=e[n];n>0&&" "===i&&"\\"!==e[n-1]&&r.length>0?(t.push(r),r=""):r+=i}return r.length>0&&t.push(r),t},Object.defineProperty(e.prototype,"temp_file",{get:function(){return console.log("DEPRECATED: temp_file. Use tempFile moving forward."),this.tempFile},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last_exit_status",{get:function(){return console.log("DEPRECATED: last_exit_status. Use lastExitStatus moving forward."),this.lastExitStatus},enumerable:!0,configurable:!0}),e.prototype.run=function(){return this.launchEditor(),this.readTemporaryFile(),this.text},e.prototype.runAsync=function(e){var t=this;try{this.launchEditorAsync(function(){try{t.readTemporaryFile(),setImmediate(e,null,t.text)}catch(t){setImmediate(e,t,null)}})}catch(t){setImmediate(e,t,null)}},e.prototype.cleanup=function(){this.removeTemporaryFile()},e.prototype.determineEditor=function(){var t=process.env.VISUAL?process.env.VISUAL:process.env.EDITOR?process.env.EDITOR:/^win/.test(process.platform)?"notepad":"vim",r=e.splitStringBySpace(t).map(function(e){return e.replace("\\ "," ")}),n=r.shift();this.editor={args:r,bin:n}},e.prototype.createTemporaryFile=function(){try{this.tempFile=tmp.tmpNameSync(this.fileOptions);var e={encoding:"utf8"};this.fileOptions.hasOwnProperty("mode")&&(e.mode=this.fileOptions.mode),fs$4.writeFileSync(this.tempFile,this.text,e)}catch(e){throw new CreateFileError_1.CreateFileError(e)}},e.prototype.readTemporaryFile=function(){try{var e=fs$4.readFileSync(this.tempFile);if(0===e.length)this.text="";else{var t=chardet.detect(e).toString();lib.encodingExists(t)||(t="utf8"),this.text=lib.decode(e,t)}}catch(e){throw new ReadFileError_1.ReadFileError(e)}},e.prototype.removeTemporaryFile=function(){try{fs$4.unlinkSync(this.tempFile)}catch(e){throw new RemoveFileError_1.RemoveFileError(e)}},e.prototype.launchEditor=function(){try{var e=child_process.spawnSync(this.editor.bin,this.editor.args.concat([this.tempFile]),{stdio:"inherit"});this.lastExitStatus=e.status}catch(e){throw new LaunchEditorError_1.LaunchEditorError(e)}},e.prototype.launchEditorAsync=function(e){var t=this;try{child_process.spawn(this.editor.bin,this.editor.args.concat([this.tempFile]),{stdio:"inherit"}).on("exit",function(r){t.lastExitStatus=r,setImmediate(e)})}catch(e){throw new LaunchEditorError_1.LaunchEditorError(e)}},e}();t.ExternalEditor=r});unwrapExports(main$1);var main_1=main$1.CreateFileError,main_2=main$1.LaunchEditorError,main_3=main$1.ReadFileError,main_4=main$1.RemoveFileError,main_5=main$1.edit,main_6=main$1.editAsync,main_7=main$1.ExternalEditor,editAsync=main$1.editAsync,{Subject:Subject$1}=_esm5;class EditorPrompt extends base{_run(e){this.done=e,this.editorResult=new Subject$1;var t=events(this.rl);this.lineSubscription=t.line.subscribe(this.startExternalEditor.bind(this));var r=this.handleSubmitEvents(this.editorResult);return r.success.forEach(this.onEnd.bind(this)),r.error.forEach(this.onError.bind(this)),this.currentText=this.opt.default,this.opt.default=null,this.render(),this}render(e){var t="",r=this.getQuestion();"answered"===this.status?r+=chalk.dim("Received"):r+=chalk.dim("Press <enter> to launch your preferred editor."),e&&(t=chalk.red(">> ")+e),this.screen.render(r,t)}startExternalEditor(){this.rl.pause(),editAsync(this.currentText,this.endExternalEditor.bind(this))}endExternalEditor(e,t){this.rl.resume(),e?this.editorResult.error(e):this.editorResult.next(t)}onEnd(e){this.editorResult.unsubscribe(),this.lineSubscription.unsubscribe(),this.answer=e.value,this.status="answered",this.render(),this.screen.done(),this.done(this.answer)}onError(e){this.render(e.isValid)}}var editor=EditorPrompt,inquirer_1=createCommonjsModule(function(e){var t=e.exports;t.prompts={},t.Separator=separator,t.ui={BottomBar:bottomBar,Prompt:prompt},t.createPromptModule=function(e){var r=function(n){var i=new t.ui.Prompt(r.prompts,e),o=i.run(n);return o.ui=i,o};return r.prompts={},r.registerPrompt=function(e,t){return r.prompts[e]=t,this},r.restoreDefaultPrompts=function(){this.registerPrompt("list",list),this.registerPrompt("input",input),this.registerPrompt("number",number),this.registerPrompt("confirm",confirm),this.registerPrompt("rawlist",rawlist),this.registerPrompt("expand",expand$1),this.registerPrompt("checkbox",checkbox),this.registerPrompt("password",password),this.registerPrompt("editor",editor)},r.restoreDefaultPrompts(),r},t.prompt=t.createPromptModule(),t.registerPrompt=function(e,r){t.prompt.registerPrompt(e,r)},t.restoreDefaultPrompts=function(){t.prompt.restoreDefaultPrompts()}});const version$1="0.2.0",chalk$1=require("chalk"),MOTIVATIONS=["I believe in you.","You are almost there.","Have a hug. <3","Clam's are good.","It's okay. You've made progress!","At least it's something.","A lot of progress, you've made.","Don't worry. I got your back.","You are doing good. Keep it up!","You can do this.","Sometimes, I just want to eat clams.","Uh oh. That doesn't look good.","Are you okay?","Have you seen any clams around here?","Found any clams lately?","I like clams.","I got 3 words: Giant. Clams.","I hope this is helpful.","It's better to get an error than to get nothing.","I wonder if clams dream about me.","Clams?","Take a break. You deserve it.","Come back in a few minutes. I know you can do it.","Come back in a couple. I'll be here.","That was unexpected.","That's weird.","Where did that come from?","We can share the clam.","I think...I am a clam-lover.","Who's jgs?"];function getMotivation(e=-1){return(e<0||e>=MOTIVATIONS.length)&&(e=Math.floor(Math.random()*MOTIVATIONS.length)),MOTIVATIONS[e]}function say(e="..."){console.log(chalk$1.green(otter(e)))}function otter(e){return`\n     .-"""-.\n    /      o\\     ${e}\n   |    o   0).-.\n   |       .-;(_/     .-.\n    \\     /  /)).---._|  \`\\   ,\n     '.  '  /((       \`'-./ _/|\n       \\  .'  )        .-.;\`  /\n        '.             |  \`\\-'\n          '._        -'    /\n    jgs      \`\`""--\`------\`\n    `}const TITLE="Progress Auditor",DIVIDER_LENGTH=5*TITLE.length;function println(...e){console.log(printToString(...e))}function printToString(...e){return e.join(" ")}function printDivider(e="nu"){println(chalk.gray(e.repeat(Math.floor(DIVIDER_LENGTH/e.length))+e.substring(0,DIVIDER_LENGTH%e.length)))}function rightAlignString(...e){return printToString(...e).padStart(DIVIDER_LENGTH," ")}function printTitle(){const e=chalk.green(nodeFiglet.textSync(TITLE,{font:"Big"}));printDivider(),println(e),println(rightAlignString("Version",version$1)),printDivider()}function printlnError(e){printError(e,0),println()}function printError(e,t=0){if(Array.isArray(e))for(const r of e)"=>"===r?t+=1:"<="===r?t-=1:printError(r,t);else println("  ".repeat(t),chalk.red((t<=0?"+":"-")+" "+e))}async function askYesNo(e){return(await inquirer_1.prompt([{name:"value",type:"confirm",message:e}])).value}async function askChoose(e,...t){const r=[];for(const e of t)r.push({name:e[0],value:e[1],short:e[1]});return(await inquirer_1.prompt([{name:"value",type:"list",message:e,choices:r}])).value}function printMotivation(){say(getMotivation())}const inquirer=require("inquirer"),chalk$2=require("chalk");async function run(e,t,r=!0){console.log(chalk$2.gray("Starting Review Maker...")),console.log("Welcome to Review Maker");let n=null;for(;!n;){let i;if(r?(r=!1,i={value:!0}):i=await inquirer.prompt([{message:"Would you like to make a new review?",name:"value",type:"confirm"}]),!i.value)break;if(n=await makeReview(e,t)){const e=0,t=1,r=2,o=3,s=4,u=getReviewerByType(n[o]),a=u.REVIEW_PARAM_TYPES,c=u.REVIEW_DESC;console.log(chalk$2.cyan(">"),"Review",chalk$2.green(`${n[o]} ( ${a.join(", ")} )`,chalk$2.gray(`- ${c}`))),console.log(chalk$2.cyan(">"),"Comment",chalk$2.cyan(`${n[r]}`)),console.log(chalk$2.cyan(">"),"Date",chalk$2.cyan(`${n[t]}`)),console.log(chalk$2.cyan(">"),"ID",chalk$2.cyan(`${n[e]}`)),console.log(chalk$2.cyan(">"),"Parameters");for(let e=0;e<n[s].length;++e)console.log(chalk$2.cyan(">"),`- ${a[e]} = '${chalk$2.cyan(n[s][e])}'`);(i=await inquirer.prompt([{message:"Is this correct?",name:"value",type:"confirm"}])).value||(n=null)}else console.log(chalk$2.red("...trying again..."))}return n&&console.log("Good review! Hope to see you soon!"),console.log(chalk$2.gray("...Stopping Review Maker")),n}async function makeReview(e,t){let r,n,i=stringHash(uuid()),o=new Date(Date.now()),s="";return(r=await chooseReviewType())&&(n=await chooseReviewParameters(e,t,r))?((await inquirer.prompt([{message:"Do you want to add a comment?",name:"value",type:"confirm"}])).value&&(s=(await inquirer.prompt([{message:"What is the comment? (By default, it is blank.)",name:"value",type:"input"}])).value),[i,o,s,r,n]):null}async function chooseReviewType(e,t){const r=getReviewers();let n;if("__custom"===(n=await inquirer.prompt([{message:"What type of review do you want to make?",name:"value",type:"list",choices:e=>{const t=[];for(const e of r)t.push({name:`${e.REVIEW_TYPE} - ${e.REVIEW_DESC}`,value:e.REVIEW_TYPE,short:e.REVIEW_TYPE});return t.push({name:"...or a custom type?",value:"__custom",short:"(custom type)"}),t.push({name:"...or go back?",value:"__cancel",short:"(go back)"}),t}}])).value)n=await inquirer.prompt([{message:"What is the custom review type?",name:"value",type:"input",validate:e=>0===e.length?"Cannot be empty.":e.trim().length<e.length?"Cannot have leading or trailing whitespace.":/^\S*$/.test(e)?"Cannot have whitespaces.":!reviewTypes.has(e)||"Review type already exists."}]);else if("__cancel"===n.value)return null;return await confirmLoop(n.value,async e=>{const t=getReviewerByType(e),r=t.REVIEW_PARAM_TYPES,n=t.REVIEW_DESC;return console.log(chalk$2.cyan(">"),chalk$2.green(`${e} ( ${r.join(", ")} )`,chalk$2.gray(`- ${n}`))),(await inquirer.prompt([{name:"value",message:"Is this correct?",type:"confirm"}])).value},async()=>await chooseReviewType())}async function chooseReviewParameter(e,t,r){let n;return(n=await inquirer.prompt([{message:`What is the value for '${r}'?`,name:"value",type:"input"}])).value}async function chooseReviewParameters(e,t,r){const n=[],i=getReviewerByType(r).REVIEW_PARAM_TYPES;for(const r of i){const i=await chooseReviewParameter(e,t,r);if(null===i)break;n.push(i)}return n}async function confirmLoop(e,t,r){return await t(e)?e:await r()}const inquirer$1=require("inquirer"),chalk$3=require("chalk");async function chooseError(e){const t=[];for(const r of e)t.push({name:`${chalk$3.gray(r.id+": ")} ${r.message}`,value:r.id,short:r.id+": "+r.message});return(await inquirer$1.prompt([{message:"Which error do you want to review?",name:"value",type:"list",choices:t,pageSize:20}])).value}async function run$1(e,t,r){let n=[],i=e.getErrors();for(;i.length>0;){if(printlnError(`Found ${i.length} errors. :(`),!await askYesNo("Do you want to review them now?")){println(`Skipping errors...${Math.random()>.6?chalk$3.gray("...(I trust you)..."):""}`),i.length=0;break}{const o=await chooseError(i),s=e.getErrorByID(o);switch(printError(`${chalk$3.gray(s.id+":")} ${s.message}`),println(`${chalk$3.green(`${chalk$3.bold(`= Solutions: ${"=".repeat(67)}`)}\n => ${s.options.join("\n => ")}\n${chalk$3.bold("=".repeat(80))}`)}`),await askChoose("Continue to review?",["Yes, review it now.","yes"],["Yes, but with more info.","more"],["No, go back.","no"])){case"more":println(`${chalk$3.yellow(`${chalk$3.bold(`= More Info: ${"=".repeat(67)}`)}\n | ${s.more.join("\n")}\n${"=".repeat(80)}`)}`);case"yes":break;case"no":default:continue}const u=await run(e,t,!0);u&&n.push(u),await clearDatabase$5(e);for(const t of n)addReview(e,...t);await r(e,t),i=e.getErrors()}}return i.length<=0&&println("Hooray! No errors!"),n}const DATABASE_EXPORTS={Assignment:Assignment,AssignmentDatabase:AssignmentDatabase,Database:Database,Review:Review,ReviewDatabase:ReviewDatabase,Schedule:Schedule,Submission:Submission,SubmissionDatabase:SubmissionDatabase,User:User,UserDatabase:UserDatabase,Vacation:Vacation,VacationDatabase:VacationDatabase},PIPELINE_EXPORTS={ConfigLoader:ConfigLoader,DatabaseSetup:DatabaseSetup,ParserLoader:ParserLoader,AssignerLoader:AssignerLoader,InputProcessor:InputProcessor,AssignmentProcessor:AssignmentProcessor,ReviewProcessor:ReviewProcessor,PostProcessor:PostProcessor,OutputProcessor:OutputProcessor},UTIL_EXPORTS={DateUtil:DateUtil,FieldParser:FieldParser,FileUtil:FileUtil,MathHelper:MathHelper,ParseUtil:ParseUtil,TableBuilder:TableBuilder},LIB_EXPORTS={DebugInfoOutput:DebugInfoOutput,AssignmentGenerator:AssignmentGenerator},Library={...DATABASE_EXPORTS,...PIPELINE_EXPORTS,...UTIL_EXPORTS,...LIB_EXPORTS},path$a=require("path");async function run$2(){printTitle(),println();const e=await prepareConfig();global.Library=Library;const t=await prepareDatabase(e);await prepareScheme(t,e),await runLoaders(t,e),await runProcessors(t,e);const r=await run$1(t,e,runProcessors);if(r.length>0)if(await askYesNo("Do you want to save the new reviews?")){const n=[["Review ID","Date","Comment","Type","Param[0]","Param[1]","Param[2]","Param[3]","..."]];for(const e of r){const t=[];t.push(e[0]),t.push(e[1]),t.push(e[2]),t.push(e[3]),t.push(...e[4]),n.push(t)}await writeTableToCSV(path$a.resolve(e.outputPath,`reviews-${t.currentDate.toISOString()}.csv`),n)}else println("Dumping reviews...");await runOutputs(t,e),console.log("......Stopped."),console.log()}async function prepareConfig(){const e=require("path");println("Running from directory:",e.resolve(".")),println(),println("Getting config file...");let t=null;process.argv.length>2?e.resolve(e.dirname(process.execPath),process.argv[2]):(println("...no config specified..."),println("...getting default config..."),t="./config.json"),println(`Loading config file '${t}'...`);let r=null;try{r=await loadConfig(t)}catch(e){printlnError(e),process.exit(1)}return println(),r}async function prepareDatabase(e){println("Setting up the database...");let t=null;try{t=await setupDatabase$5(e)}catch(e){printlnError(e),process.exit(1)}return println(),println("Date:",t.currentDate.toDateString()),println(),t}async function prepareScheme(e,t){const r=t.scheme;if(!r)throw new Error("Missing 'scheme' name from config.");switch(r){case SCHEME_NAME:setup();break;default:throw new Error(`Unknown scheme by name '${r}'.`)}}async function runLoaders(e,t){println("Loading parsers...");try{await loadParsers(e,t)}catch(e){printlnError(e),process.exit(1)}println("Loading assigners...");try{await loadAssigners(e,t)}catch(e){printlnError(e),process.exit(1)}println()}async function runProcessors(e,t){println("...Processing..."),println("Parsing databases...");try{await processInputs(e,t)}catch(e){printlnError(e),process.exit(1)}println("Assigning assignments...");try{await processAssignments(e,t)}catch(e){printlnError(e),process.exit(1)}println("Evaluating reviews..."),console.log("......Looking over our work...");try{await processReviews(e,t)}catch(e){printlnError(e),process.exit(1)}println("Resolving database..."),console.log("......Helping you fix a few things...");try{await processDatabase(e,t)}catch(e){printlnError(e),process.exit(1)}println()}async function runOutputs(e,t){console.log("...Outputting..."),e.getErrors().length>0?(console.log("......Oh no! We found some errors..."),console.log("......Finding debug info for you..."),await output$2(e,t.outputPath,t),console.log("...Failed!"),console.log(),printMotivation(),console.log()):(console.log("......Hooray! Everything is as expected..."),t.debug&&(console.log("......Finding debug info for you..."),await output$2(e,t.outputPath,t)),await processOutput(e,t),console.log("...Success!"))}run$2();
